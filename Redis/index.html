<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10 åˆ†é’Ÿå¿«é€Ÿå…¥é—¨ Redis handbook</title>
    <meta name="description" content="æµ‹è¯•make testæŠ¥é”™">
    <meta name="keywords" content="handbook,ç¬”è®°,æœé›†,æ‘˜å½•,å®è·µ,tutorial">
    <link rel="stylesheet" type="text/css" href="../css/main.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/tocbot.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/media.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/sidebar.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/copy.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/demo-preview.css?v=1.26.6">
    <link rel="icon" href="data:image/png;base64,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" type="image/x-icon">
    <script src="../js/copy.js?v=1.26.6"></script>
    <script src="../js/dark-mode.js?v=1.26.6"></script>
    <script src="../js/markdown-style.js?v=1.26.6"></script>
  </head>
  <body id="idoctotop"><a href="#idoctotop" class="gototop">top</a>
    <header class="header">
      <article class="inner warpper"><a class="logo" href="../index.html"><img alt="handbook logo" src="data:image/png;base64,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">
<span class="title">handbook</span></a>
        <div class="content">
          <ul class="menu">
            <li><a href="../index.html" target="" class="">Home</a></li>
            <li><a href="../awesome.html" target="" class="">Awesome</a></li>
            <li><a href="https://jaywcjlove.gitee.io/handbook/" target="__blank" class="">ğŸ‡¨ğŸ‡³</a></li>
          </ul><a href="https://github.com/jaywcjlove/handbook" target="_blank" rel="noopener noreferrer" title="Github" name="Github" class="github"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg></a>
          <dark-mode permanent=""></dark-mode>
        </div>
      </article>
    </header>
    <div class="warpper-content warpper sidebar">
      <div class="sidebar-border">
        <aside class="sidebar" role="navigation">
          <div>
            <label>JavaScript</label>
            <a href="../JavaScript/RegExp.html" class="">ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼éšè®°</a>
            <a href="../JavaScript/SDK.html" class="">å¼€æº JS æ’ä»¶å’Œåº“</a>
            <a href="../JavaScript/nodejs.html" class="">NodeJS åŒ…æœé›†</a>
            <a href="../JavaScript/æ€ç»´å¯¼å›¾æ¥å­¦ä¹  Javascript åŸºç¡€çŸ¥è¯†.html" class="">åŸºç¡€çŸ¥è¯†(æ€ç»´å¯¼å›¾)</a>
            <label>Redis</label>
            <a href="index.html" class="active">å¿«é€Ÿå…¥é—¨ Redis</a>
            <label>Android</label>
            <a href="../Android/react-native.html" class="">React Native Android ç¯å¢ƒæ­å»º</a>
            <label>CentOS</label>
            <a href="../CentOS/CentOS.html" class="">CentOS å¸¸ç”¨å‘½ä»¤</a>
            <a href="../CentOS/CentOS7ç½‘ç»œé…ç½®.html" class="">CentOS7 ç½‘ç»œé…ç½®</a>
            <a href="../CentOS/å¸¸ç”¨åŸºç¡€å‘½ä»¤.html" class="">å¸¸ç”¨åŸºç¡€å‘½ä»¤</a>
            <a href="../CentOS/CentOS7å®‰è£…KVMè™šæ‹Ÿæœºè¯¦è§£.html" class="">å®‰è£… KVM è™šæ‹Ÿæœºè¯¦è§£</a>
            <a href="../CentOS/CentOS7æ›´æ¢yumè½¯ä»¶é•œåƒæº.html" class="">æ›´æ¢ yum è½¯ä»¶é•œåƒæº</a>
            <a href="../CentOS/CentOS7å®‰è£…ç»´æŠ¤Gitlab.html" class="">å®‰è£…ç»´æŠ¤ GitLab</a>
            <a href="../CentOS/CentOS7å®‰è£…é…ç½®vsftpæ­å»ºFTP.html" class="">å®‰è£…æ­å»º FTP</a>
            <a href="../CentOS/Centos7å®‰è£…ç¼–è¯‘Node.html" class="">Centos7å®‰è£…ç¼–è¯‘Node</a>
            <a href="../CentOS/Elasticsearchå®‰è£…ç»´æŠ¤.html" class="">Elasticsearchå®‰è£…ç»´æŠ¤</a>
            <a href="../CentOS/Frpå†…ç½‘ç©¿é€æ­å»º.html" class="">Frpå†…ç½‘ç©¿é€æ­å»º</a>
            <a href="../CentOS/Linuxæ·»åŠ ã€åˆ é™¤ç”¨æˆ·å’Œç”¨æˆ·ç»„.html" class="">Linuxæ·»åŠ ã€åˆ é™¤ç”¨æˆ·å’Œç”¨æˆ·ç»„</a>
            <a href="../CentOS/Macä½¿ç”¨NFSè¿æ¥CentOSä¸Šçš„å…±äº«æ–‡ä»¶å¤¹.html" class="">Macä½¿ç”¨NFSè¿æ¥CentOSä¸Šçš„å…±äº«æ–‡ä»¶å¤¹</a>
            <a href="../CentOS/Macä¸‹åˆ¶ä½œCentOS7å¯åŠ¨ç›˜.html" class="">Macä¸‹åˆ¶ä½œCentOS7å¯åŠ¨ç›˜</a>
            <a href="../CentOS/Python2å‡çº§åˆ°Python3.html" class="">Python2 å‡çº§åˆ° Python3</a>
            <a href="../CentOS/Rocket.Chat.html" class="">Rocket.Chat</a>
            <a href="../CentOS/Rubyå®‰è£….html" class="">Ruby å®‰è£…</a>
            <a href="../CentOS/samba.html" class="">Samba å®‰è£…</a>
            <a href="../CentOS/åœ¨5åˆ†é’Ÿå†…æ­å»ºä¼ä¸šå†…éƒ¨ç§æœ‰npmä»“åº“.html" class="">æ­å»ºç§æœ‰ npm ä»“åº“</a>
            <a href="../CentOS/Java.html" class="">å®‰è£… Java</a>
            <a href="../CentOS/éƒ¨ç½²Seafileæ­å»ºè‡ªå·±çš„ç½‘ç›˜.html" class="">éƒ¨ç½² Seafile æ­å»ºè‡ªå·±çš„ç½‘ç›˜</a>
            <a href="../CentOS/æ­å»ºShadowsocksæœåŠ¡å™¨.html" class="">æ­å»º Shadowsocks æœåŠ¡å™¨</a>
            <a href="../CentOS/éƒ¨ç½²YApiå¹³å°.html" class="">éƒ¨ç½² YApi å¹³å°</a>
            <a href="../CentOS/openstack.html" class="">æ­å»º OpenStack</a>
            <a href="../CentOS/pip.html" class="">å®‰è£… pip å·¥å…·</a>
            <a href="../CentOS/ä¿®æ”¹sshç«¯å£å·çš„æ–¹æ³•.html" class="">ä¿®æ”¹ ssh ç«¯å£å·çš„æ–¹æ³•</a>
            <a href="../CentOS/å°è¯•åœ¨CentOS7.2ä¸Šç¼–è¯‘å®‰è£…Swift.html" class="">åœ¨CentOS ä¸Šç¼–è¯‘å®‰è£… Swift</a>
            <a href="../CentOS/ä½¿ç”¨å…è´¹SSLè¯ä¹¦è®©ç½‘ç«™æ”¯æŒHTTPSè®¿é—®.html" class="">ä½¿ç”¨å…è´¹ SSL è¯ä¹¦æ”¯æŒ HTTPS è®¿é—®</a>
            <a href="../CentOS/svn.html" class="">å®‰è£…ä½¿ç”¨ svn</a>
            <a href="../CentOS/ç®¡ç†è¿œç¨‹ä¼šè¯screenå·¥å…·.html" class="">ç®¡ç†è¿œç¨‹ä¼šè¯screenå·¥å…·</a>
            <label>macOS</label>
            <a href="../macOS/åˆ›å»º macOS æ“ä½œç³»ç»Ÿçš„ App å›¾æ ‡æ–‡ä»¶ icons.html" class="">åˆ›å»º macOS æ“ä½œç³»ç»Ÿçš„ App å›¾æ ‡æ–‡ä»¶ icons</a>
            <label>å…¶å®ƒ</label>
            <a href="../other/weixin-public-account.html" class="">å…¬ä¼—è´¦å·æ¨è</a>
            <a href="../other/google.html" class="">è°·æ­Œ(Google)é•œåƒ</a>
            <a href="../other/ç¦»çº¿é¢„è§ˆå„ç§å‰ç«¯æ–‡æ¡£ç½‘ç«™.html" class="">ç¦»çº¿é¢„è§ˆå‰ç«¯æ–‡æ¡£</a>
            <a href="../other/é€šè¿‡ä»£ç†å·¥å…·æé«˜Github Cloneé€Ÿåº¦.html" class="">æé«˜ Github Clone é€Ÿåº¦</a>
            <a href="../other/github-oraganizations.html" class="">å›½å†…äº’è”ç½‘å…¬å¸çš„å¼€æºé¡¹ç›®æ±‡æ€»</a>
            <a href="../other/HTTP-status-codes.html" class="">å¸¸è§HTTP/FTPé”™è¯¯ä»£ç å¤§å…¨</a>
            <a href="../other/Lua5.3.html" class="">Lua 5.3 æ–‡æ¡£</a>
            <a href="../Shortcuts/Sketch.html" class="">Sketch è®¾è®¡è½¯ä»¶å¿«æ·é”®</a>
            <a href="../Shortcuts/bash.html" class="">å‘½ä»¤è¡Œå·¥å…·bashå¿«æ·é”®</a>
          </div>
        </aside>
      </div>
      <markdown-style>
        <h1 id="10-åˆ†é’Ÿå¿«é€Ÿå…¥é—¨-redis"><a aria-hidden="true" tabindex="-1" href="#10-åˆ†é’Ÿå¿«é€Ÿå…¥é—¨-redis" class="anchor"><span class="icon icon-link"></span></a>10 åˆ†é’Ÿå¿«é€Ÿå…¥é—¨ Redis</h1>
        <h2 id="rediså®‰è£…"><a aria-hidden="true" tabindex="-1" href="#rediså®‰è£…" class="anchor"><span class="icon icon-link"></span></a>Rediså®‰è£…</h2>
        <h3 id="å®˜æ–¹ç¼–è¯‘å®‰è£…"><a aria-hidden="true" tabindex="-1" href="#å®˜æ–¹ç¼–è¯‘å®‰è£…" class="anchor"><span class="icon icon-link"></span></a>å®˜æ–¹ç¼–è¯‘å®‰è£…</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">$ <span class="token function">wget</span> http://download.redis.io/releases/redis-4.0.0.tar.gz
</span><span class="code-line line-number" line="2">$ <span class="token function">tar</span> xzvf redis-4.0.0.tar.gz <span class="token parameter variable">-C</span> /usr/local/
</span><span class="code-line line-number" line="3">$ <span class="token builtin class-name">cd</span> /usr/local/redis-4.0.0
</span><span class="code-line line-number" line="4">$ <span class="token function">make</span>
</span><span class="code-line line-number" line="5">$ <span class="token function">make</span> <span class="token builtin class-name">test</span>
</span><span class="code-line line-number" line="6">$ <span class="token function">make</span> <span class="token function">install</span> 
</span><span class="code-line line-number" line="7"><span class="token comment"># ç¨‹åºä¼šè‡ªåŠ¨æ‰§è¡Œ:</span>
</span><span class="code-line line-number" line="8"><span class="token comment"># mkdir -p /usr/local/bin</span>
</span><span class="code-line line-number" line="9"><span class="token comment"># cp -pf redis-server /usr/local/bin</span>
</span><span class="code-line line-number" line="10"><span class="token comment"># cp -pf redis-benchmark /usr/local/bin</span>
</span><span class="code-line line-number" line="11"><span class="token comment"># cp -pf redis-cli /usr/local/bin</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># cp -pf redis-check-dump /usr/local/bin</span>
</span><span class="code-line line-number" line="13"><span class="token comment"># cp -pf redis-check-aof /usr/local/bin</span>
</span></code><input type="hidden" value="$ wget http://download.redis.io/releases/redis-4.0.0.tar.gz
$ tar xzvf redis-4.0.0.tar.gz -C /usr/local/
$ cd /usr/local/redis-4.0.0
$ make
$ make test
$ make install 
# ç¨‹åºä¼šè‡ªåŠ¨æ‰§è¡Œ:
# mkdir -p /usr/local/bin
# cp -pf redis-server /usr/local/bin
# cp -pf redis-benchmark /usr/local/bin
# cp -pf redis-cli /usr/local/bin
# cp -pf redis-check-dump /usr/local/bin
# cp -pf redis-check-aof /usr/local/bin
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æµ‹è¯•<code>make test</code>æŠ¥é”™</p>
        <pre><code class="code-highlight"><span class="code-line line-number" line="1">$ make test
</span><span class="code-line line-number" line="2">You need tcl 8.5 or newer in order to run the Redis test
</span><span class="code-line line-number" line="3">make: *** [test] Error 1
</span></code><input type="hidden" value="$ make test
You need tcl 8.5 or newer in order to run the Redis test
make: *** [test] Error 1
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>è¿™ä¸ªæ˜¯éœ€è¦å®‰è£…<code>tcl</code></p>
        <pre><code class="code-highlight"><span class="code-line line-number" line="1">wget http://downloads.sourceforge.net/tcl/tcl8.6.1-src.tar.gz  
</span><span class="code-line line-number" line="2">sudo tar xzvf tcl8.6.1-src.tar.gz  -C /usr/local/  
</span><span class="code-line line-number" line="3">cd  /usr/local/tcl8.6.1/unix/  
</span><span class="code-line line-number" line="4">sudo ./configure  
</span><span class="code-line line-number" line="5">sudo make  
</span><span class="code-line line-number" line="6">sudo make install   
</span></code><input type="hidden" value="wget http://downloads.sourceforge.net/tcl/tcl8.6.1-src.tar.gz  
sudo tar xzvf tcl8.6.1-src.tar.gz  -C /usr/local/  
cd  /usr/local/tcl8.6.1/unix/  
sudo ./configure  
sudo make  
sudo make install   
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="é€šè¿‡epelæºå®‰è£…"><a aria-hidden="true" tabindex="-1" href="#é€šè¿‡epelæºå®‰è£…" class="anchor"><span class="icon icon-link"></span></a>é€šè¿‡EPELæºå®‰è£…</h3>
        <p>æºå®‰è£…é—®é¢˜åœ¨äºä¸èƒ½å®‰è£…æœ€æ–°ï¼Œæˆ–è€…æŒ‡å®šRedisç‰ˆæœ¬ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">yum <span class="token parameter variable">--enablerepo</span><span class="token operator">=</span>epel <span class="token parameter variable">-y</span> <span class="token function">install</span> redis
</span></code><input type="hidden" value="yum --enablerepo=epel -y install redis
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¦‚æœæ²¡æœ‰å®‰è£…æºï¼Œé€šè¿‡ä¸‹é¢æ–¹å¼å®‰è£…æºã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">cd</span> /etc/yum.repos.d/
</span><span class="code-line line-number" line="2"><span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
</span></code><input type="hidden" value="cd /etc/yum.repos.d/
rpm -Uvh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="rediså‡çº§"><a aria-hidden="true" tabindex="-1" href="#rediså‡çº§" class="anchor"><span class="icon icon-link"></span></a>Rediså‡çº§</h3>
        <p>é¦–å…ˆï¼Œç¡®ä¿å®‰è£…äº†ä»¥ä¸‹reposï¼ŒEPELå’ŒREMIï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">sudo</span> <span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> <span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> http://rpms.remirepo.net/enterprise/remi-release-6.rpm
</span></code><input type="hidden" value="sudo rpm -Uvh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
sudo rpm -Uvh http://rpms.remirepo.net/enterprise/remi-release-6.rpm
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é€šè¿‡<code>--enablerepo=epel</code>å‚æ•°æŸ¥çœ‹æŒ‡å®šæºRedisç‰ˆæœ¬ï¼Œæ£€æŸ¥REMI repoä¸­çš„Redisç‰ˆæœ¬ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">yum <span class="token parameter variable">--enablerepo</span><span class="token operator">=</span>epel info redis
</span><span class="code-line line-number" line="2"><span class="token comment"># Loaded plugins: fastestmirror</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># Loading mirror speeds from cached hostfile</span>
</span><span class="code-line line-number" line="4"><span class="token comment">#  * base: centos.ustc.edu.cn</span>
</span><span class="code-line line-number" line="5"><span class="token comment">#  * epel: mirrors.tuna.tsinghua.edu.cn</span>
</span><span class="code-line line-number" line="6"><span class="token comment">#  * extras: centos.ustc.edu.cn</span>
</span><span class="code-line line-number" line="7"><span class="token comment">#  * updates: mirrors.zju.edu.cn</span>
</span><span class="code-line line-number" line="8"><span class="token comment"># Available Packages</span>
</span><span class="code-line line-number" line="9"><span class="token comment"># Name        : redis</span>
</span><span class="code-line line-number" line="10"><span class="token comment"># Arch        : x86_64</span>
</span><span class="code-line line-number" line="11"><span class="token comment"># Version     : 2.4.10</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># Release     : 1.el6</span>
</span><span class="code-line line-number" line="13"><span class="token comment"># Size        : 213 k</span>
</span><span class="code-line line-number" line="14"><span class="token comment"># Repo        : epel/x86_64</span>
</span><span class="code-line line-number" line="15"><span class="token comment"># Summary     : A persistent key-value database</span>
</span><span class="code-line line-number" line="16"><span class="token comment"># URL         : http://redis.io</span>
</span><span class="code-line line-number" line="17"><span class="token comment"># License     : BSD</span>
</span><span class="code-line line-number" line="18"><span class="token comment"># Description : Redis is an advanced key-value store. It is similar to memcached but the data</span>
</span><span class="code-line line-number" line="19"><span class="token comment">#             : set is not volatile, and values can be strings, exactly like in memcached, but</span>
</span><span class="code-line line-number" line="20"><span class="token comment">#             : also lists, sets, and ordered sets. All this data types can be manipulated with</span>
</span><span class="code-line line-number" line="21"><span class="token comment">#             : atomic operations to push/pop elements, add/remove elements, perform server</span>
</span><span class="code-line line-number" line="22"><span class="token comment">#             : side union, intersection, difference between sets, and so forth. Redis supports</span>
</span><span class="code-line line-number" line="23"><span class="token comment">#             : different kind of sorting abilities.</span>
</span></code><input type="hidden" value="yum --enablerepo=epel info redis
# Loaded plugins: fastestmirror
# Loading mirror speeds from cached hostfile
#  * base: centos.ustc.edu.cn
#  * epel: mirrors.tuna.tsinghua.edu.cn
#  * extras: centos.ustc.edu.cn
#  * updates: mirrors.zju.edu.cn
# Available Packages
# Name        : redis
# Arch        : x86_64
# Version     : 2.4.10
# Release     : 1.el6
# Size        : 213 k
# Repo        : epel/x86_64
# Summary     : A persistent key-value database
# URL         : http://redis.io
# License     : BSD
# Description : Redis is an advanced key-value store. It is similar to memcached but the data
#             : set is not volatile, and values can be strings, exactly like in memcached, but
#             : also lists, sets, and ordered sets. All this data types can be manipulated with
#             : atomic operations to push/pop elements, add/remove elements, perform server
#             : side union, intersection, difference between sets, and so forth. Redis supports
#             : different kind of sorting abilities.
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ç„¶åä»EPEL repoå®‰è£…ç›¸å…³çš„ä¾èµ–å…³ç³»ï¼ˆjemallocï¼‰ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">yum <span class="token parameter variable">--enablerepo</span><span class="token operator">=</span>epel <span class="token function">install</span> jemalloc
</span></code><input type="hidden" value="yum --enablerepo=epel install jemalloc
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>åœ¨å®‰è£…ä¹‹å‰ï¼Œæ‚¨åº”è¯¥åœæ­¢æ—§çš„Rediså®ˆæŠ¤è¿›ç¨‹ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">service</span> redis stop
</span></code><input type="hidden" value="service redis stop
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ç„¶åå®‰è£…æ›´æ–°ç‰ˆæœ¬çš„Redisï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">sudo</span> yum <span class="token parameter variable">--enablerepo</span><span class="token operator">=</span>remi <span class="token function">install</span> redis
</span></code><input type="hidden" value="sudo yum --enablerepo=remi install redis
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="æœåŠ¡ç®¡ç†"><a aria-hidden="true" tabindex="-1" href="#æœåŠ¡ç®¡ç†" class="anchor"><span class="icon icon-link"></span></a>æœåŠ¡ç®¡ç†</h2>
        <p>é‡æ–°å¯åŠ¨Rediså®ˆæŠ¤ç¨‹åºï¼Œå¹¶ä½¿å…¶é‡æ–°å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">sudo</span> <span class="token function">service</span> redis start
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> <span class="token function">chkconfig</span> redis on
</span></code><input type="hidden" value="sudo service redis start
sudo chkconfig redis on
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="åŸºæœ¬æœåŠ¡æ“ä½œ"><a aria-hidden="true" tabindex="-1" href="#åŸºæœ¬æœåŠ¡æ“ä½œ" class="anchor"><span class="icon icon-link"></span></a>åŸºæœ¬æœåŠ¡æ“ä½œ</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment">## å¯åŠ¨å¹¶åå°è¿è¡Œ</span>
</span><span class="code-line line-number" line="2">$ redis-server <span class="token operator">&#x26;</span> <span class="token function">nohup</span>
</span><span class="code-line line-number" line="3"><span class="token comment">## æŸ¥æ˜¯å¦å¯åŠ¨</span>
</span><span class="code-line line-number" line="4">$ redis-cli <span class="token function">ping</span>
</span><span class="code-line line-number" line="5"><span class="token comment">## å…³é—­å‘½ä»¤</span>
</span><span class="code-line line-number" line="6">$ redis-cli <span class="token function">shutdown</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¯åŠ¨</span>
</span><span class="code-line line-number" line="9">$ redis-cli start
</span><span class="code-line line-number" line="10"><span class="token comment"># å¯åŠ¨</span>
</span><span class="code-line line-number" line="11">$ <span class="token function">service</span> redis start
</span><span class="code-line line-number" line="12"><span class="token comment"># åœæ­¢</span>
</span><span class="code-line line-number" line="13">$ <span class="token function">service</span> redis stop
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¯åŠ¨</span>
</span><span class="code-line line-number" line="16">$ redis-cli <span class="token parameter variable">-p</span> <span class="token number">6380</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># æŒ‡å®šç«¯å£åå°å¯åŠ¨</span>
</span><span class="code-line line-number" line="19">$ redis-server <span class="token parameter variable">--port</span> <span class="token number">6380</span> <span class="token operator">&#x26;</span>
</span></code><input type="hidden" value="## å¯åŠ¨å¹¶åå°è¿è¡Œ
$ redis-server &#x26; nohup
## æŸ¥æ˜¯å¦å¯åŠ¨
$ redis-cli ping
## å…³é—­å‘½ä»¤
$ redis-cli shutdown

# å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¯åŠ¨
$ redis-cli start
# å¯åŠ¨
$ service redis start
# åœæ­¢
$ service redis stop

# å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¯åŠ¨
$ redis-cli -p 6380

# æŒ‡å®šç«¯å£åå°å¯åŠ¨
$ redis-server --port 6380 &#x26;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="æŸ¥çœ‹ç‰ˆæœ¬"><a aria-hidden="true" tabindex="-1" href="#æŸ¥çœ‹ç‰ˆæœ¬" class="anchor"><span class="icon icon-link"></span></a>æŸ¥çœ‹ç‰ˆæœ¬</h3>
        <p>æ£€æŸ¥å½“å‰å®‰è£…çš„Redisç‰ˆæœ¬ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æŸ¥çœ‹ Redis ç‰ˆæœ¬</span>
</span><span class="code-line line-number" line="2">$ redis-cli info <span class="token operator">|</span> <span class="token function">grep</span> redis_version
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># æŸ¥çœ‹ç«¯å£å·</span>
</span><span class="code-line line-number" line="5">$ redis-cli info <span class="token operator">|</span> <span class="token function">grep</span> tcp_port
</span></code><input type="hidden" value="# æŸ¥çœ‹ Redis ç‰ˆæœ¬
$ redis-cli info | grep redis_version

# æŸ¥çœ‹ç«¯å£å·
$ redis-cli info | grep tcp_port
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="æœåŠ¡ç®¡ç†-1"><a aria-hidden="true" tabindex="-1" href="#æœåŠ¡ç®¡ç†-1" class="anchor"><span class="icon icon-link"></span></a>æœåŠ¡ç®¡ç†</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">systemctl status redis <span class="token comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
</span><span class="code-line line-number" line="2">systemctl start redis <span class="token comment"># å¯åŠ¨ Redis</span>
</span><span class="code-line line-number" line="3">systemctl stop redis <span class="token comment"># å¯åŠ¨ Redis</span>
</span></code><input type="hidden" value="systemctl status redis # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl start redis # å¯åŠ¨ Redis
systemctl stop redis # å¯åŠ¨ Redis
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="å¼€æœºå¯åŠ¨"><a aria-hidden="true" tabindex="-1" href="#å¼€æœºå¯åŠ¨" class="anchor"><span class="icon icon-link"></span></a>å¼€æœºå¯åŠ¨</h3>
        <p>å¦‚æœä½ æ˜¯é€šè¿‡yumå®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹å¼å¼€æœºå¯åŠ¨ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">systemctl <span class="token builtin class-name">enable</span> redis.service
</span><span class="code-line line-number" line="2"><span class="token function">chkconfig</span> redis on
</span></code><input type="hidden" value="systemctl enable redis.service
chkconfig redis on
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¦‚æœä½ æ˜¯ç¼–è¯‘å®‰è£…å¯é€šè¿‡ä¸‹é¢æ–¹å¼è®¾ç½®å¼€æœºå¯åŠ¨</p>
        <p>æˆ‘ä»¬å°†åœ¨ Redis å®‰è£…ç›®å½•æ‰¾åˆ°<code>/usr/local/redis-4.0.0/utils</code>è¿™ä¸ªç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸­æœ‰ä¸ªæœ‰ä¸ªè„šæœ¬ <code>redis_init_script</code>ï¼Œå°†æ­¤è„šæœ¬æ‹·è´åˆ°<code>/etc/init.d</code>ç›®å½•ä¸‹ï¼Œå‘½åä¸º<code>redis</code>:</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">cp</span> /usr/local/redis-4.0.0/utils/redis_init_script /etc/init.d/redis
</span></code><input type="hidden" value="cp /usr/local/redis-4.0.0/utils/redis_init_script /etc/init.d/redis
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ‹·è´ä¸€ä¸‹<code>redis.conf</code> æ–‡ä»¶åˆ°<code>/etc/redis</code>ç›®å½•ä¸‹</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">cp</span> /usr/local/redis-4.0.0/redis.conf /etc/redis/6380.conf
</span></code><input type="hidden" value="cp /usr/local/redis-4.0.0/redis.conf /etc/redis/6380.conf
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é…ç½®æ–‡ä»¶<code>6380.conf</code>éœ€è¦æ›´æ”¹å‡ ä¸ªåœ°æ–¹</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æ˜¯å¦åœ¨åå°æ‰§è¡Œï¼Œyesï¼šåå°è¿è¡Œï¼›noï¼šä¸æ˜¯åå°è¿è¡Œï¼ˆè€ç‰ˆæœ¬é»˜è®¤ï¼‰</span>
</span><span class="code-line line-number" line="2">daemonize <span class="token function">yes</span>
</span></code><input type="hidden" value="# æ˜¯å¦åœ¨åå°æ‰§è¡Œï¼Œyesï¼šåå°è¿è¡Œï¼›noï¼šä¸æ˜¯åå°è¿è¡Œï¼ˆè€ç‰ˆæœ¬é»˜è®¤ï¼‰
daemonize yes
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ›´æ”¹æƒé™ï¼Œé€šè¿‡ <a href="https://jaywcjlove.github.io/linux-command/c/chkconfig.html">chkconfig</a> å‘½ä»¤æ£€æŸ¥ã€è®¾ç½®ç³»ç»ŸredisæœåŠ¡å¼€å¯</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">chmod</span> +x /etc/init.d/redis
</span><span class="code-line line-number" line="2"><span class="token function">chkconfig</span> redis on
</span></code><input type="hidden" value="chmod +x /etc/init.d/redis
chkconfig redis on
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¿…é¡»æŠŠä¸‹é¢ä¸¤è¡Œæ³¨é‡Šæ”¾åœ¨ <code>/etc/init.d/redis</code> æ–‡ä»¶å¤´éƒ¨ï¼Œä¸è®¾ç½®ä¼šæŠ¥ä¸æ”¯æŒçš„æç¤º <code>service redis does not support chkconfig</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># chkconfig:   2345 90 10</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># description:  redis is a persistent key-value database</span>
</span></code><input type="hidden" value="# chkconfig:   2345 90 10
# description:  redis is a persistent key-value database
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ä¸Šé¢çš„æ³¨é‡Šçš„æ„æ€æ˜¯ï¼ŒredisæœåŠ¡å¿…é¡»åœ¨è¿è¡Œçº§2ï¼Œ3ï¼Œ4ï¼Œ5ä¸‹è¢«å¯åŠ¨æˆ–å…³é—­ï¼Œå¯åŠ¨çš„ä¼˜å…ˆçº§æ˜¯90ï¼Œå…³é—­çš„ä¼˜å…ˆçº§æ˜¯10ã€‚</p>
        <p><strong>Redis å¯åŠ¨è­¦å‘Šé”™è¯¯è§£å†³</strong></p>
        <ol>
          <li>WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.</li>
        </ol>
        <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> <span class="token string">"vm.overcommit_memory=1"</span> <span class="token operator">></span> /etc/sysctl.conf  <span class="token comment"># æˆ– vi /etcsysctl.conf , ç„¶årebooté‡å¯æœºå™¨</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">echo</span> <span class="token number">1</span> <span class="token operator">></span> /proc/sys/vm/overcommit_memory  <span class="token comment"># ä¸éœ€è¦å¯æœºå™¨å°±ç”Ÿæ•ˆ</span>
</span></code><input type="hidden" value="echo &#x22;vm.overcommit_memory=1&#x22; > /etc/sysctl.conf  # æˆ– vi /etcsysctl.conf , ç„¶årebooté‡å¯æœºå™¨
echo 1 > /proc/sys/vm/overcommit_memory  # ä¸éœ€è¦å¯æœºå™¨å°±ç”Ÿæ•ˆ
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ol start="2">
          <li>WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.</li>
        </ol>
        <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> <span class="token number">511</span> <span class="token operator">></span> /proc/sys/net/core/somaxconn
</span></code><input type="hidden" value="echo 511 > /proc/sys/net/core/somaxconn
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="æ›´æ”¹é…ç½®"><a aria-hidden="true" tabindex="-1" href="#æ›´æ”¹é…ç½®" class="anchor"><span class="icon icon-link"></span></a>æ›´æ”¹é…ç½®</h2>
        <p>Redis çš„é…ç½®æ–‡ä»¶ä½äº Redis å®‰è£…ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º <code>redis.conf</code>ã€‚ä¸Šé¢å·²ç»å°†å®ƒæ‹·è´åˆ°<code>/etc/redis</code>ç›®å½•ä¸‹äº†ï¼Œé…ç½®æ–‡ä»¶åœ¨ <code>sudo vi /etc/redis/6380.conf</code> è¿™é‡Œå¯ä»¥ç¼–è¾‘</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/redis/6380.conf
</span></code><input type="hidden" value="sudo vi /etc/redis/6380.conf
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ä½ å¯ä»¥é€šè¿‡ CONFIG å‘½ä»¤æŸ¥çœ‹æˆ–è®¾ç½®é…ç½®é¡¹ã€‚é…ç½®è®¾ç½®å‘½ä»¤</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment">## è¿›å…¥redisè·å–</span>
</span><span class="code-line line-number" line="2"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> CONFIG GET CONFIG_SETTING_NAME
</span><span class="code-line line-number" line="3"><span class="token comment">## è¿›å…¥redisè®¾ç½®</span>
</span><span class="code-line line-number" line="4"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment">## è·å–æ‰€æœ‰é…ç½®</span>
</span><span class="code-line line-number" line="7"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> CONFIG GET *
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment">## è®¾ç½®é…ç½®å¼€å¯é€šçŸ¥åŠŸèƒ½</span>
</span><span class="code-line line-number" line="10">$ redis-cli config <span class="token builtin class-name">set</span> notify-keyspace-events KEA
</span></code><input type="hidden" value="## è¿›å…¥redisè·å–
127.0.0.1:6379> CONFIG GET CONFIG_SETTING_NAME
## è¿›å…¥redisè®¾ç½®
127.0.0.1:6379> CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE

## è·å–æ‰€æœ‰é…ç½®
127.0.0.1:6379> CONFIG GET *

## è®¾ç½®é…ç½®å¼€å¯é€šçŸ¥åŠŸèƒ½
$ redis-cli config set notify-keyspace-events KEA
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="è®¾ç½®è¯·æ±‚å¯†ç "><a aria-hidden="true" tabindex="-1" href="#è®¾ç½®è¯·æ±‚å¯†ç " class="anchor"><span class="icon icon-link"></span></a>è®¾ç½®è¯·æ±‚å¯†ç </h2>
        <p>æ‰“å¼€ <code>vim /etc/redis/6380.conf</code> é…ç½®æ–‡ä»¶ç¼–è¾‘å®ƒï¼Œæ›´æ”¹ä¸‹é¢ä¸¤é¡¹å†…å®¹ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># ...</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># requirepass foobared</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># æ›´æ”¹æˆä¸‹é¢å†…å®¹ï¼ŒæŠŠ foobared æ”¹ä¸ºä½ æƒ³è¦è®¾ç½®çš„å¯†ç </span>
</span><span class="code-line line-number" line="4">requirepass <span class="token number">111111</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># bind 127.0.0.1 å»æ‰ # æ³¨é‡Šå¹¶æ”¹ä¸º</span>
</span><span class="code-line line-number" line="7"><span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0
</span></code><input type="hidden" value="# ...
# requirepass foobared
# æ›´æ”¹æˆä¸‹é¢å†…å®¹ï¼ŒæŠŠ foobared æ”¹ä¸ºä½ æƒ³è¦è®¾ç½®çš„å¯†ç 
requirepass 111111

# bind 127.0.0.1 å»æ‰ # æ³¨é‡Šå¹¶æ”¹ä¸º
bind 0.0.0.0
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ›´æ”¹ä¸ºä¹‹åä½ å°±å¯ä»¥å¸¦å¯†ç è®¿é—®redisäº†ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">redis-cli <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6379</span> <span class="token parameter variable">-a</span> <span class="token number">111111</span>
</span></code><input type="hidden" value="redis-cli -h 127.0.0.1 -p 6379 -a 111111
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="ä¸»ä»æ¶æ„é…ç½®"><a aria-hidden="true" tabindex="-1" href="#ä¸»ä»æ¶æ„é…ç½®" class="anchor"><span class="icon icon-link"></span></a>ä¸»ä»æ¶æ„é…ç½®</h2>
        <p>å‡è®¾æœ‰ä¸¤å°æœåŠ¡å™¨ï¼Œä¸€å°åšä¸»ï¼Œä¸€å°åšä»</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">Redis ä¸»ä¿¡æ¯ï¼š
</span><span class="code-line line-number" line="2">  IPï¼š12.168.1.114
</span><span class="code-line line-number" line="3">  ç«¯å£ï¼š6379
</span><span class="code-line line-number" line="4">Redis ä»ä¿¡æ¯ï¼š
</span><span class="code-line line-number" line="5">  IPï¼š12.168.1.115
</span><span class="code-line line-number" line="6">  ç«¯å£ï¼š6379
</span></code><input type="hidden" value="Redis ä¸»ä¿¡æ¯ï¼š
  IPï¼š12.168.1.114
  ç«¯å£ï¼š6379
Redis ä»ä¿¡æ¯ï¼š
  IPï¼š12.168.1.115
  ç«¯å£ï¼š6379
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ç¼–è¾‘ä»æœºçš„ Redis é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° <code># slaveof</code>å¼€å¤´çš„è¿™ä¸€è¡Œåº”è¯¥æ˜¯æ³¨é‡Šçš„ï¼š<code># slaveof &#x3C;masterip> &#x3C;masterport></code>æˆ‘ä»¬éœ€è¦å»æ‰è¯¥æ³¨é‡Šï¼Œå¹¶ä¸”å¡«å†™æˆ‘ä»¬è‡ªå·±çš„ä¸»æœºçš„ IP å’Œ ç«¯å£ï¼Œæ¯”å¦‚ï¼š<code>slaveof 192.168.1.114 6379</code>ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># slaveof &#x3C;è‡ªå·±çš„ä¸»æœºçš„ IP> &#x3C;è‡ªå·±çš„ä¸»æœºçš„ ç«¯å£></span>
</span><span class="code-line line-number" line="2"><span class="token comment"># è¿™è¡Œæ›´æ”¹æˆä¸‹é¢å†…å®¹</span>
</span><span class="code-line line-number" line="3">slaveof <span class="token number">192.168</span>.1.114 <span class="token number">6379</span>
</span></code><input type="hidden" value="# slaveof <è‡ªå·±çš„ä¸»æœºçš„ IP> <è‡ªå·±çš„ä¸»æœºçš„ ç«¯å£>
# è¿™è¡Œæ›´æ”¹æˆä¸‹é¢å†…å®¹
slaveof 192.168.1.114 6379
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é…ç½®å®Œæˆåé‡å¯ä»æœº Redis æœåŠ¡é‡å¯å®Œä¹‹åï¼Œè¿›å…¥ä¸»æœºçš„ redis-cli çŠ¶æ€ä¸‹ï¼Œè¾“å…¥ï¼š<code>INFO replication</code> å¯ä»¥æŸ¥è¯¢åˆ°å½“å‰ä¸»æœºçš„ redis å¤„äºä»€ä¹ˆè§’è‰²ï¼Œæœ‰å“ªäº›ä»æœºå·²ç»è¿ä¸Šä¸»æœºã€‚</p>
        <p>æ­¤æ—¶å·²ç»å®Œæˆäº†ä¸»ä»é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸‹ï¼š</p>
        <ol>
          <li>æˆ‘ä»¬è¿›å…¥ä¸»æœºçš„ redis-cli çŠ¶æ€ï¼Œç„¶å set æŸä¸ªå€¼ï¼Œæ¯”å¦‚ï¼šset mygithub jaywcjlove</li>
          <li>æˆ‘ä»¬åˆ‡æ¢è¿›å…¥ä»æœºçš„ redis-cli çš„çŠ¶æ€ä¸‹ï¼Œè·å–åˆšåˆšè®¾ç½®çš„å€¼çœ‹æ˜¯å¦å­˜åœ¨ï¼šget mygithubï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ˜¯å¯ä»¥è·å–åˆ°å€¼çš„ã€‚</li>
          <li>ä½†æ˜¯æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ï¼šä»åº“ä¸å…·å¤‡å†™å…¥æ•°æ®èƒ½åŠ›ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ ä»åº“åªæœ‰åªè¯»èƒ½åŠ›ã€‚</li>
        </ol>
        <h2 id="åŸºæœ¬æ“ä½œ"><a aria-hidden="true" tabindex="-1" href="#åŸºæœ¬æ“ä½œ" class="anchor"><span class="icon icon-link"></span></a>åŸºæœ¬æ“ä½œ</h2>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment">## å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¯åŠ¨</span>
</span><span class="code-line line-number" line="2">$ redis-cli
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># æµ‹è¯•å¿ƒè·³</span>
</span><span class="code-line line-number" line="5"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token function">ping</span>
</span><span class="code-line line-number" line="6">PONG
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># è®¾ç½® mykey é”®çš„å€¼</span>
</span><span class="code-line line-number" line="9"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">set</span> mykey hello
</span><span class="code-line line-number" line="10">OK
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># è·å– mykey é”®çš„å€¼</span>
</span><span class="code-line line-number" line="13"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> get mykey
</span><span class="code-line line-number" line="14"><span class="token string">"hello"</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">## è®¾ç½® mykey å¤±æ•ˆäº‹ä»¶</span>
</span><span class="code-line line-number" line="17"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> expire mykey <span class="token number">2</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20"><span class="token comment"># æŸ¥çœ‹å½“å‰redisçš„é…ç½®ä¿¡æ¯</span>
</span><span class="code-line line-number" line="21"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> config get *
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23"><span class="token comment"># è·å–æ‰€æœ‰çš„key</span>
</span><span class="code-line line-number" line="24"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> keys *
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26"><span class="token comment"># åˆ é™¤rediså½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰Key</span>
</span><span class="code-line line-number" line="27"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> flushdb
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> config get <span class="token function">dir</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># é¦‹å“­å½“å‰åº“ key çš„æ•°é‡</span>
</span><span class="code-line line-number" line="32"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> dbsize
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„key</span>
</span><span class="code-line line-number" line="35"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> flushall
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37"><span class="token comment"># é€€å‡º</span>
</span><span class="code-line line-number" line="38"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> <span class="token builtin class-name">exit</span>
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># æ‰¾å‡ºæ‹–æ…¢ Redis çš„ç½ªé­ç¥¸é¦–</span>
</span><span class="code-line line-number" line="42"><span class="token comment"># é€šè¿‡è¿™ä¸ªå·¥å…·å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ç»Ÿè®¡çš„å¿«ç…§ï¼Œ</span>
</span><span class="code-line line-number" line="43"><span class="token comment"># æ¯”å¦‚å‘½ä»¤æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Œ</span>
</span><span class="code-line line-number" line="44"><span class="token comment"># æ‰§è¡Œå‘½ä»¤æ‰€è€—è´¹çš„æ¯«ç§’æ•°(æ¯ä¸ªå‘½ä»¤çš„æ€»æ—¶é—´å’Œå¹³å‡æ—¶é—´)</span>
</span><span class="code-line line-number" line="45"><span class="token comment"># åªéœ€è¦ç®€å•åœ°æ‰§è¡Œ CONFIG RESETSTAT å‘½ä»¤å°±å¯ä»¥é‡ç½®ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„ç»Ÿè®¡ç»“æœã€‚</span>
</span><span class="code-line line-number" line="46">
</span><span class="code-line line-number" line="47"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> commandstats
</span><span class="code-line line-number" line="48">cmdstat_get:calls<span class="token operator">=</span><span class="token number">78</span>,usec<span class="token operator">=</span><span class="token number">608</span>,usec_per_call<span class="token operator">=</span><span class="token number">7.79</span>
</span><span class="code-line line-number" line="49">cmdstat_setex:calls<span class="token operator">=</span><span class="token number">5</span>,usec<span class="token operator">=</span><span class="token number">71</span>,usec_per_call<span class="token operator">=</span><span class="token number">14.20</span>
</span><span class="code-line line-number" line="50">cmdstat_keys:calls<span class="token operator">=</span><span class="token number">2</span>,usec<span class="token operator">=</span><span class="token number">42</span>,usec_per_call<span class="token operator">=</span><span class="token number">21.00</span>
</span><span class="code-line line-number" line="51">cmdstat_info:calls<span class="token operator">=</span><span class="token number">10</span>,usec<span class="token operator">=</span><span class="token number">1931</span>,usec_per_call<span class="token operator">=</span><span class="token number">193.10</span>
</span></code><input type="hidden" value="## å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¯åŠ¨
$ redis-cli

# æµ‹è¯•å¿ƒè·³
127.0.0.1:6379> ping
PONG

# è®¾ç½® mykey é”®çš„å€¼
127.0.0.1:6379> set mykey hello
OK

# è·å– mykey é”®çš„å€¼
127.0.0.1:6379> get mykey
&#x22;hello&#x22;

## è®¾ç½® mykey å¤±æ•ˆäº‹ä»¶
127.0.0.1:6379> expire mykey 2


# æŸ¥çœ‹å½“å‰redisçš„é…ç½®ä¿¡æ¯
127.0.0.1:6379> config get *

# è·å–æ‰€æœ‰çš„key
127.0.0.1:6379> keys *

# åˆ é™¤rediså½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰Key
127.0.0.1:6379> flushdb

127.0.0.1:6379> config get dir

# é¦‹å“­å½“å‰åº“ key çš„æ•°é‡
127.0.0.1:6379> dbsize

# åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„key
127.0.0.1:6379> flushall

# é€€å‡º
127.0.0.1:6379> exit


# æ‰¾å‡ºæ‹–æ…¢ Redis çš„ç½ªé­ç¥¸é¦–
# é€šè¿‡è¿™ä¸ªå·¥å…·å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ç»Ÿè®¡çš„å¿«ç…§ï¼Œ
# æ¯”å¦‚å‘½ä»¤æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Œ
# æ‰§è¡Œå‘½ä»¤æ‰€è€—è´¹çš„æ¯«ç§’æ•°(æ¯ä¸ªå‘½ä»¤çš„æ€»æ—¶é—´å’Œå¹³å‡æ—¶é—´)
# åªéœ€è¦ç®€å•åœ°æ‰§è¡Œ CONFIG RESETSTAT å‘½ä»¤å°±å¯ä»¥é‡ç½®ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„ç»Ÿè®¡ç»“æœã€‚

127.0.0.1:6379> commandstats
cmdstat_get:calls=78,usec=608,usec_per_call=7.79
cmdstat_setex:calls=5,usec=71,usec_per_call=14.20
cmdstat_keys:calls=2,usec=42,usec_per_call=21.00
cmdstat_info:calls=10,usec=1931,usec_per_call=193.10
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="æ”¯æŒçš„æ•°æ®ç±»å‹"><a aria-hidden="true" tabindex="-1" href="#æ”¯æŒçš„æ•°æ®ç±»å‹" class="anchor"><span class="icon icon-link"></span></a>æ”¯æŒçš„æ•°æ®ç±»å‹</h2>
        <h3 id="å­—ç¬¦ä¸²"><a aria-hidden="true" tabindex="-1" href="#å­—ç¬¦ä¸²" class="anchor"><span class="icon icon-link"></span></a>å­—ç¬¦ä¸²</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># å¯åŠ¨å®¢æˆ·ç«¯ ,å­˜å‚¨å­—ç¬¦ä¸²åˆ°redis.</span>
</span><span class="code-line line-number" line="2">redis<span class="token operator">></span> SET name forezp
</span><span class="code-line line-number" line="3">OK
</span><span class="code-line line-number" line="4"><span class="token comment"># å–å­—ç¬¦ä¸²:</span>
</span><span class="code-line line-number" line="5">redis<span class="token operator">></span> get name 
</span><span class="code-line line-number" line="6"><span class="token string">"forezp"</span>
</span></code><input type="hidden" value="# å¯åŠ¨å®¢æˆ·ç«¯ ,å­˜å‚¨å­—ç¬¦ä¸²åˆ°redis.
redis> SET name forezp
OK
# å–å­—ç¬¦ä¸²:
redis> get name 
&#x22;forezp&#x22;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="hashes---å“ˆå¸Œå€¼"><a aria-hidden="true" tabindex="-1" href="#hashes---å“ˆå¸Œå€¼" class="anchor"><span class="icon icon-link"></span></a>Hashes - å“ˆå¸Œå€¼</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">redis <span class="token operator">></span> HMSET king username forezp password xxdxx age <span class="token number">22</span>
</span><span class="code-line line-number" line="2">redis <span class="token operator">></span> HGETALL king
</span><span class="code-line line-number" line="3"><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"username"</span>
</span><span class="code-line line-number" line="4"><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"forezp "</span>
</span><span class="code-line line-number" line="5"><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"password "</span>
</span><span class="code-line line-number" line="6"><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"xxdxx "</span>
</span><span class="code-line line-number" line="7"><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"age "</span>
</span><span class="code-line line-number" line="8"><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"22"</span>
</span></code><input type="hidden" value="redis > HMSET king username forezp password xxdxx age 22
redis > HGETALL king
1) &#x22;username&#x22;
2) &#x22;forezp &#x22;
3) &#x22;password &#x22;
4) &#x22;xxdxx &#x22;
5) &#x22;age &#x22;
6) &#x22;22&#x22;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="lists---åˆ—è¡¨"><a aria-hidden="true" tabindex="-1" href="#lists---åˆ—è¡¨" class="anchor"><span class="icon icon-link"></span></a>Lists - åˆ—è¡¨</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">redis<span class="token operator">></span> lpush pricess kenny
</span><span class="code-line line-number" line="2"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="3">redis <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpush pricess jolin
</span><span class="code-line line-number" line="4"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</span><span class="code-line line-number" line="5">redis <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lpush pricess mayun
</span><span class="code-line line-number" line="6"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
</span><span class="code-line line-number" line="7">redis <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>></span> lrange pricess <span class="token number">0</span> <span class="token number">10</span>
</span><span class="code-line line-number" line="8"><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"kenny"</span>
</span><span class="code-line line-number" line="9"><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"jolin"</span>
</span><span class="code-line line-number" line="10"><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"mayun"</span>
</span></code><input type="hidden" value="redis> lpush pricess kenny
(integer) 1
redis 127.0.0.1:6379> lpush pricess jolin
(integer) 2
redis 127.0.0.1:6379> lpush pricess mayun
(integer) 3
redis 127.0.0.1:6379> lrange pricess 0 10
1) &#x22;kenny&#x22;
2) &#x22;jolin&#x22;
3) &#x22;mayun&#x22;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="æœ‰åºé›†åˆ"><a aria-hidden="true" tabindex="-1" href="#æœ‰åºé›†åˆ" class="anchor"><span class="icon icon-link"></span></a>æœ‰åºé›†åˆ</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">redis <span class="token operator">></span> ZADD kindom <span class="token number">1</span> redis
</span><span class="code-line line-number" line="2"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="3">redis<span class="token operator">></span> ZADD kindom <span class="token number">2</span> mongodb
</span><span class="code-line line-number" line="4"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="5">redis <span class="token operator">></span> ZADD kindom <span class="token number">3</span> mysql
</span><span class="code-line line-number" line="6"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="7">redis <span class="token operator">></span> ZADD kindom <span class="token number">3</span> mysql
</span><span class="code-line line-number" line="8"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
</span><span class="code-line line-number" line="9">redis <span class="token operator">></span> ZADD kindom <span class="token number">4</span> mysql
</span><span class="code-line line-number" line="10"><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
</span><span class="code-line line-number" line="11">redis <span class="token operator">></span> ZRANGE kindom <span class="token number">0</span> <span class="token number">10</span> WITHSCORES
</span><span class="code-line line-number" line="12"><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"redis"</span>
</span><span class="code-line line-number" line="13"><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"1"</span>
</span><span class="code-line line-number" line="14"><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"mongodb"</span>
</span><span class="code-line line-number" line="15"><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"2"</span>
</span><span class="code-line line-number" line="16"><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"mysql"</span>
</span><span class="code-line line-number" line="17"><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"4"</span>
</span></code><input type="hidden" value="redis > ZADD kindom 1 redis
(integer) 1
redis> ZADD kindom 2 mongodb
(integer) 1
redis > ZADD kindom 3 mysql
(integer) 1
redis > ZADD kindom 3 mysql
(integer) 0
redis > ZADD kindom 4 mysql
(integer) 0
redis > ZRANGE kindom 0 10 WITHSCORES
1) &#x22;redis&#x22;
2) &#x22;1&#x22;
3) &#x22;mongodb&#x22;
4) &#x22;2&#x22;
5) &#x22;mysql&#x22;
6) &#x22;4&#x22;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å¼€å¯é€šçŸ¥"><a aria-hidden="true" tabindex="-1" href="#å¼€å¯é€šçŸ¥" class="anchor"><span class="icon icon-link"></span></a>å¼€å¯é€šçŸ¥</h2>
        <p>é”®ç©ºé—´äº‹ä»¶é€šçŸ¥é»˜è®¤è¢«ç¦ç”¨ï¼Œå› ä¸ºè¿™ä¸ªç‰¹æ€§æ¶ˆè€—CPUç”µé‡ä¸æ˜¯å¾ˆæ˜æ™ºã€‚ä½¿ç”¨<code>redis.conf</code>çš„<code>notify-keyspace-events</code>ï¼Œæˆ–è€…é€šè¿‡<code>CONFIG SET</code>æ¥å¼€å¯é€šçŸ¥ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment">## è®¾ç½®é…ç½®å¼€å¯é€šçŸ¥åŠŸèƒ½</span>
</span><span class="code-line line-number" line="2">$ redis-cli config <span class="token builtin class-name">set</span> notify-keyspace-events KEA
</span><span class="code-line line-number" line="3"><span class="token comment">## å‘½ä»¤è¡Œç›‘æ§æ‰€æœ‰é€šçŸ¥</span>
</span><span class="code-line line-number" line="4">$ redis-cli <span class="token parameter variable">--csv</span> psubscribe <span class="token string">'__key*__:*'</span>
</span><span class="code-line line-number" line="5">Reading messages<span class="token punctuation">..</span>. <span class="token punctuation">(</span>press Ctrl-C to quit<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6"><span class="token string">"psubscribe"</span>,<span class="token string">"__key*__:*"</span>,1
</span></code><input type="hidden" value="## è®¾ç½®é…ç½®å¼€å¯é€šçŸ¥åŠŸèƒ½
$ redis-cli config set notify-keyspace-events KEA
## å‘½ä»¤è¡Œç›‘æ§æ‰€æœ‰é€šçŸ¥
$ redis-cli --csv psubscribe &#x27;__key*__:*&#x27;
Reading messages... (press Ctrl-C to quit)
&#x22;psubscribe&#x22;,&#x22;__key*__:*&#x22;,1
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é”®å€¼è¯´æ˜</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">K     Keyspace events, published with __keyspace@<span class="token operator">&#x3C;</span>db<span class="token operator">></span>__ prefix.  
</span><span class="code-line line-number" line="2">E     Keyevent events, published with __keyevent@<span class="token operator">&#x3C;</span>db<span class="token operator">></span>__ prefix.  
</span><span class="code-line line-number" line="3">g     Generic commands <span class="token punctuation">(</span>non-type specific<span class="token punctuation">)</span> like DEL, EXPIRE, RENAME, <span class="token punctuation">..</span>.  
</span><span class="code-line line-number" line="4">$     String commands  
</span><span class="code-line line-number" line="5">l     List commands  
</span><span class="code-line line-number" line="6">s     Set commands  
</span><span class="code-line line-number" line="7">h     Hash commands  
</span><span class="code-line line-number" line="8">z     Sorted <span class="token builtin class-name">set</span> commands  
</span><span class="code-line line-number" line="9">x     Expired events <span class="token punctuation">(</span>events generated every <span class="token function">time</span> a key expires<span class="token punctuation">)</span>  
</span><span class="code-line line-number" line="10">e     Evicted events <span class="token punctuation">(</span>events generated when a key is evicted <span class="token keyword">for</span> maxmemory<span class="token punctuation">)</span>  
</span><span class="code-line line-number" line="11">A     Alias <span class="token keyword">for</span> g<span class="token variable">$lshzxe</span>, so that the <span class="token string">"AKE"</span> string means all the events. 
</span></code><input type="hidden" value="K     Keyspace events, published with __keyspace@<db>__ prefix.  
E     Keyevent events, published with __keyevent@<db>__ prefix.  
g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...  
$     String commands  
l     List commands  
s     Set commands  
h     Hash commands  
z     Sorted set commands  
x     Expired events (events generated every time a key expires)  
e     Evicted events (events generated when a key is evicted for maxmemory)  
A     Alias for g$lshzxe, so that the &#x22;AKE&#x22; string means all the events. 
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ä¸åŒå‘½ä»¤äº§ç”Ÿçš„äº‹ä»¶(Events generated by different commands)</p>
        <p>æŒ‰ç…§ä¸‹é¢çš„æ¸…å•ï¼Œä¸åŒçš„å‘½ä»¤äº§ç”Ÿä¸åŒç±»å‹çš„äº‹ä»¶ã€‚ <a href="http://redis.io/topics/notifications">Redis Keyspace Notifications</a></p>
        <ul>
          <li>DEL ä¸ºæ¯ä¸€ä¸ªè¢«åˆ é™¤çš„é”®äº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>RENAME äº§ç”Ÿä¸¤ä¸ªäº‹ä»¶ï¼Œä¸ºæºé”®äº§ç”Ÿä¸€ä¸ªrename_fromäº‹ä»¶ï¼Œä¸ºç›®æ ‡é”®äº§ç”Ÿä¸€ä¸ªrename_toäº‹ä»¶ã€‚</li>
          <li>EXPIRE å½“ä¸ºé”®è®¾ç½®è¿‡æœŸæ—¶äº§ç”Ÿä¸€ä¸ªexpireäº‹ä»¶ï¼Œæˆ–è€…æ¯å½“è®¾ç½®äº†è¿‡æœŸçš„é”®è¢«åˆ é™¤æ—¶äº§ç”Ÿä¸€ä¸ªexpiredäº‹ä»¶(æŸ¥çœ‹EXPIREæ–‡æ¡£è·å–æ›´å¤šä¿¡æ¯)ã€‚</li>
          <li>SORT å½“STOREç”¨äºè®¾ç½®ä¸€ä¸ªæ–°é”®æ—¶äº§ç”Ÿä¸€ä¸ªsortstoreäº‹ä»¶ã€‚å½“ç»“æœåˆ—è¡¨ä¸ºç©ºï¼Œå¹¶ä¸”ä½¿ç”¨äº†STOREé€‰é¡¹ï¼Œå¹¶ä¸”å·²ç»æœ‰ä¸€ä¸ªè¯¥åå­—çš„é”®å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªä»¶é”®è¢«åˆ é™¤ï¼Œæ‰€ä»¥è¿™ç§æ¡ä»¶ä¸‹æˆ–äº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>SETåŠå…¶æ‰€æœ‰å˜ç§(SETEX, SETNX,GETSET) äº§ç”Ÿsetäº‹ä»¶ã€‚ä½†æ˜¯SETEXè¿˜ä¼šäº§ç”Ÿä¸€ä¸ªexpireäº‹ä»¶ã€‚</li>
          <li>MSET ä¸ºæ¯ä¸ªé”®äº§ç”Ÿä¸€ä¸ªå•ç‹¬çš„setäº‹ä»¶ã€‚</li>
          <li>SETRANGE äº§ç”Ÿä¸€ä¸ªsetrangeäº‹ä»¶ã€‚</li>
          <li>INCR, DECR, INCRBY, DECRBY éƒ½äº§ç”Ÿincrbyäº‹ä»¶ã€‚</li>
          <li>INCRBYFLOAT äº§ç”Ÿä¸€ä¸ªincrbyfloatäº‹ä»¶ã€‚</li>
          <li>APPEND äº§ç”Ÿä¸€ä¸ªappendäº‹ä»¶ã€‚</li>
          <li>LPUSHå’ŒLPUSHX äº§ç”Ÿå•ä¸ªlpushäº‹ä»¶ï¼Œå³ä½¿åœ¨å¯å˜æƒ…å†µä¸‹(even in the variadic case)ã€‚</li>
          <li>RPUSHå’ŒRPUSHX äº§ç”Ÿå•ä¸ªrpushäº‹ä»¶ï¼Œå³ä½¿åœ¨å¯å˜æƒ…å†µä¸‹(even in the variadic case)ã€‚</li>
          <li>RPOP äº§ç”Ÿä¸€ä¸ªrpopäº‹ä»¶ã€‚å¦‚æœé”®ç”±äºæœ€åä¸€ä¸ªå…ƒç´ è¢«ä»åˆ—è¡¨ä¸­å¼¹å‡ºè€Œå¯¼è‡´åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>LPOP äº§ç”Ÿä¸€ä¸ªlpopäº‹ä»¶ã€‚å¦‚æœé”®ç”±äºæœ€åä¸€ä¸ªå…ƒç´ è¢«ä»åˆ—è¡¨ä¸­å¼¹å‡ºè€Œå¯¼è‡´åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>LINSERT äº§ç”Ÿä¸€ä¸ªlinsertäº‹ä»¶ã€‚</li>
          <li>LSET äº§ç”Ÿä¸€ä¸ªlsetäº‹ä»¶ã€‚</li>
          <li>LREM äº§ç”Ÿä¸€ä¸ªlremäº‹ä»¶ã€‚å¦‚æœç»“æœåˆ—è¡¨ä¸ºç©ºå¹¶ä¸”é”®è¢«åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>LTRIM äº§ç”Ÿä¸€ä¸ªltrimäº‹ä»¶ã€‚å¦‚æœç»“æœåˆ—è¡¨ä¸ºç©ºå¹¶ä¸”é”®è¢«åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>RPOPLPUSHå’ŒBRPOPLPUSH äº§ç”Ÿä¸€ä¸ªrpopäº‹ä»¶å’Œä¸€ä¸ªlpushäº‹ä»¶ã€‚ä¸¤ç§æƒ…å†µä¸‹é¡ºåºéƒ½èƒ½ä¿è¯ (lpushäº‹ä»¶æ€»æ˜¯åœ¨rpopäº‹ä»¶ä¹‹åè¢«ä¼ é€’) å¦‚æœç»“æœåˆ—è¡¨é•¿åº¦ä¸ºé›¶å¹¶ä¸”é”®è¢«åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>HSET, HSETNXå’ŒHMSET éƒ½äº§ç”Ÿå•ä¸ªhsetäº‹ä»¶ã€‚</li>
          <li>HINCRBY äº§ç”Ÿä¸€ä¸ªhincrbyäº‹ä»¶ã€‚</li>
          <li>HINCRBYFLOAT äº§ç”Ÿä¸€ä¸ªhincrbyfloatäº‹ä»¶ã€‚</li>
          <li>HDEL äº§ç”Ÿå•ä¸ªhdeläº‹ä»¶ã€‚å¦‚æœç»“æœå“ˆå¸Œä¸ºç©ºå¹¶ä¸”é”®è¢«åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>SADD äº§ç”Ÿå•ä¸ªsaddäº‹ä»¶ï¼Œå³ä½¿åœ¨å¯å˜æƒ…å†µä¸‹(even in the variadic case)ã€‚</li>
          <li>SREM äº§ç”Ÿå•ä¸ªsremäº‹ä»¶ã€‚å¦‚æœç»“æœé›†åˆä¸ºç©ºå¹¶ä¸”é”®è¢«åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>SMOVE ä¸ºæºé”®äº§ç”Ÿä¸€ä¸ªsremäº‹ä»¶ä¸ºç›®æ ‡é”®äº§ç”Ÿä¸€ä¸ªsaddäº‹ä»¶ã€‚</li>
          <li>SPOP äº§ç”Ÿä¸€ä¸ªspopäº‹ä»¶ã€‚å¦‚æœç»“æœé›†åˆä¸ºç©ºå¹¶ä¸”é”®è¢«åˆ é™¤ï¼Œä¼šåˆäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>SINTERSTORE, SUNIONSTORE, SDIFFSTORE åˆ†åˆ«äº§ç”Ÿsinterstoreï¼Œsunionostoreï¼Œsdiffstoreäº‹ä»¶ã€‚åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œé›†åˆä¸ºç©ºï¼Œä¸”å­˜å‚¨ç»“æœçš„é”®å·²ç»å­˜åœ¨ï¼Œç”±äºé”®è¢«åˆ é™¤ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>ZINCR äº§ç”Ÿä¸€ä¸ªzincräº‹ä»¶ã€‚</li>
          <li>ZADDäº§ç”Ÿå•ä¸ªzaddäº‹ä»¶ï¼Œå³ä½¿æ·»åŠ äº†å¤šä¸ªå…ƒç´ ã€‚.</li>
          <li>ZREM äº§ç”Ÿå•ä¸ªzremäº‹ä»¶ï¼Œå³ä½¿åˆ é™¤äº†å¤šä¸ªå…ƒç´ ã€‚å½“ç»“æœæœ‰åºé›†åˆä¸ºç©ºï¼Œå¹¶ä¸”é”®è¢«ç”Ÿæˆæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªé¢å¤–çš„deläº‹ä»¶ã€‚</li>
          <li>ZREMBYSCORE äº§ç”Ÿå•ä¸ªzrembyscoreäº‹ä»¶ã€‚å½“ç»“æœæœ‰åºé›†åˆä¸ºç©ºï¼Œå¹¶ä¸”é”®è¢«ç”Ÿæˆæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªé¢å¤–çš„deläº‹ä»¶ã€‚</li>
          <li>ZREMBYRANK äº§ç”Ÿå•ä¸ªzrembyrankäº‹ä»¶ã€‚å½“ç»“æœæœ‰åºé›†åˆä¸ºç©ºï¼Œå¹¶ä¸”é”®è¢«ç”Ÿæˆæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªé¢å¤–çš„deläº‹ä»¶ã€‚</li>
          <li>ZINTERSTOREå’ŒZUNIONSTORE åˆ†åˆ«äº§ç”Ÿzinterstoreå’Œzunionstoreäº‹ä»¶ã€‚åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œé›†åˆä¸ºç©ºï¼Œä¸”å­˜å‚¨ç»“æœçš„é”®å·²ç»å­˜åœ¨ï¼Œç”±äºé”®è¢«åˆ é™¤ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªdeläº‹ä»¶ã€‚</li>
          <li>æ¯å½“ä¸€ä¸ªå…³è”æœ‰ç”Ÿå­˜äº‹ä»¶çš„é”®ç”±äºè¿‡æœŸè€Œè¢«ä»æ•°æ®é›†ä¸­åˆ é™¤æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªexpiredäº‹ä»¶ã€‚</li>
          <li>æ¯å½“ä¸€ä¸ªé”®ç”±äºmaxmemoryç­–ç•¥è€Œä»æ•°æ®é›†ä¸­è¢«æ·˜æ±°ä»¥èŠ‚çœå†…å­˜æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªevictedäº‹ä»¶ã€‚</li>
        </ul>
        <h2 id="å¼€å¯è¿œç¨‹ç™»å½•è¿æ¥"><a aria-hidden="true" tabindex="-1" href="#å¼€å¯è¿œç¨‹ç™»å½•è¿æ¥" class="anchor"><span class="icon icon-link"></span></a>å¼€å¯è¿œç¨‹ç™»å½•è¿æ¥</h2>
        <p>ä½¿ç”¨ netstat æ¥æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µï¼Œ6379ä¸ºé»˜è®¤Redisç«¯å£ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">netstat</span> -nlt<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">6379</span>
</span></code><input type="hidden" value="netstat -nlt|grep 6379
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>-tï¼šæŒ‡æ˜æ˜¾ç¤º TCP ç«¯å£</li>
          <li>-uï¼šæŒ‡æ˜æ˜¾ç¤º UDP ç«¯å£</li>
          <li>-lï¼šä»…æ˜¾ç¤ºç›‘å¬å¥—æ¥å­—</li>
          <li>-pï¼šæ˜¾ç¤ºè¿›ç¨‹æ ‡è¯†ç¬¦å’Œç¨‹åºåç§°ï¼Œæ¯ä¸€ä¸ªå¥—æ¥å­—/ç«¯å£éƒ½å±äºä¸€ä¸ªç¨‹åºã€‚</li>
          <li>-nï¼šä¸è¿›è¡Œ DNS è½®è¯¢ï¼Œæ˜¾ç¤º IP ï¼ˆå¯ä»¥åŠ é€Ÿæ“ä½œï¼‰</li>
        </ul>
        <h3 id="ä¿®æ”¹é˜²ç«å¢™é…ç½®"><a aria-hidden="true" tabindex="-1" href="#ä¿®æ”¹é˜²ç«å¢™é…ç½®" class="anchor"><span class="icon icon-link"></span></a>ä¿®æ”¹é˜²ç«å¢™é…ç½®</h3>
        <p>ä¿®æ”¹é˜²ç«å¢™é…ç½® sudo vi /etc/sysconfig/iptables</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-m</span> state <span class="token parameter variable">--state</span> NEW <span class="token parameter variable">-m</span> tcp <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">6379</span> <span class="token parameter variable">-j</span> ACCEPT
</span></code><input type="hidden" value="-A INPUT -m state --state NEW -m tcp -p tcp --dport 6379 -j ACCEPT
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a aria-hidden="true" tabindex="-1" href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="anchor"><span class="icon icon-link"></span></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>
        <p>Redis protected-mode æ˜¯3.2 ä¹‹ååŠ å…¥çš„æ–°ç‰¹æ€§ï¼Œåœ¨Redis.confçš„æ³¨é‡Šä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼Œä»–çš„å…·ä½“ä½œç”¨å’Œå¯ç”¨æ¡ä»¶ã€‚å¯ä»¥åœ¨ sudo vi /etc/redis.conf ä¸­ç¼–è¾‘ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Protected mode is a layer of security protection, in order to avoid that</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># Redis instances left open on the internet are accessed and exploited.</span>
</span><span class="code-line line-number" line="3"><span class="token comment">#</span>
</span><span class="code-line line-number" line="4"><span class="token comment"># When protected mode is on and if:</span>
</span><span class="code-line line-number" line="5"><span class="token comment">#</span>
</span><span class="code-line line-number" line="6"><span class="token comment"># 1) The server is not binding explicitly to a set of addresses using the</span>
</span><span class="code-line line-number" line="7"><span class="token comment">#    "bind" directive.</span>
</span><span class="code-line line-number" line="8"><span class="token comment"># 2) No password is configured.</span>
</span><span class="code-line line-number" line="9"><span class="token comment">#</span>
</span><span class="code-line line-number" line="10"><span class="token comment"># The server only accepts connections from clients connecting from the</span>
</span><span class="code-line line-number" line="11"><span class="token comment"># IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># sockets.</span>
</span><span class="code-line line-number" line="13"><span class="token comment">#</span>
</span><span class="code-line line-number" line="14"><span class="token comment"># By default protected mode is enabled. You should disable it only if</span>
</span><span class="code-line line-number" line="15"><span class="token comment"># you are sure you want clients from other hosts to connect to Redis</span>
</span><span class="code-line line-number" line="16"><span class="token comment"># even if no authentication is configured, nor a specific set of interfaces</span>
</span><span class="code-line line-number" line="17"><span class="token comment"># are explicitly listed using the "bind" directive.</span>
</span><span class="code-line line-number" line="18">protected-mode <span class="token function">yes</span>
</span><span class="code-line line-number" line="19">
</span></code><input type="hidden" value="# Protected mode is a layer of security protection, in order to avoid that
# Redis instances left open on the internet are accessed and exploited.
#
# When protected mode is on and if:
#
# 1) The server is not binding explicitly to a set of addresses using the
#    &#x22;bind&#x22; directive.
# 2) No password is configured.
#
# The server only accepts connections from clients connecting from the
# IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain
# sockets.
#
# By default protected mode is enabled. You should disable it only if
# you are sure you want clients from other hosts to connect to Redis
# even if no authentication is configured, nor a specific set of interfaces
# are explicitly listed using the &#x22;bind&#x22; directive.
protected-mode yes

"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å®ƒå¯ç”¨çš„æ¡ä»¶ï¼Œæœ‰ä¸¤ä¸ªï¼š</p>
        <ol>
          <li>æ²¡æœ‰bind IP</li>
          <li>æ²¡æœ‰è®¾ç½®è®¿é—®å¯†ç </li>
        </ol>
        <p>å¦‚æœå¯ç”¨äº†ï¼Œåˆ™åªèƒ½å¤Ÿé€šè¿‡lookback ipï¼ˆ127.0.0.1ï¼‰è®¿é—®Redis cacheï¼Œå¦‚æœä»å¤–ç½‘è®¿é—®ï¼Œåˆ™ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">(</span>error<span class="token punctuation">)</span> DENIED Redis is running <span class="token keyword">in</span> protected mode because protected mode is enabled, no <span class="token builtin class-name">bind</span> address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the lookback interface. If you want to connect from external computers to Redis you may adopt one of the following solutions: <span class="token number">1</span><span class="token punctuation">)</span> Just disable protected mode sending the <span class="token builtin class-name">command</span> <span class="token string">'CONFIG SET protected-mode no'</span> from the loopback interface by connecting to Redis from the same <span class="token function">host</span> the server is running, however MAKE SURE Redis is not publicly accessible from internet <span class="token keyword">if</span> you <span class="token keyword">do</span> so. Use CONFIG REWRITE to <span class="token function">make</span> this change permanent. <span class="token number">2</span><span class="token punctuation">)</span> Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to <span class="token string">'no'</span>, and <span class="token keyword">then</span> restarting the server. <span class="token number">3</span><span class="token punctuation">)</span> If you started the server manually just <span class="token keyword">for</span> testing, restart it with the --portected-mode no option. <span class="token number">4</span><span class="token punctuation">)</span> Setup a <span class="token builtin class-name">bind</span> address or an authentication password. NOTE: You only need to <span class="token keyword">do</span> one of the above things <span class="token keyword">in</span> order <span class="token keyword">for</span> the server to start accepting connections from the outside.
</span></code><input type="hidden" value="(error) DENIED Redis is running in protected mode because protected mode is enabled, no bind address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the lookback interface. If you want to connect from external computers to Redis you may adopt one of the following solutions: 1) Just disable protected mode sending the command &#x27;CONFIG SET protected-mode no&#x27; from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent. 2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to &#x27;no&#x27;, and then restarting the server. 3) If you started the server manually just for testing, restart it with the --portected-mode no option. 4) Setup a bind address or an authentication password. NOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside.
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="æä¾›çš„åŸç”Ÿç›‘æ§"><a aria-hidden="true" tabindex="-1" href="#æä¾›çš„åŸç”Ÿç›‘æ§" class="anchor"><span class="icon icon-link"></span></a>æä¾›çš„åŸç”Ÿç›‘æ§</h2>
        <h3 id="å½“å‰é“¾æ¥çš„å®¢æˆ·ç«¯æ•°å’Œè¿æ¥æ•°"><a aria-hidden="true" tabindex="-1" href="#å½“å‰é“¾æ¥çš„å®¢æˆ·ç«¯æ•°å’Œè¿æ¥æ•°" class="anchor"><span class="icon icon-link"></span></a>å½“å‰é“¾æ¥çš„å®¢æˆ·ç«¯æ•°å’Œè¿æ¥æ•°</h3>
        <p><code>redis-cli --stat</code>æŸ¥çœ‹å½“å‰è¿æ¥çš„å®¢æˆ·ç«¯æ•°ï¼Œè¿æ¥æ•°ç­‰</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">------- data ------ --------------------- load -------------------- - child -
</span><span class="code-line line-number" line="2">keys       mem      clients blocked requests            connections
</span><span class="code-line line-number" line="3"><span class="token number">4</span>          <span class="token number">1</span>.27M    <span class="token number">6</span>       <span class="token number">0</span>       <span class="token number">17340</span> <span class="token punctuation">(</span>+0<span class="token punctuation">)</span>          <span class="token number">111</span>
</span><span class="code-line line-number" line="4"><span class="token number">4</span>          <span class="token number">1</span>.27M    <span class="token number">6</span>       <span class="token number">0</span>       <span class="token number">17341</span> <span class="token punctuation">(</span>+1<span class="token punctuation">)</span>          <span class="token number">111</span>
</span><span class="code-line line-number" line="5"><span class="token number">4</span>          <span class="token number">1</span>.27M    <span class="token number">6</span>       <span class="token number">0</span>       <span class="token number">17342</span> <span class="token punctuation">(</span>+1<span class="token punctuation">)</span>          <span class="token number">111</span>
</span><span class="code-line line-number" line="6"><span class="token number">4</span>          <span class="token number">1</span>.27M    <span class="token number">6</span>       <span class="token number">0</span>       <span class="token number">17343</span> <span class="token punctuation">(</span>+1<span class="token punctuation">)</span>          <span class="token number">111</span>
</span></code><input type="hidden" value="------- data ------ --------------------- load -------------------- - child -
keys       mem      clients blocked requests            connections
4          1.27M    6       0       17340 (+0)          111
4          1.27M    6       0       17341 (+1)          111
4          1.27M    6       0       17342 (+1)          111
4          1.27M    6       0       17343 (+1)          111
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="å†…å­˜æœ€å¤§çš„é”®å€¼å’Œå¹³å‡çš„é”®å€¼æ•°æ®"><a aria-hidden="true" tabindex="-1" href="#å†…å­˜æœ€å¤§çš„é”®å€¼å’Œå¹³å‡çš„é”®å€¼æ•°æ®" class="anchor"><span class="icon icon-link"></span></a>å†…å­˜æœ€å¤§çš„é”®å€¼å’Œå¹³å‡çš„é”®å€¼æ•°æ®</h3>
        <p><code>redis-cli --bigkeys</code> å¯¹å½“å‰å ç”¨å†…å­˜æœ€å¤§çš„é”®å€¼å’Œå¹³å‡çš„é”®å€¼æ•°æ®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®š<code>-i</code>å‚æ•°å®šæ—¶æŸ¥çœ‹å½“å‰çš„è§†å›¾æƒ…å†µã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Scanning the entire keyspace to find biggest keys as well as</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># per 100 SCAN commands (not usually needed).</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token punctuation">[</span>00.00%<span class="token punctuation">]</span> Biggest string found so far <span class="token string">'asdf.js'</span> with <span class="token number">3</span> bytes
</span><span class="code-line line-number" line="6"><span class="token punctuation">[</span>00.00%<span class="token punctuation">]</span> Biggest string found so far <span class="token string">'wabg-tokeneyJhbGciOiJIUzI1NiJ9.NA.UGGRiB2I42rP-33cIMrcoPub7AzHgDlqHacAKFw1pfE'</span> with <span class="token number">328</span> bytes
</span><span class="code-line line-number" line="7"><span class="token punctuation">[</span>00.00%<span class="token punctuation">]</span> Biggest string found so far <span class="token string">'wabg-token-province'</span> with <span class="token number">231042</span> bytes
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">-------- summary -------
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">Sampled <span class="token number">4</span> keys <span class="token keyword">in</span> the keyspace<span class="token operator">!</span>
</span><span class="code-line line-number" line="12">Total key length <span class="token keyword">in</span> bytes is <span class="token number">180</span> <span class="token punctuation">(</span>avg len <span class="token number">45.00</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">Biggest string found <span class="token string">'wabg-token-province'</span> has <span class="token number">231042</span> bytes
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token number">4</span> strings with <span class="token number">231819</span> bytes <span class="token punctuation">(</span><span class="token number">100.00</span>% of keys, avg size <span class="token number">57954.75</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="17"><span class="token number">0</span> lists with <span class="token number">0</span> items <span class="token punctuation">(</span>00.00% of keys, avg size <span class="token number">0.00</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="18"><span class="token number">0</span> sets with <span class="token number">0</span> members <span class="token punctuation">(</span>00.00% of keys, avg size <span class="token number">0.00</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="19"><span class="token number">0</span> hashs with <span class="token number">0</span> fields <span class="token punctuation">(</span>00.00% of keys, avg size <span class="token number">0.00</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="20"><span class="token number">0</span> zsets with <span class="token number">0</span> members <span class="token punctuation">(</span>00.00% of keys, avg size <span class="token number">0.00</span><span class="token punctuation">)</span>
</span></code><input type="hidden" value="# Scanning the entire keyspace to find biggest keys as well as
# average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec
# per 100 SCAN commands (not usually needed).

[00.00%] Biggest string found so far &#x27;asdf.js&#x27; with 3 bytes
[00.00%] Biggest string found so far &#x27;wabg-tokeneyJhbGciOiJIUzI1NiJ9.NA.UGGRiB2I42rP-33cIMrcoPub7AzHgDlqHacAKFw1pfE&#x27; with 328 bytes
[00.00%] Biggest string found so far &#x27;wabg-token-province&#x27; with 231042 bytes

-------- summary -------

Sampled 4 keys in the keyspace!
Total key length in bytes is 180 (avg len 45.00)

Biggest string found &#x27;wabg-token-province&#x27; has 231042 bytes

4 strings with 231819 bytes (100.00% of keys, avg size 57954.75)
0 lists with 0 items (00.00% of keys, avg size 0.00)
0 sets with 0 members (00.00% of keys, avg size 0.00)
0 hashs with 0 fields (00.00% of keys, avg size 0.00)
0 zsets with 0 members (00.00% of keys, avg size 0.00)
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="æŸ¥çœ‹å½“å‰çš„é”®å€¼æƒ…å†µ"><a aria-hidden="true" tabindex="-1" href="#æŸ¥çœ‹å½“å‰çš„é”®å€¼æƒ…å†µ" class="anchor"><span class="icon icon-link"></span></a>æŸ¥çœ‹å½“å‰çš„é”®å€¼æƒ…å†µ</h3>
        <p><code>redis-cli --scan</code>æä¾›å’Œ<code>keys *</code>ç›¸ä¼¼çš„åŠŸèƒ½ï¼ŒæŸ¥çœ‹å½“å‰çš„é”®å€¼æƒ…å†µï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">$ redis-cli <span class="token parameter variable">--scan</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">sess:K4xh-bxOBrcXpy9kEW87oiy-u7I2sAA5
</span><span class="code-line line-number" line="4">asdf.js
</span><span class="code-line line-number" line="5">sess:1tGNZSXW8GyoEQsbtpqkA5tMmSFp_ZIn
</span><span class="code-line line-number" line="6">wabg-tokeneyJhbGciOiJIUzI1NiJ9.NA.UGGRiB2I42rP-33cIMrcoPub7AzHgDlqHacAKFw1pfE
</span><span class="code-line line-number" line="7">sess:3e4NGIJd0wf1-RONeTt-FsXQj4EaVNjk
</span><span class="code-line line-number" line="8">wabg-token-province
</span><span class="code-line line-number" line="9">sess:UuCLAX2sWZ50fiIO1qvDgulf0XIZRd98
</span><span class="code-line line-number" line="10">wabg-tokeneyJhbGciOiJIUzI1NiJ9.MQ.6z44GClzAsUED1M_UyxqdREdDKcYFnL9tSqd5ZhLhsY
</span><span class="code-line line-number" line="11">sess:2HEchaRLYUoaa44IF1bB6mpik7lZjBb4
</span></code><input type="hidden" value="$ redis-cli --scan

sess:K4xh-bxOBrcXpy9kEW87oiy-u7I2sAA5
asdf.js
sess:1tGNZSXW8GyoEQsbtpqkA5tMmSFp_ZIn
wabg-tokeneyJhbGciOiJIUzI1NiJ9.NA.UGGRiB2I42rP-33cIMrcoPub7AzHgDlqHacAKFw1pfE
sess:3e4NGIJd0wf1-RONeTt-FsXQj4EaVNjk
wabg-token-province
sess:UuCLAX2sWZ50fiIO1qvDgulf0XIZRd98
wabg-tokeneyJhbGciOiJIUzI1NiJ9.MQ.6z44GClzAsUED1M_UyxqdREdDKcYFnL9tSqd5ZhLhsY
sess:2HEchaRLYUoaa44IF1bB6mpik7lZjBb4
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="åŸç”Ÿçš„monitorç›‘æ§"><a aria-hidden="true" tabindex="-1" href="#åŸç”Ÿçš„monitorç›‘æ§" class="anchor"><span class="icon icon-link"></span></a>åŸç”Ÿçš„Monitorç›‘æ§</h3>
        <p>redis-cli monitoræ‰“å°å‡ºæ‰€æœ‰severæ¥æ”¶åˆ°çš„å‘½ä»¤ä»¥åŠå…¶å¯¹åº”çš„å®¢æˆ·ç«¯åœ°å€</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">$ redis-cli monitor
</span><span class="code-line line-number" line="2">OK
</span><span class="code-line line-number" line="3"><span class="token number">1472626566.218175</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"info"</span>
</span><span class="code-line line-number" line="4"><span class="token number">1472626571.220948</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"exists"</span> <span class="token string">"aaa"</span>
</span><span class="code-line line-number" line="5"><span class="token number">1472626571.223174</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"set"</span> <span class="token string">"aaa"</span> <span class="token string">""</span>
</span><span class="code-line line-number" line="6"><span class="token number">1472626571.232126</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"type"</span> <span class="token string">"aaa"</span>
</span><span class="code-line line-number" line="7"><span class="token number">1472626571.243697</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"pttl"</span> <span class="token string">"aaa"</span>
</span><span class="code-line line-number" line="8"><span class="token number">1472626571.243717</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"object"</span> <span class="token string">"ENCODING"</span> <span class="token string">"aaa"</span>
</span><span class="code-line line-number" line="9"><span class="token number">1472626571.243726</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">127.0</span>.0.1:62862<span class="token punctuation">]</span> <span class="token string">"strlen"</span> <span class="token string">"aaa"</span>
</span></code><input type="hidden" value="$ redis-cli monitor
OK
1472626566.218175 [0 127.0.0.1:62862] &#x22;info&#x22;
1472626571.220948 [0 127.0.0.1:62862] &#x22;exists&#x22; &#x22;aaa&#x22;
1472626571.223174 [0 127.0.0.1:62862] &#x22;set&#x22; &#x22;aaa&#x22; &#x22;&#x22;
1472626571.232126 [0 127.0.0.1:62862] &#x22;type&#x22; &#x22;aaa&#x22;
1472626571.243697 [0 127.0.0.1:62862] &#x22;pttl&#x22; &#x22;aaa&#x22;
1472626571.243717 [0 127.0.0.1:62862] &#x22;object&#x22; &#x22;ENCODING&#x22; &#x22;aaa&#x22;
1472626571.243726 [0 127.0.0.1:62862] &#x22;strlen&#x22; &#x22;aaa&#x22;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="é…ç½®è¯´æ˜"><a aria-hidden="true" tabindex="-1" href="#é…ç½®è¯´æ˜" class="anchor"><span class="icon icon-link"></span></a>é…ç½®è¯´æ˜</h2>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment">#redis.conf</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># Redis configuration file example.</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># ./redis-server /path/to/redis.conf</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">################################## INCLUDES ###################################</span>
</span><span class="code-line line-number" line="6"><span class="token comment">#è¿™åœ¨ä½ æœ‰æ ‡å‡†é…ç½®æ¨¡æ¿ä½†æ˜¯æ¯ä¸ªredisæœåŠ¡å™¨åˆéœ€è¦ä¸ªæ€§è®¾ç½®çš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚</span>
</span><span class="code-line line-number" line="7"><span class="token comment"># include /path/to/local.conf</span>
</span><span class="code-line line-number" line="8"><span class="token comment"># include /path/to/other.conf</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment">################################ GENERAL #####################################</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># æ˜¯å¦åœ¨åå°æ‰§è¡Œï¼Œyesï¼šåå°è¿è¡Œï¼›noï¼šä¸æ˜¯åå°è¿è¡Œï¼ˆè€ç‰ˆæœ¬é»˜è®¤ï¼‰</span>
</span><span class="code-line line-number" line="13">daemonize <span class="token function">yes</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># 3.2é‡Œçš„å‚æ•°ï¼Œæ˜¯å¦å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼Œé»˜è®¤å¼€å¯ã€‚è¦æ˜¯é…ç½®é‡Œæ²¡æœ‰æŒ‡å®šbindå’Œå¯†ç ã€‚</span>
</span><span class="code-line line-number" line="16"><span class="token comment"># å¼€å¯è¯¥å‚æ•°åï¼Œredisåªä¼šæœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œæ‹’ç»å¤–éƒ¨è®¿é—®ã€‚</span>
</span><span class="code-line line-number" line="17"><span class="token comment"># è¦æ˜¯å¼€å¯äº†å¯†ç    å’Œbindï¼Œå¯ä»¥å¼€å¯ã€‚å¦   åˆ™æœ€å¥½å…³é—­ï¼Œè®¾ç½®ä¸ºnoã€‚</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">protected-mode <span class="token function">yes</span>
</span><span class="code-line line-number" line="20"><span class="token comment"># redisçš„è¿›ç¨‹æ–‡ä»¶</span>
</span><span class="code-line line-number" line="21">pidfile /var/run/redis/redis-server.pid
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23"><span class="token comment"># redisç›‘å¬çš„ç«¯å£å·ã€‚</span>
</span><span class="code-line line-number" line="24">port <span class="token number">6379</span>
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26"><span class="token comment"># æ­¤å‚æ•°ç¡®å®šäº†TCPè¿æ¥ä¸­å·²å®Œæˆé˜Ÿåˆ—(å®Œæˆä¸‰æ¬¡æ¡æ‰‹ä¹‹å)çš„é•¿åº¦ï¼Œ </span>
</span><span class="code-line line-number" line="27"><span class="token comment"># å½“ç„¶æ­¤å€¼å¿…é¡»ä¸å¤§äºLinuxç³»ç»Ÿå®šä¹‰çš„/proc/sys/net/core/somaxconnå€¼ï¼Œé»˜è®¤æ˜¯511ï¼Œ</span>
</span><span class="code-line line-number" line="28"><span class="token comment"># è€ŒLinuxçš„é»˜è®¤å‚æ•°å€¼æ˜¯128ã€‚å½“ç³»ç»Ÿå¹¶å‘é‡å¤§å¹¶ä¸”å®¢æˆ·ç«¯é€Ÿåº¦ç¼“æ…¢çš„æ—¶å€™ï¼Œ</span>
</span><span class="code-line line-number" line="29"><span class="token comment"># å¯ä»¥å°†è¿™äºŒä¸ªå‚æ•°ä¸€èµ·å‚è€ƒè®¾å®šã€‚è¯¥å†…æ ¸å‚æ•°é»˜è®¤å€¼ä¸€èˆ¬æ˜¯128ï¼Œå¯¹äºè´Ÿè½½å¾ˆå¤§çš„æœåŠ¡ç¨‹åºæ¥è¯´å¤§å¤§çš„ä¸å¤Ÿã€‚</span>
</span><span class="code-line line-number" line="30"><span class="token comment"># ä¸€èˆ¬ä¼šå°†å®ƒä¿®æ”¹ä¸º2048æˆ–è€…æ›´å¤§ã€‚åœ¨/etc/sysctl.confä¸­æ·»åŠ :net.core.somaxconn = 2048ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­æ‰§è¡Œsysctl -pã€‚</span>
</span><span class="code-line line-number" line="31">tcp-backlog <span class="token number">511</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token comment">#æŒ‡å®š redis åªæ¥æ”¶æ¥è‡ªäºè¯¥ IP åœ°å€çš„è¯·æ±‚ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå°†å¤„ç†æ‰€æœ‰è¯·æ±‚</span>
</span><span class="code-line line-number" line="34"><span class="token builtin class-name">bind</span> <span class="token number">127.0</span>.0.1
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment"># é…ç½®unix socketæ¥è®©redisæ”¯æŒç›‘å¬æœ¬åœ°è¿æ¥ã€‚</span>
</span><span class="code-line line-number" line="37"><span class="token comment"># unixsocket /var/run/redis/redis.sock</span>
</span><span class="code-line line-number" line="38"><span class="token comment"># é…ç½®unix socketä½¿ç”¨æ–‡ä»¶çš„æƒé™</span>
</span><span class="code-line line-number" line="39"><span class="token comment"># unixsocketperm 700</span>
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># æ­¤å‚æ•°ä¸ºè®¾ç½®å®¢æˆ·ç«¯ç©ºé—²è¶…è¿‡timeoutï¼ŒæœåŠ¡ç«¯ä¼šæ–­å¼€è¿æ¥ï¼Œä¸º0åˆ™æœåŠ¡ç«¯ä¸ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥ï¼Œä¸èƒ½å°äº0ã€‚</span>
</span><span class="code-line line-number" line="42"><span class="token function">timeout</span> <span class="token number">0</span>
</span><span class="code-line line-number" line="43">
</span><span class="code-line line-number" line="44"><span class="token comment"># tcp keepaliveå‚æ•°ã€‚å¦‚æœè®¾ç½®ä¸ä¸º0ï¼Œå°±ä½¿ç”¨é…ç½®tcpçš„SO_KEEPALIVEå€¼ï¼Œ</span>
</span><span class="code-line line-number" line="45"><span class="token comment"># ä½¿ç”¨keepaliveæœ‰ä¸¤ä¸ªå¥½å¤„:æ£€æµ‹æŒ‚æ‰çš„å¯¹ç«¯ã€‚é™ä½ä¸­é—´è®¾å¤‡å‡ºé—®é¢˜è€Œå¯¼è‡´ç½‘ç»œçœ‹ä¼¼è¿æ¥å´å·²ç»ä¸å¯¹ç«¯ç«¯å£çš„é—®é¢˜ã€‚</span>
</span><span class="code-line line-number" line="46"><span class="token comment"># åœ¨Linuxå†…æ ¸ä¸­ï¼Œè®¾ç½®äº†keepaliveï¼Œredisä¼šå®šæ—¶ç»™å¯¹ç«¯å‘é€ackã€‚æ£€æµ‹åˆ°å¯¹ç«¯å…³é—­éœ€è¦ä¸¤å€çš„è®¾ç½®å€¼ã€‚</span>
</span><span class="code-line line-number" line="47">tcp-keepalive <span class="token number">0</span>
</span><span class="code-line line-number" line="48">
</span><span class="code-line line-number" line="49"><span class="token comment"># æŒ‡å®šäº†æœåŠ¡ç«¯æ—¥å¿—çš„çº§åˆ«ã€‚çº§åˆ«åŒ…æ‹¬ï¼šdebugï¼ˆå¾ˆå¤šä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘ã€æµ‹è¯•ï¼‰ï¼Œ</span>
</span><span class="code-line line-number" line="50"><span class="token comment"># verboseï¼ˆè®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰debugçº§åˆ«ä¿¡æ¯å¤šï¼‰ï¼Œnoticeï¼ˆé€‚å½“çš„æ—¥å¿—çº§åˆ«ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œwarnï¼ˆåªæœ‰éå¸¸é‡è¦çš„ä¿¡æ¯ï¼‰</span>
</span><span class="code-line line-number" line="51">loglevel notice
</span><span class="code-line line-number" line="52">
</span><span class="code-line line-number" line="53"><span class="token comment">#æŒ‡å®šäº†è®°å½•æ—¥å¿—çš„æ–‡ä»¶ã€‚ç©ºå­—ç¬¦ä¸²çš„è¯ï¼Œæ—¥å¿—ä¼šæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚åå°è¿è¡Œçš„redisæ ‡å‡†è¾“å‡ºæ˜¯/dev/nullã€‚</span>
</span><span class="code-line line-number" line="54">logfile /var/log/redis/redis-server.log
</span><span class="code-line line-number" line="55">
</span><span class="code-line line-number" line="56"><span class="token comment"># æ˜¯å¦æ‰“å¼€è®°å½•syslogåŠŸèƒ½</span>
</span><span class="code-line line-number" line="57"><span class="token comment"># syslog-enabled no</span>
</span><span class="code-line line-number" line="58">
</span><span class="code-line line-number" line="59"><span class="token comment"># syslogçš„æ ‡è¯†ç¬¦ã€‚</span>
</span><span class="code-line line-number" line="60"><span class="token comment"># syslog-ident redis</span>
</span><span class="code-line line-number" line="61">
</span><span class="code-line line-number" line="62"><span class="token comment"># æ—¥å¿—çš„æ¥æºã€è®¾å¤‡</span>
</span><span class="code-line line-number" line="63"><span class="token comment"># syslog-facility local0</span>
</span><span class="code-line line-number" line="64">
</span><span class="code-line line-number" line="65"><span class="token comment"># æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“æ˜¯DB 0ã€‚å¯ä»¥é€šè¿‡â€SELECT â€œå‘½ä»¤é€‰æ‹©ä¸€ä¸ªdb</span>
</span><span class="code-line line-number" line="66">databases <span class="token number">16</span>
</span><span class="code-line line-number" line="67">
</span><span class="code-line line-number" line="68"><span class="token comment">################################ SNAPSHOTTING ################################</span>
</span><span class="code-line line-number" line="69"><span class="token comment"># å¿«ç…§é…ç½®</span>
</span><span class="code-line line-number" line="70"><span class="token comment"># æ³¨é‡Šæ‰â€œsaveâ€è¿™ä¸€è¡Œé…ç½®é¡¹å°±å¯ä»¥è®©ä¿å­˜æ•°æ®åº“åŠŸèƒ½å¤±æ•ˆ</span>
</span><span class="code-line line-number" line="71"><span class="token comment"># è®¾ç½®sedisè¿›è¡Œæ•°æ®åº“é•œåƒçš„é¢‘ç‡ã€‚</span>
</span><span class="code-line line-number" line="72"><span class="token comment"># 900ç§’ï¼ˆ15åˆ†é’Ÿï¼‰å†…è‡³å°‘1ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰ </span>
</span><span class="code-line line-number" line="73"><span class="token comment"># 300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰å†…è‡³å°‘10ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰ </span>
</span><span class="code-line line-number" line="74"><span class="token comment"># 60ç§’ï¼ˆ1åˆ†é’Ÿï¼‰å†…è‡³å°‘10000ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰</span>
</span><span class="code-line line-number" line="75">save <span class="token number">900</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="76">save <span class="token number">300</span> <span class="token number">10</span>
</span><span class="code-line line-number" line="77">save <span class="token number">60</span> <span class="token number">10000</span>
</span><span class="code-line line-number" line="78">
</span><span class="code-line line-number" line="79"><span class="token comment"># å½“RDBæŒä¹…åŒ–å‡ºç°é”™è¯¯åï¼Œæ˜¯å¦ä¾ç„¶è¿›è¡Œç»§ç»­è¿›è¡Œå·¥ä½œï¼Œyesï¼šä¸èƒ½è¿›è¡Œå·¥ä½œï¼Œnoï¼šå¯ä»¥ç»§ç»­è¿›è¡Œå·¥ä½œï¼Œ</span>
</span><span class="code-line line-number" line="80"><span class="token comment"># å¯ä»¥é€šè¿‡infoä¸­çš„rdb_last_bgsave_statusäº†è§£RDBæŒä¹…åŒ–æ˜¯å¦æœ‰é”™è¯¯</span>
</span><span class="code-line line-number" line="81">stop-writes-on-bgsave-error <span class="token function">yes</span>
</span><span class="code-line line-number" line="82">
</span><span class="code-line line-number" line="83"><span class="token comment"># ä½¿ç”¨å‹ç¼©rdbæ–‡ä»¶ï¼Œrdbæ–‡ä»¶å‹ç¼©ä½¿ç”¨LZFå‹ç¼©ç®—æ³•ï¼Œyesï¼šå‹ç¼©ï¼Œä½†æ˜¯éœ€è¦ä¸€äº›cpuçš„æ¶ˆè€—ã€‚noï¼šä¸å‹ç¼©ï¼Œéœ€è¦æ›´å¤šçš„ç£ç›˜ç©ºé—´</span>
</span><span class="code-line line-number" line="84">rdbcompression <span class="token function">yes</span>
</span><span class="code-line line-number" line="85">
</span><span class="code-line line-number" line="86"><span class="token comment"># æ˜¯å¦æ ¡éªŒrdbæ–‡ä»¶ã€‚ä»rdbæ ¼å¼çš„ç¬¬äº”ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨rdbæ–‡ä»¶çš„æœ«å°¾ä¼šå¸¦ä¸ŠCRC64çš„æ ¡éªŒå’Œã€‚</span>
</span><span class="code-line line-number" line="87"><span class="token comment"># è¿™è·Ÿæœ‰åˆ©äºæ–‡ä»¶çš„å®¹é”™æ€§ï¼Œä½†æ˜¯åœ¨ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰å¤§æ¦‚10%çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å¦‚æœä½ è¿½æ±‚é«˜æ€§èƒ½ï¼Œå¯ä»¥å…³é—­è¯¥é…ç½®ã€‚</span>
</span><span class="code-line line-number" line="88">rdbchecksum <span class="token function">yes</span>
</span><span class="code-line line-number" line="89">
</span><span class="code-line line-number" line="90"><span class="token comment"># rdbæ–‡ä»¶çš„åç§°</span>
</span><span class="code-line line-number" line="91">dbfilename dump.rdb
</span><span class="code-line line-number" line="92">
</span><span class="code-line line-number" line="93"><span class="token comment"># æ•°æ®ç›®å½•ï¼Œæ•°æ®åº“çš„å†™å…¥ä¼šåœ¨è¿™ä¸ªç›®å½•ã€‚rdbã€aofæ–‡ä»¶ä¹Ÿä¼šå†™åœ¨è¿™ä¸ªç›®å½•</span>
</span><span class="code-line line-number" line="94"><span class="token function">dir</span> /var/lib/redis
</span><span class="code-line line-number" line="95">
</span><span class="code-line line-number" line="96"><span class="token comment">################################# REPLICATION #################################</span>
</span><span class="code-line line-number" line="97"><span class="token comment"># å¤åˆ¶é€‰é¡¹ï¼Œslaveå¤åˆ¶å¯¹åº”çš„masterã€‚</span>
</span><span class="code-line line-number" line="98"><span class="token comment"># slaveof &#x3C;masterip> &#x3C;masterport></span>
</span><span class="code-line line-number" line="99">
</span><span class="code-line line-number" line="100"><span class="token comment">#å¦‚æœmasterè®¾ç½®äº†requirepassï¼Œé‚£ä¹ˆslaveè¦è¿ä¸Šmasterï¼Œéœ€è¦æœ‰masterçš„å¯†ç æ‰è¡Œã€‚masterauthå°±æ˜¯ç”¨æ¥é…ç½®masterçš„å¯†ç ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿ä¸Šmasteråè¿›è¡Œè®¤è¯ã€‚</span>
</span><span class="code-line line-number" line="101"><span class="token comment"># masterauth &#x3C;master-password></span>
</span><span class="code-line line-number" line="102">
</span><span class="code-line line-number" line="103"><span class="token comment">#å½“ä»åº“åŒä¸»æœºå¤±å»è¿æ¥æˆ–è€…å¤åˆ¶æ­£åœ¨è¿›è¡Œï¼Œä»æœºåº“æœ‰ä¸¤ç§è¿è¡Œæ–¹å¼ï¼š1) å¦‚æœslave-serve-stale-dataè®¾ç½®ä¸ºyes(é»˜è®¤è®¾ç½®)ï¼Œä»åº“ä¼šç»§ç»­å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚2) å¦‚æœslave-serve-stale-dataè®¾ç½®ä¸ºnoï¼Œé™¤å»INFOå’ŒSLAVOFå‘½ä»¤ä¹‹å¤–çš„ä»»ä½•è¯·æ±‚éƒ½ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯â€SYNC with master in progressâ€ã€‚</span>
</span><span class="code-line line-number" line="104">slave-serve-stale-data <span class="token function">yes</span>
</span><span class="code-line line-number" line="105">
</span><span class="code-line line-number" line="106"><span class="token comment">#ä½œä¸ºä»æœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯åªè¯»çš„ï¼ˆyesï¼‰ï¼Œå¯ä»¥ä¿®æ”¹æˆNOï¼Œç”¨äºå†™ï¼ˆä¸å»ºè®®ï¼‰ã€‚</span>
</span><span class="code-line line-number" line="107">slave-read-only <span class="token function">yes</span>
</span><span class="code-line line-number" line="108">
</span><span class="code-line line-number" line="109"><span class="token comment">#æ˜¯å¦ä½¿ç”¨socketæ–¹å¼å¤åˆ¶æ•°æ®ã€‚ç›®å‰rediså¤åˆ¶æä¾›ä¸¤ç§æ–¹å¼ï¼Œdiskå’Œsocketã€‚å¦‚æœæ–°çš„slaveè¿ä¸Šæ¥æˆ–è€…é‡è¿çš„slaveæ— æ³•éƒ¨åˆ†åŒæ­¥ï¼Œå°±ä¼šæ‰§è¡Œå…¨é‡åŒæ­¥ï¼Œmasterä¼šç”Ÿæˆrdbæ–‡ä»¶ã€‚æœ‰2ç§æ–¹å¼ï¼šdiskæ–¹å¼æ˜¯masteråˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹æŠŠrdbæ–‡ä»¶ä¿å­˜åˆ°ç£ç›˜ï¼Œå†æŠŠç£ç›˜ä¸Šçš„rdbæ–‡ä»¶ä¼ é€’ç»™slaveã€‚socketæ˜¯masteråˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œç›´æ¥æŠŠrdbæ–‡ä»¶ä»¥socketçš„æ–¹å¼å‘ç»™slaveã€‚diskæ–¹å¼çš„æ—¶å€™ï¼Œå½“ä¸€ä¸ªrdbä¿å­˜çš„è¿‡ç¨‹ä¸­ï¼Œå¤šä¸ªslaveéƒ½èƒ½å…±äº«è¿™ä¸ªrdbæ–‡ä»¶ã€‚socketçš„æ–¹å¼å°±çš„ä¸€ä¸ªä¸ªslaveé¡ºåºå¤åˆ¶ã€‚åœ¨ç£ç›˜é€Ÿåº¦ç¼“æ…¢ï¼Œç½‘é€Ÿå¿«çš„æƒ…å†µä¸‹æ¨èç”¨socketæ–¹å¼ã€‚</span>
</span><span class="code-line line-number" line="110">repl-diskless-sync no
</span><span class="code-line line-number" line="111">
</span><span class="code-line line-number" line="112"><span class="token comment">#disklesså¤åˆ¶çš„å»¶è¿Ÿæ—¶é—´ï¼Œé˜²æ­¢è®¾ç½®ä¸º0ã€‚ä¸€æ—¦å¤åˆ¶å¼€å§‹ï¼ŒèŠ‚ç‚¹ä¸ä¼šå†æ¥æ”¶æ–°slaveçš„å¤åˆ¶è¯·æ±‚ç›´åˆ°ä¸‹ä¸€ä¸ªrdbä¼ è¾“ã€‚æ‰€ä»¥æœ€å¥½ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç­‰æ›´å¤šçš„slaveè¿ä¸Šæ¥ã€‚</span>
</span><span class="code-line line-number" line="113">repl-diskless-sync-delay <span class="token number">5</span>
</span><span class="code-line line-number" line="114">
</span><span class="code-line line-number" line="115"><span class="token comment">#slaveæ ¹æ®æŒ‡å®šçš„æ—¶é—´é—´éš”å‘æœåŠ¡å™¨å‘é€pingè¯·æ±‚ã€‚æ—¶é—´é—´éš”å¯ä»¥é€šè¿‡ repl_ping_slave_period æ¥è®¾ç½®ï¼Œé»˜è®¤10ç§’ã€‚</span>
</span><span class="code-line line-number" line="116"><span class="token comment"># repl-ping-slave-period 10</span>
</span><span class="code-line line-number" line="117">
</span><span class="code-line line-number" line="118"><span class="token comment">#å¤åˆ¶è¿æ¥è¶…æ—¶æ—¶é—´ã€‚masterå’Œslaveéƒ½æœ‰è¶…æ—¶æ—¶é—´çš„è®¾ç½®ã€‚masteræ£€æµ‹åˆ°slaveä¸Šæ¬¡å‘é€çš„æ—¶é—´è¶…è¿‡repl-timeoutï¼Œå³è®¤ä¸ºslaveç¦»çº¿ï¼Œæ¸…é™¤è¯¥slaveä¿¡æ¯ã€‚slaveæ£€æµ‹åˆ°ä¸Šæ¬¡å’Œmasteräº¤äº’çš„æ—¶é—´è¶…è¿‡repl-timeoutï¼Œåˆ™è®¤ä¸ºmasterç¦»çº¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯repl-timeoutéœ€è¦è®¾ç½®ä¸€ä¸ªæ¯”repl-ping-slave-periodæ›´å¤§çš„å€¼ï¼Œä¸ç„¶ä¼šç»å¸¸æ£€æµ‹åˆ°è¶…æ—¶ã€‚</span>
</span><span class="code-line line-number" line="119"><span class="token comment"># repl-timeout 60</span>
</span><span class="code-line line-number" line="120">
</span><span class="code-line line-number" line="121"><span class="token comment">#æ˜¯å¦ç¦æ­¢å¤åˆ¶tcpé“¾æ¥çš„tcp nodelayå‚æ•°ï¼Œå¯ä¼ é€’yesæˆ–è€…noã€‚é»˜è®¤æ˜¯noï¼Œå³ä½¿ç”¨tcp nodelayã€‚å¦‚æœmasterè®¾ç½®äº†yesæ¥ç¦æ­¢tcp nodelayè®¾ç½®ï¼Œåœ¨æŠŠæ•°æ®å¤åˆ¶ç»™slaveçš„æ—¶å€™ï¼Œä¼šå‡å°‘åŒ…çš„æ•°é‡å’Œæ›´å°çš„ç½‘ç»œå¸¦å®½ã€‚ä½†æ˜¯è¿™ä¹Ÿå¯èƒ½å¸¦æ¥æ•°æ®çš„å»¶è¿Ÿã€‚é»˜è®¤æˆ‘ä»¬æ¨èæ›´å°çš„å»¶è¿Ÿï¼Œä½†æ˜¯åœ¨æ•°æ®é‡ä¼ è¾“å¾ˆå¤§çš„åœºæ™¯ä¸‹ï¼Œå»ºè®®é€‰æ‹©yesã€‚</span>
</span><span class="code-line line-number" line="122">repl-disable-tcp-nodelay no
</span><span class="code-line line-number" line="123">
</span><span class="code-line line-number" line="124"><span class="token comment">#å¤åˆ¶ç¼“å†²åŒºå¤§å°ï¼Œè¿™æ˜¯ä¸€ä¸ªç¯å½¢å¤åˆ¶ç¼“å†²åŒºï¼Œç”¨æ¥ä¿å­˜æœ€æ–°å¤åˆ¶çš„å‘½ä»¤ã€‚è¿™æ ·åœ¨slaveç¦»çº¿çš„æ—¶å€™ï¼Œä¸éœ€è¦å®Œå…¨å¤åˆ¶masterçš„æ•°æ®ï¼Œå¦‚æœå¯ä»¥æ‰§è¡Œéƒ¨åˆ†åŒæ­¥ï¼Œåªéœ€è¦æŠŠç¼“å†²åŒºçš„éƒ¨åˆ†æ•°æ®å¤åˆ¶ç»™slaveï¼Œå°±èƒ½æ¢å¤æ­£å¸¸å¤åˆ¶çŠ¶æ€ã€‚ç¼“å†²åŒºçš„å¤§å°è¶Šå¤§ï¼Œslaveç¦»çº¿çš„æ—¶é—´å¯ä»¥æ›´é•¿ï¼Œå¤åˆ¶ç¼“å†²åŒºåªæœ‰åœ¨æœ‰slaveè¿æ¥çš„æ—¶å€™æ‰åˆ†é…å†…å­˜ã€‚æ²¡æœ‰slaveçš„ä¸€æ®µæ—¶é—´ï¼Œå†…å­˜ä¼šè¢«é‡Šæ”¾å‡ºæ¥ï¼Œé»˜è®¤1mã€‚</span>
</span><span class="code-line line-number" line="125"><span class="token comment"># repl-backlog-size 5mb</span>
</span><span class="code-line line-number" line="126">
</span><span class="code-line line-number" line="127"><span class="token comment">#masteræ²¡æœ‰slaveä¸€æ®µæ—¶é—´ä¼šé‡Šæ”¾å¤åˆ¶ç¼“å†²åŒºçš„å†…å­˜ï¼Œrepl-backlog-ttlç”¨æ¥è®¾ç½®è¯¥æ—¶é—´é•¿åº¦ã€‚å•ä½ä¸ºç§’ã€‚</span>
</span><span class="code-line line-number" line="128"><span class="token comment"># repl-backlog-ttl 3600</span>
</span><span class="code-line line-number" line="129">
</span><span class="code-line line-number" line="130"><span class="token comment">#å½“masterä¸å¯ç”¨ï¼ŒSentinelä¼šæ ¹æ®slaveçš„ä¼˜å…ˆçº§é€‰ä¸¾ä¸€ä¸ªmasterã€‚æœ€ä½çš„ä¼˜å…ˆçº§çš„slaveï¼Œå½“é€‰masterã€‚è€Œé…ç½®æˆ0ï¼Œæ°¸è¿œä¸ä¼šè¢«é€‰ä¸¾ã€‚</span>
</span><span class="code-line line-number" line="131">slave-priority <span class="token number">100</span>
</span><span class="code-line line-number" line="132">
</span><span class="code-line line-number" line="133"><span class="token comment">#redisæä¾›äº†å¯ä»¥è®©masteråœæ­¢å†™å…¥çš„æ–¹å¼ï¼Œå¦‚æœé…ç½®äº†min-slaves-to-writeï¼Œå¥åº·çš„slaveçš„ä¸ªæ•°å°äºNï¼Œmaterå°±ç¦æ­¢å†™å…¥ã€‚masteræœ€å°‘å¾—æœ‰å¤šå°‘ä¸ªå¥åº·çš„slaveå­˜æ´»æ‰èƒ½æ‰§è¡Œå†™å‘½ä»¤ã€‚è¿™ä¸ªé…ç½®è™½ç„¶ä¸èƒ½ä¿è¯Nä¸ªslaveéƒ½ä¸€å®šèƒ½æ¥æ”¶åˆ°masterçš„å†™æ“ä½œï¼Œä½†æ˜¯èƒ½é¿å…æ²¡æœ‰è¶³å¤Ÿå¥åº·çš„slaveçš„æ—¶å€™ï¼Œmasterä¸èƒ½å†™å…¥æ¥é¿å…æ•°æ®ä¸¢å¤±ã€‚è®¾ç½®ä¸º0æ˜¯å…³é—­è¯¥åŠŸèƒ½ã€‚</span>
</span><span class="code-line line-number" line="134"><span class="token comment"># min-slaves-to-write 3</span>
</span><span class="code-line line-number" line="135">
</span><span class="code-line line-number" line="136"><span class="token comment">#å»¶è¿Ÿå°äºmin-slaves-max-lagç§’çš„slaveæ‰è®¤ä¸ºæ˜¯å¥åº·çš„slaveã€‚</span>
</span><span class="code-line line-number" line="137"><span class="token comment"># min-slaves-max-lag 10</span>
</span><span class="code-line line-number" line="138">
</span><span class="code-line line-number" line="139"><span class="token comment"># è®¾ç½®1æˆ–å¦ä¸€ä¸ªè®¾ç½®ä¸º0ç¦ç”¨è¿™ä¸ªç‰¹æ€§ã€‚</span>
</span><span class="code-line line-number" line="140"><span class="token comment"># Setting one or the other to 0 disables the feature.</span>
</span><span class="code-line line-number" line="141"><span class="token comment"># By default min-slaves-to-write is set to 0 (feature disabled) and</span>
</span><span class="code-line line-number" line="142"><span class="token comment"># min-slaves-max-lag is set to 10.</span>
</span><span class="code-line line-number" line="143">
</span><span class="code-line line-number" line="144"><span class="token comment">################################## SECURITY ###################################</span>
</span><span class="code-line line-number" line="145"><span class="token comment">#requirepassé…ç½®å¯ä»¥è®©ç”¨æˆ·ä½¿ç”¨AUTHå‘½ä»¤æ¥è®¤è¯å¯†ç ï¼Œæ‰èƒ½ä½¿ç”¨å…¶ä»–å‘½ä»¤ã€‚è¿™è®©rediså¯ä»¥ä½¿ç”¨åœ¨ä¸å—ä¿¡ä»»çš„ç½‘ç»œä¸­ã€‚ä¸ºäº†ä¿æŒå‘åçš„å…¼å®¹æ€§ï¼Œå¯ä»¥æ³¨é‡Šè¯¥å‘½ä»¤ï¼Œå› ä¸ºå¤§éƒ¨åˆ†ç”¨æˆ·ä¹Ÿä¸éœ€è¦è®¤è¯ã€‚ä½¿ç”¨requirepassçš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå› ä¸ºrediså¤ªå¿«äº†ï¼Œæ¯ç§’å¯ä»¥è®¤è¯15wæ¬¡å¯†ç ï¼Œç®€å•çš„å¯†ç å¾ˆå®¹æ˜“è¢«æ”»ç ´ï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨ä¸€ä¸ªæ›´å¤æ‚çš„å¯†ç ã€‚</span>
</span><span class="code-line line-number" line="146"><span class="token comment"># requirepass foobared</span>
</span><span class="code-line line-number" line="147">
</span><span class="code-line line-number" line="148"><span class="token comment">#æŠŠå±é™©çš„å‘½ä»¤ç»™ä¿®æ”¹æˆå…¶ä»–åç§°ã€‚æ¯”å¦‚CONFIGå‘½ä»¤å¯ä»¥é‡å‘½åä¸ºä¸€ä¸ªå¾ˆéš¾è¢«çŒœåˆ°çš„å‘½ä»¤ï¼Œè¿™æ ·ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ï¼Œè€Œå†…éƒ¨å·¥å…·è¿˜èƒ½æ¥ç€ä½¿ç”¨ã€‚</span>
</span><span class="code-line line-number" line="149"><span class="token comment"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span>
</span><span class="code-line line-number" line="150">
</span><span class="code-line line-number" line="151"><span class="token comment">#è®¾ç½®æˆä¸€ä¸ªç©ºçš„å€¼ï¼Œå¯ä»¥ç¦æ­¢ä¸€ä¸ªå‘½ä»¤</span>
</span><span class="code-line line-number" line="152"><span class="token comment"># rename-command CONFIG ""</span>
</span><span class="code-line line-number" line="153"><span class="token comment">################################### LIMITS ####################################</span>
</span><span class="code-line line-number" line="154">
</span><span class="code-line line-number" line="155"><span class="token comment"># è®¾ç½®èƒ½è¿ä¸Šredisçš„æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°é‡ã€‚é»˜è®¤æ˜¯10000ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚</span>
</span><span class="code-line line-number" line="156"><span class="token comment"># ç”±äºredisä¸åŒºåˆ†è¿æ¥æ˜¯å®¢æˆ·ç«¯è¿æ¥è¿˜æ˜¯å†…éƒ¨æ‰“å¼€æ–‡ä»¶æˆ–è€…å’Œslaveè¿æ¥ç­‰ï¼Œæ‰€ä»¥maxclientsæœ€å°å»ºè®®è®¾ç½®åˆ°32ã€‚</span>
</span><span class="code-line line-number" line="157"><span class="token comment"># å¦‚æœè¶…è¿‡äº†maxclientsï¼Œredisä¼šç»™æ–°çš„è¿æ¥å‘é€â€™max number of clients reachedâ€™ï¼Œå¹¶å…³é—­è¿æ¥ã€‚</span>
</span><span class="code-line line-number" line="158"><span class="token comment"># maxclients 10000</span>
</span><span class="code-line line-number" line="159">
</span><span class="code-line line-number" line="160"><span class="token comment"># redisé…ç½®çš„æœ€å¤§å†…å­˜å®¹é‡ã€‚å½“å†…å­˜æ»¡äº†ï¼Œéœ€è¦é…åˆmaxmemory-policyç­–ç•¥è¿›è¡Œå¤„ç†ã€‚</span>
</span><span class="code-line line-number" line="161"><span class="token comment"># æ³¨æ„slaveçš„è¾“å‡ºç¼“å†²åŒºæ˜¯ä¸è®¡ç®—åœ¨maxmemoryå†…çš„ã€‚æ‰€ä»¥ä¸ºäº†é˜²æ­¢ä¸»æœºå†…å­˜ä½¿ç”¨å®Œï¼Œå»ºè®®è®¾ç½®çš„maxmemoryéœ€è¦æ›´å°ä¸€äº›ã€‚</span>
</span><span class="code-line line-number" line="162"><span class="token comment"># maxmemory &#x3C;bytes></span>
</span><span class="code-line line-number" line="163">
</span><span class="code-line line-number" line="164"><span class="token comment"># å†…å­˜å®¹é‡è¶…è¿‡maxmemoryåçš„å¤„ç†ç­–ç•¥ã€‚</span>
</span><span class="code-line line-number" line="165"><span class="token comment"># volatile-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„keyã€‚</span>
</span><span class="code-line line-number" line="166"><span class="token comment"># volatile-randomï¼šéšæœºç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„keyã€‚</span>
</span><span class="code-line line-number" line="167"><span class="token comment"># volatile-ttlï¼šç§»é™¤å³å°†è¿‡æœŸçš„keyï¼Œæ ¹æ®æœ€è¿‘è¿‡æœŸæ—¶é—´æ¥åˆ é™¤ï¼ˆè¾…ä»¥TTLï¼‰</span>
</span><span class="code-line line-number" line="168"><span class="token comment"># allkeys-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤ä»»ä½•keyã€‚</span>
</span><span class="code-line line-number" line="169"><span class="token comment"># allkeys-randomï¼šéšæœºç§»é™¤ä»»ä½•keyã€‚</span>
</span><span class="code-line line-number" line="170"><span class="token comment"># noevictionï¼šä¸ç§»é™¤ä»»ä½•keyï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªå†™é”™è¯¯ã€‚</span>
</span><span class="code-line line-number" line="171"><span class="token comment"># ä¸Šé¢çš„è¿™äº›é©±é€ç­–ç•¥ï¼Œå¦‚æœredisæ²¡æœ‰åˆé€‚çš„keyé©±é€ï¼Œå¯¹äºå†™å‘½ä»¤ï¼Œè¿˜æ˜¯ä¼šè¿”å›é”™è¯¯ã€‚</span>
</span><span class="code-line line-number" line="172"><span class="token comment"># rediså°†ä¸å†æ¥æ”¶å†™è¯·æ±‚ï¼Œåªæ¥æ”¶getè¯·æ±‚ã€‚</span>
</span><span class="code-line line-number" line="173"><span class="token comment"># å†™å‘½ä»¤åŒ…æ‹¬ï¼šset setnx setex append incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby getset mset msetnx exec sortã€‚</span>
</span><span class="code-line line-number" line="174"><span class="token comment"># maxmemory-policy noeviction</span>
</span><span class="code-line line-number" line="175">
</span><span class="code-line line-number" line="176"><span class="token comment">#lruæ£€æµ‹çš„æ ·æœ¬æ•°ã€‚ä½¿ç”¨lruæˆ–è€…ttlæ·˜æ±°ç®—æ³•ï¼Œä»éœ€è¦æ·˜æ±°çš„åˆ—è¡¨ä¸­éšæœºé€‰æ‹©sampleä¸ªkeyï¼Œé€‰å‡ºé—²ç½®æ—¶é—´æœ€é•¿çš„keyç§»é™¤ã€‚</span>
</span><span class="code-line line-number" line="177"><span class="token comment"># maxmemory-samples 5</span>
</span><span class="code-line line-number" line="178">
</span><span class="code-line line-number" line="179"><span class="token comment">############################## APPEND ONLY MODE ###############################</span>
</span><span class="code-line line-number" line="180"><span class="token comment">#é»˜è®¤redisä½¿ç”¨çš„æ˜¯rdbæ–¹å¼æŒä¹…åŒ–ï¼Œè¿™ç§æ–¹å¼åœ¨è®¸å¤šåº”ç”¨ä¸­å·²ç»è¶³å¤Ÿç”¨äº†ã€‚ä½†æ˜¯rediså¦‚æœä¸­é€”å®•æœºï¼Œä¼šå¯¼è‡´å¯èƒ½æœ‰å‡ åˆ†é’Ÿçš„æ•°æ®ä¸¢å¤±ï¼Œæ ¹æ®saveæ¥ç­–ç•¥è¿›è¡ŒæŒä¹…åŒ–ï¼ŒAppend Only Fileæ˜¯å¦ä¸€ç§æŒä¹…åŒ–æ–¹å¼ï¼Œå¯ä»¥æä¾›æ›´å¥½çš„æŒä¹…åŒ–ç‰¹æ€§ã€‚Redisä¼šæŠŠæ¯æ¬¡å†™å…¥çš„æ•°æ®åœ¨æ¥æ”¶åéƒ½å†™å…¥ appendonly.aof æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶Rediséƒ½ä¼šå…ˆæŠŠè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®è¯»å…¥å†…å­˜é‡Œï¼Œå…ˆå¿½ç•¥RDBæ–‡ä»¶ã€‚</span>
</span><span class="code-line line-number" line="181">appendonly no
</span><span class="code-line line-number" line="182">
</span><span class="code-line line-number" line="183"><span class="token comment">#aofæ–‡ä»¶å</span>
</span><span class="code-line line-number" line="184">appendfilename <span class="token string">"appendonly.aof"</span>
</span><span class="code-line line-number" line="185">
</span><span class="code-line line-number" line="186"><span class="token comment"># aofæŒä¹…åŒ–ç­–ç•¥çš„é…ç½®</span>
</span><span class="code-line line-number" line="187"><span class="token comment"># noè¡¨ç¤ºä¸æ‰§è¡Œfsyncï¼Œç”±æ“ä½œç³»ç»Ÿä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ï¼Œé€Ÿåº¦æœ€å¿«ã€‚</span>
</span><span class="code-line line-number" line="188"><span class="token comment"># alwaysè¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ã€‚</span>
</span><span class="code-line line-number" line="189"><span class="token comment"># everysecè¡¨ç¤ºæ¯ç§’æ‰§è¡Œä¸€æ¬¡fsyncï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸¢å¤±è¿™1sæ•°æ®ã€‚</span>
</span><span class="code-line line-number" line="190">appendfsync everysec
</span><span class="code-line line-number" line="191">
</span><span class="code-line line-number" line="192"><span class="token comment"># åœ¨aofé‡å†™æˆ–è€…å†™å…¥rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œå¤§é‡IOï¼Œ</span>
</span><span class="code-line line-number" line="193"><span class="token comment"># æ­¤æ—¶å¯¹äºeverysecå’Œalwaysçš„aofæ¨¡å¼æ¥è¯´ï¼Œæ‰§è¡Œfsyncä¼šé€ æˆé˜»å¡è¿‡é•¿æ—¶é—´ï¼Œ</span>
</span><span class="code-line line-number" line="194"><span class="token comment"># no-appendfsync-on-rewriteå­—æ®µè®¾ç½®ä¸ºé»˜è®¤è®¾ç½®ä¸ºnoã€‚</span>
</span><span class="code-line line-number" line="195"><span class="token comment"># å¦‚æœå¯¹å»¶è¿Ÿè¦æ±‚å¾ˆé«˜çš„åº”ç”¨ï¼Œè¿™ä¸ªå­—æ®µå¯ä»¥è®¾ç½®ä¸ºyesï¼Œå¦åˆ™è¿˜æ˜¯è®¾ç½®ä¸ºnoï¼Œ</span>
</span><span class="code-line line-number" line="196"><span class="token comment"># è¿™æ ·å¯¹æŒä¹…åŒ–ç‰¹æ€§æ¥è¯´è¿™æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚è®¾ç½®ä¸ºyesè¡¨ç¤ºrewriteæœŸé—´å¯¹æ–°å†™æ“ä½œä¸fsync,</span>
</span><span class="code-line line-number" line="197"><span class="token comment"># æš‚æ—¶å­˜åœ¨å†…å­˜ä¸­,ç­‰rewriteå®Œæˆåå†å†™å…¥ï¼Œé»˜è®¤ä¸ºnoï¼Œå»ºè®®yesã€‚Linuxçš„é»˜è®¤fsyncç­–ç•¥æ˜¯30ç§’ã€‚å¯èƒ½ä¸¢å¤±30ç§’æ•°æ®ã€‚</span>
</span><span class="code-line line-number" line="198">no-appendfsync-on-rewrite no
</span><span class="code-line line-number" line="199">
</span><span class="code-line line-number" line="200"><span class="token comment"># aofè‡ªåŠ¨é‡å†™é…ç½®ã€‚å½“ç›®å‰aofæ–‡ä»¶å¤§å°è¶…è¿‡ä¸Šä¸€æ¬¡é‡å†™çš„aofæ–‡ä»¶å¤§å°çš„ç™¾åˆ†ä¹‹å¤šå°‘è¿›è¡Œé‡å†™ï¼Œ</span>
</span><span class="code-line line-number" line="201"><span class="token comment"># å³å½“aofæ–‡ä»¶å¢é•¿åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™Redisèƒ½å¤Ÿè°ƒç”¨bgrewriteaofå¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œé‡å†™ã€‚</span>
</span><span class="code-line line-number" line="202"><span class="token comment"># å½“å‰AOFæ–‡ä»¶å¤§å°æ˜¯ä¸Šæ¬¡æ—¥å¿—é‡å†™å¾—åˆ°AOFæ–‡ä»¶å¤§å°çš„äºŒå€ï¼ˆè®¾ç½®ä¸º100ï¼‰æ—¶ï¼Œè‡ªåŠ¨å¯åŠ¨æ–°çš„æ—¥å¿—é‡å†™è¿‡ç¨‹ã€‚</span>
</span><span class="code-line line-number" line="203">auto-aof-rewrite-percentage <span class="token number">100</span>
</span><span class="code-line line-number" line="204"><span class="token comment">#è®¾ç½®å…è®¸é‡å†™çš„æœ€å°aofæ–‡ä»¶å¤§å°ï¼Œé¿å…äº†è¾¾åˆ°çº¦å®šç™¾åˆ†æ¯”ä½†å°ºå¯¸ä»ç„¶å¾ˆå°çš„æƒ…å†µè¿˜è¦é‡å†™</span>
</span><span class="code-line line-number" line="205">auto-aof-rewrite-min-size 64mb
</span><span class="code-line line-number" line="206">
</span><span class="code-line line-number" line="207"><span class="token comment"># aofæ–‡ä»¶å¯èƒ½åœ¨å°¾éƒ¨æ˜¯ä¸å®Œæ•´çš„ï¼Œå½“rediså¯åŠ¨çš„æ—¶å€™ï¼Œaofæ–‡ä»¶çš„æ•°æ®è¢«è½½å…¥å†…å­˜ã€‚</span>
</span><span class="code-line line-number" line="208"><span class="token comment"># é‡å¯å¯èƒ½å‘ç”Ÿåœ¨redisæ‰€åœ¨çš„ä¸»æœºæ“ä½œç³»ç»Ÿå®•æœºåï¼Œ</span>
</span><span class="code-line line-number" line="209"><span class="token comment"># å°¤å…¶åœ¨ext4æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰åŠ ä¸Šdata=orderedé€‰é¡¹ï¼ˆrediså®•æœºæˆ–è€…å¼‚å¸¸ç»ˆæ­¢ä¸ä¼šé€ æˆå°¾éƒ¨ä¸å®Œæ•´ç°è±¡ã€‚ï¼‰</span>
</span><span class="code-line line-number" line="210"><span class="token comment"># å‡ºç°è¿™ç§ç°è±¡ï¼Œå¯ä»¥é€‰æ‹©è®©redisé€€å‡ºï¼Œæˆ–è€…å¯¼å…¥å°½å¯èƒ½å¤šçš„æ•°æ®ã€‚å¦‚æœé€‰æ‹©çš„æ˜¯yesï¼Œ</span>
</span><span class="code-line line-number" line="211"><span class="token comment"># å½“æˆªæ–­çš„aofæ–‡ä»¶è¢«å¯¼å…¥çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å‘å¸ƒä¸€ä¸ªlogç»™å®¢æˆ·ç«¯ç„¶åloadã€‚å¦‚æœæ˜¯noï¼Œç”¨æˆ·å¿…é¡»æ‰‹åŠ¨redis-check-aofä¿®å¤AOFæ–‡ä»¶æ‰å¯ä»¥ã€‚</span>
</span><span class="code-line line-number" line="212">aof-load-truncated <span class="token function">yes</span>
</span><span class="code-line line-number" line="213">
</span><span class="code-line line-number" line="214"><span class="token comment">################################ LUA SCRIPTING ###############################</span>
</span><span class="code-line line-number" line="215"><span class="token comment"># å¦‚æœè¾¾åˆ°æœ€å¤§æ—¶é—´é™åˆ¶ï¼ˆæ¯«ç§’ï¼‰ï¼Œredisä¼šè®°ä¸ªlogï¼Œç„¶åè¿”å›errorã€‚</span>
</span><span class="code-line line-number" line="216"><span class="token comment"># å½“ä¸€ä¸ªè„šæœ¬è¶…è¿‡äº†æœ€å¤§æ—¶é™ã€‚</span>
</span><span class="code-line line-number" line="217"><span class="token comment"># åªæœ‰SCRIPT KILLå’ŒSHUTDOWN NOSAVEå¯ä»¥ç”¨ã€‚</span>
</span><span class="code-line line-number" line="218"><span class="token comment"># ç¬¬ä¸€ä¸ªå¯ä»¥æ€æ²¡æœ‰è°ƒwriteå‘½ä»¤çš„ä¸œè¥¿ã€‚è¦æ˜¯å·²ç»è°ƒç”¨äº†writeï¼Œåªèƒ½ç”¨ç¬¬äºŒä¸ªå‘½ä»¤æ€ã€‚</span>
</span><span class="code-line line-number" line="219">lua-time-limit <span class="token number">5000</span>
</span><span class="code-line line-number" line="220">
</span><span class="code-line line-number" line="221"><span class="token comment">################################ REDIS CLUSTER ###############################</span>
</span><span class="code-line line-number" line="222"><span class="token comment"># é›†ç¾¤å¼€å…³ï¼Œé»˜è®¤æ˜¯ä¸å¼€å¯é›†ç¾¤æ¨¡å¼ã€‚</span>
</span><span class="code-line line-number" line="223"><span class="token comment"># cluster-enabled yes</span>
</span><span class="code-line line-number" line="224">
</span><span class="code-line line-number" line="225"><span class="token comment"># é›†ç¾¤é…ç½®æ–‡ä»¶çš„åç§°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé›†ç¾¤ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼ŒæŒä¹…åŒ–ä¿å­˜é›†ç¾¤çš„ä¿¡æ¯ã€‚</span>
</span><span class="code-line line-number" line="226"><span class="token comment"># è¿™ä¸ªæ–‡ä»¶å¹¶ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æœ‰Redisç”Ÿæˆå¹¶æ›´æ–°ï¼Œæ¯ä¸ªRedisé›†ç¾¤èŠ‚ç‚¹éœ€è¦ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶ï¼Œ</span>
</span><span class="code-line line-number" line="227"><span class="token comment"># è¯·ç¡®ä¿ä¸å®ä¾‹è¿è¡Œçš„ç³»ç»Ÿä¸­é…ç½®æ–‡ä»¶åç§°ä¸å†²çª</span>
</span><span class="code-line line-number" line="228"><span class="token comment"># cluster-config-file nodes-6379.conf</span>
</span><span class="code-line line-number" line="229">
</span><span class="code-line line-number" line="230"><span class="token comment"># èŠ‚ç‚¹äº’è¿è¶…æ—¶çš„é˜€å€¼ã€‚é›†ç¾¤èŠ‚ç‚¹è¶…æ—¶æ¯«ç§’æ•°</span>
</span><span class="code-line line-number" line="231"><span class="token comment"># cluster-node-timeout 15000</span>
</span><span class="code-line line-number" line="232">
</span><span class="code-line line-number" line="233"><span class="token comment"># åœ¨è¿›è¡Œæ•…éšœè½¬ç§»çš„æ—¶å€™ï¼Œå…¨éƒ¨slaveéƒ½ä¼šè¯·æ±‚ç”³è¯·ä¸ºmasterï¼Œä½†æ˜¯æœ‰äº›slaveå¯èƒ½ä¸masteræ–­å¼€è¿æ¥ä¸€æ®µæ—¶é—´äº†ï¼Œ</span>
</span><span class="code-line line-number" line="234"><span class="token comment"># å¯¼è‡´æ•°æ®è¿‡äºé™ˆæ—§ï¼Œè¿™æ ·çš„slaveä¸åº”è¯¥è¢«æå‡ä¸ºmasterã€‚è¯¥å‚æ•°å°±æ˜¯ç”¨æ¥åˆ¤æ–­slaveèŠ‚ç‚¹ä¸masteræ–­çº¿çš„æ—¶é—´æ˜¯å¦è¿‡é•¿ã€‚åˆ¤æ–­æ–¹æ³•æ˜¯ï¼š</span>
</span><span class="code-line line-number" line="235"><span class="token comment"># æ¯”è¾ƒslaveæ–­å¼€è¿æ¥çš„æ—¶é—´å’Œ(node-timeout * slave-validity-factor) + repl-ping-slave-period</span>
</span><span class="code-line line-number" line="236"><span class="token comment"># å¦‚æœèŠ‚ç‚¹è¶…æ—¶æ—¶é—´ä¸ºä¸‰åç§’, å¹¶ä¸”slave-validity-factorä¸º10,å‡è®¾é»˜è®¤çš„repl-ping-slave-periodæ˜¯10ç§’ï¼Œ</span>
</span><span class="code-line line-number" line="237"><span class="token comment"># å³å¦‚æœè¶…è¿‡310ç§’slaveå°†ä¸ä¼šå°è¯•è¿›è¡Œæ•…éšœè½¬ç§» </span>
</span><span class="code-line line-number" line="238"><span class="token comment"># cluster-slave-validity-factor 10</span>
</span><span class="code-line line-number" line="239">
</span><span class="code-line line-number" line="240"><span class="token comment"># masterçš„slaveæ•°é‡å¤§äºè¯¥å€¼ï¼Œslaveæ‰èƒ½è¿ç§»åˆ°å…¶ä»–å­¤ç«‹masterä¸Šï¼Œ</span>
</span><span class="code-line line-number" line="241"><span class="token comment"># å¦‚è¿™ä¸ªå‚æ•°è‹¥è¢«è®¾ä¸º2ï¼Œé‚£ä¹ˆåªæœ‰å½“ä¸€ä¸ªä¸»èŠ‚ç‚¹æ‹¥æœ‰2 ä¸ªå¯å·¥ä½œçš„ä»èŠ‚ç‚¹æ—¶ï¼Œå®ƒçš„ä¸€ä¸ªä»èŠ‚ç‚¹ä¼šå°è¯•è¿ç§»ã€‚</span>
</span><span class="code-line line-number" line="242"><span class="token comment"># cluster-migration-barrier 1</span>
</span><span class="code-line line-number" line="243">
</span><span class="code-line line-number" line="244"><span class="token comment"># é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å…¨éƒ¨çš„slotæœ‰èŠ‚ç‚¹è´Ÿè´£ï¼Œé›†ç¾¤çŠ¶æ€æ‰ä¸ºokï¼Œæ‰èƒ½æä¾›æœåŠ¡ã€‚</span>
</span><span class="code-line line-number" line="245"><span class="token comment"># è®¾ç½®ä¸ºnoï¼Œå¯ä»¥åœ¨slotæ²¡æœ‰å…¨éƒ¨åˆ†é…çš„æ—¶å€™æä¾›æœåŠ¡ã€‚</span>
</span><span class="code-line line-number" line="246"><span class="token comment"># ä¸å»ºè®®æ‰“å¼€è¯¥é…ç½®ï¼Œè¿™æ ·ä¼šé€ æˆåˆ†åŒºçš„æ—¶å€™ï¼Œå°åˆ†åŒºçš„masterä¸€ç›´åœ¨æ¥å—å†™è¯·æ±‚ï¼Œè€Œé€ æˆå¾ˆé•¿æ—¶é—´æ•°æ®ä¸ä¸€è‡´ã€‚</span>
</span><span class="code-line line-number" line="247"><span class="token comment"># cluster-require-full-coverage yes</span>
</span><span class="code-line line-number" line="248">
</span><span class="code-line line-number" line="249"><span class="token comment">################################## SLOW LOG ###################################</span>
</span><span class="code-line line-number" line="250"><span class="token comment">###slog logæ˜¯ç”¨æ¥è®°å½•redisè¿è¡Œä¸­æ‰§è¡Œæ¯”è¾ƒæ…¢çš„å‘½ä»¤è€—æ—¶ã€‚å½“å‘½ä»¤çš„æ‰§è¡Œè¶…è¿‡äº†æŒ‡å®šæ—¶é—´ï¼Œå°±è®°å½•åœ¨slow logä¸­ï¼Œslog logä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ²¡æœ‰IOæ“ä½œã€‚</span>
</span><span class="code-line line-number" line="251"><span class="token comment">#æ‰§è¡Œæ—¶é—´æ¯”slowlog-log-slower-thanå¤§çš„è¯·æ±‚è®°å½•åˆ°slowlogé‡Œé¢ï¼Œå•ä½æ˜¯å¾®ç§’ï¼Œæ‰€ä»¥1000000å°±æ˜¯1ç§’ã€‚æ³¨æ„ï¼Œè´Ÿæ•°æ—¶é—´ä¼šç¦ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè€Œ0åˆ™ä¼šå¼ºåˆ¶è®°å½•æ‰€æœ‰å‘½ä»¤ã€‚</span>
</span><span class="code-line line-number" line="252">slowlog-log-slower-than <span class="token number">10000</span>
</span><span class="code-line line-number" line="253">
</span><span class="code-line line-number" line="254"><span class="token comment">#æ…¢æŸ¥è¯¢æ—¥å¿—é•¿åº¦ã€‚å½“ä¸€ä¸ªæ–°çš„å‘½ä»¤è¢«å†™è¿›æ—¥å¿—çš„æ—¶å€™ï¼Œæœ€è€çš„é‚£ä¸ªè®°å½•ä¼šè¢«åˆ æ‰ã€‚è¿™ä¸ªé•¿åº¦æ²¡æœ‰é™åˆ¶ã€‚åªè¦æœ‰è¶³å¤Ÿçš„å†…å­˜å°±è¡Œã€‚ä½ å¯ä»¥é€šè¿‡ SLOWLOG RESET æ¥é‡Šæ”¾å†…å­˜ã€‚</span>
</span><span class="code-line line-number" line="255">slowlog-max-len <span class="token number">128</span>
</span><span class="code-line line-number" line="256">
</span><span class="code-line line-number" line="257"><span class="token comment">################################ LATENCY MONITOR ##############################</span>
</span><span class="code-line line-number" line="258"><span class="token comment">#å»¶è¿Ÿç›‘æ§åŠŸèƒ½æ˜¯ç”¨æ¥ç›‘æ§redisä¸­æ‰§è¡Œæ¯”è¾ƒç¼“æ…¢çš„ä¸€äº›æ“ä½œï¼Œç”¨LATENCYæ‰“å°rediså®ä¾‹åœ¨è·‘å‘½ä»¤æ—¶çš„è€—æ—¶å›¾è¡¨ã€‚åªè®°å½•å¤§äºç­‰äºä¸‹è¾¹è®¾ç½®çš„å€¼çš„æ“ä½œã€‚0çš„è¯ï¼Œå°±æ˜¯å…³é—­ç›‘è§†ã€‚é»˜è®¤å»¶è¿Ÿç›‘æ§åŠŸèƒ½æ˜¯å…³é—­çš„ï¼Œå¦‚æœä½ éœ€è¦æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡CONFIG SETå‘½ä»¤åŠ¨æ€è®¾ç½®ã€‚</span>
</span><span class="code-line line-number" line="259">latency-monitor-threshold <span class="token number">0</span>
</span><span class="code-line line-number" line="260">
</span><span class="code-line line-number" line="261"><span class="token comment">############################# EVENT NOTIFICATION ##############################</span>
</span><span class="code-line line-number" line="262"><span class="token comment">#é”®ç©ºé—´é€šçŸ¥ä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è®¢é˜…é¢‘é“æˆ–æ¨¡å¼ï¼Œæ¥æ¥æ”¶é‚£äº›ä»¥æŸç§æ–¹å¼æ”¹åŠ¨äº† Redis æ•°æ®é›†çš„äº‹ä»¶ã€‚å› ä¸ºå¼€å¯é”®ç©ºé—´é€šçŸ¥åŠŸèƒ½éœ€è¦æ¶ˆè€—ä¸€äº› CPU ï¼Œæ‰€ä»¥åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œè¯¥åŠŸèƒ½å¤„äºå…³é—­çŠ¶æ€ã€‚</span>
</span><span class="code-line line-number" line="263"><span class="token comment">#notify-keyspace-events çš„å‚æ•°å¯ä»¥æ˜¯ä»¥ä¸‹å­—ç¬¦çš„ä»»æ„ç»„åˆï¼Œå®ƒæŒ‡å®šäº†æœåŠ¡å™¨è¯¥å‘é€å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼š</span>
</span><span class="code-line line-number" line="264"><span class="token comment">##K é”®ç©ºé—´é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ __keyspace@__ ä¸ºå‰ç¼€</span>
</span><span class="code-line line-number" line="265"><span class="token comment">##E é”®äº‹ä»¶é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ __keyevent@__ ä¸ºå‰ç¼€</span>
</span><span class="code-line line-number" line="266"><span class="token comment">##g DEL ã€ EXPIRE ã€ RENAME ç­‰ç±»å‹æ— å…³çš„é€šç”¨å‘½ä»¤çš„é€šçŸ¥</span>
</span><span class="code-line line-number" line="267"><span class="token comment">##$ å­—ç¬¦ä¸²å‘½ä»¤çš„é€šçŸ¥</span>
</span><span class="code-line line-number" line="268"><span class="token comment">##l åˆ—è¡¨å‘½ä»¤çš„é€šçŸ¥</span>
</span><span class="code-line line-number" line="269"><span class="token comment">##s é›†åˆå‘½ä»¤çš„é€šçŸ¥</span>
</span><span class="code-line line-number" line="270"><span class="token comment">##h å“ˆå¸Œå‘½ä»¤çš„é€šçŸ¥</span>
</span><span class="code-line line-number" line="271"><span class="token comment">##z æœ‰åºé›†åˆå‘½ä»¤çš„é€šçŸ¥</span>
</span><span class="code-line line-number" line="272"><span class="token comment">##x è¿‡æœŸäº‹ä»¶ï¼šæ¯å½“æœ‰è¿‡æœŸé”®è¢«åˆ é™¤æ—¶å‘é€</span>
</span><span class="code-line line-number" line="273"><span class="token comment">##e é©±é€(evict)äº‹ä»¶ï¼šæ¯å½“æœ‰é”®å› ä¸º maxmemory æ”¿ç­–è€Œè¢«åˆ é™¤æ—¶å‘é€</span>
</span><span class="code-line line-number" line="274"><span class="token comment">##A å‚æ•° g$lshzxe çš„åˆ«å</span>
</span><span class="code-line line-number" line="275"><span class="token comment">#è¾“å…¥çš„å‚æ•°ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ª K æˆ–è€… Eï¼Œå¦åˆ™çš„è¯ï¼Œä¸ç®¡å…¶ä½™çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸ä¼šæœ‰ä»»ä½• é€šçŸ¥è¢«åˆ†å‘ã€‚è¯¦ç»†ä½¿ç”¨å¯ä»¥å‚è€ƒhttp://redis.io/topics/notifications</span>
</span><span class="code-line line-number" line="276">
</span><span class="code-line line-number" line="277">notify-keyspace-events <span class="token string">"KEA"</span>
</span><span class="code-line line-number" line="278">
</span><span class="code-line line-number" line="279"><span class="token comment">############################### ADVANCED CONFIG ###############################</span>
</span><span class="code-line line-number" line="280"><span class="token comment"># æ•°æ®é‡å°äºç­‰äºhash-max-ziplist-entriesçš„ç”¨ziplistï¼Œå¤§äºhash-max-ziplist-entriesç”¨hash</span>
</span><span class="code-line line-number" line="281">hash-max-ziplist-entries <span class="token number">512</span>
</span><span class="code-line line-number" line="282"><span class="token comment"># valueå¤§å°å°äºç­‰äºhash-max-ziplist-valueçš„ç”¨ziplistï¼Œå¤§äºhash-max-ziplist-valueç”¨hashã€‚</span>
</span><span class="code-line line-number" line="283">hash-max-ziplist-value <span class="token number">64</span>
</span><span class="code-line line-number" line="284">
</span><span class="code-line line-number" line="285"><span class="token comment"># æ•°æ®é‡å°äºç­‰äºlist-max-ziplist-entriesç”¨ziplistï¼Œå¤§äºlist-max-ziplist-entriesç”¨listã€‚</span>
</span><span class="code-line line-number" line="286">list-max-ziplist-entries <span class="token number">512</span>
</span><span class="code-line line-number" line="287"><span class="token comment"># valueå¤§å°å°äºç­‰äºlist-max-ziplist-valueçš„ç”¨ziplistï¼Œå¤§äºlist-max-ziplist-valueç”¨listã€‚</span>
</span><span class="code-line line-number" line="288">list-max-ziplist-value <span class="token number">64</span>
</span><span class="code-line line-number" line="289">
</span><span class="code-line line-number" line="290"><span class="token comment"># æ•°æ®é‡å°äºç­‰äºset-max-intset-entriesç”¨inisetï¼Œå¤§äºset-max-intset-entriesç”¨setã€‚</span>
</span><span class="code-line line-number" line="291">set-max-intset-entries <span class="token number">512</span>
</span><span class="code-line line-number" line="292">
</span><span class="code-line line-number" line="293"><span class="token comment"># æ•°æ®é‡å°äºç­‰äºzset-max-ziplist-entriesç”¨ziplistï¼Œå¤§äºzset-max-ziplist-entriesç”¨zsetã€‚</span>
</span><span class="code-line line-number" line="294">zset-max-ziplist-entries <span class="token number">128</span>
</span><span class="code-line line-number" line="295"><span class="token comment"># valueå¤§å°å°äºç­‰äºzset-max-ziplist-valueç”¨ziplistï¼Œå¤§äºzset-max-ziplist-valueç”¨zsetã€‚</span>
</span><span class="code-line line-number" line="296">zset-max-ziplist-value <span class="token number">64</span>
</span><span class="code-line line-number" line="297">
</span><span class="code-line line-number" line="298"><span class="token comment"># valueå¤§å°å°äºç­‰äºhll-sparse-max-bytesä½¿ç”¨ç¨€ç–æ•°æ®ç»“æ„ï¼ˆsparseï¼‰ï¼Œ</span>
</span><span class="code-line line-number" line="299"><span class="token comment"># å¤§äºhll-sparse-max-bytesä½¿ç”¨ç¨ å¯†çš„æ•°æ®ç»“æ„ï¼ˆdenseï¼‰ã€‚</span>
</span><span class="code-line line-number" line="300"><span class="token comment"># ä¸€ä¸ªæ¯”16000å¤§çš„valueæ˜¯å‡ ä¹æ²¡ç”¨çš„ï¼Œå»ºè®®çš„valueå¤§æ¦‚ä¸º3000ã€‚</span>
</span><span class="code-line line-number" line="301"><span class="token comment"># å¦‚æœå¯¹CPUè¦æ±‚ä¸é«˜ï¼Œå¯¹ç©ºé—´è¦æ±‚è¾ƒé«˜çš„ï¼Œå»ºè®®è®¾ç½®åˆ°10000å·¦å³ã€‚</span>
</span><span class="code-line line-number" line="302">hll-sparse-max-bytes <span class="token number">3000</span>
</span><span class="code-line line-number" line="303">
</span><span class="code-line line-number" line="304"><span class="token comment"># Rediså°†åœ¨æ¯100æ¯«ç§’æ—¶ä½¿ç”¨1æ¯«ç§’çš„CPUæ—¶é—´æ¥å¯¹redisçš„hashè¡¨è¿›è¡Œé‡æ–°hashï¼Œå¯ä»¥é™ä½å†…å­˜çš„ä½¿ç”¨ã€‚</span>
</span><span class="code-line line-number" line="305"><span class="token comment"># å½“ä½ çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæœ‰éå¸¸ä¸¥æ ¼çš„å®æ—¶æ€§éœ€è¦ï¼Œä¸èƒ½å¤Ÿæ¥å—Redisæ—¶ä¸æ—¶çš„å¯¹è¯·æ±‚æœ‰2æ¯«ç§’çš„å»¶è¿Ÿçš„è¯ï¼ŒæŠŠè¿™é¡¹é…ç½®ä¸ºnoã€‚</span>
</span><span class="code-line line-number" line="306"><span class="token comment"># å¦‚æœæ²¡æœ‰è¿™ä¹ˆä¸¥æ ¼çš„å®æ—¶æ€§è¦æ±‚ï¼Œå¯ä»¥è®¾ç½®ä¸ºyesï¼Œä»¥ä¾¿èƒ½å¤Ÿå°½å¯èƒ½å¿«çš„é‡Šæ”¾å†…å­˜ã€‚</span>
</span><span class="code-line line-number" line="307">activerehashing <span class="token function">yes</span>
</span><span class="code-line line-number" line="308">
</span><span class="code-line line-number" line="309"><span class="token comment"># å¯¹å®¢æˆ·ç«¯è¾“å‡ºç¼“å†²è¿›è¡Œé™åˆ¶å¯ä»¥å¼ºè¿«é‚£äº›ä¸ä»æœåŠ¡å™¨è¯»å–æ•°æ®çš„å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œç”¨æ¥å¼ºåˆ¶å…³é—­ä¼ è¾“ç¼“æ…¢çš„å®¢æˆ·ç«¯ã€‚</span>
</span><span class="code-line line-number" line="310"><span class="token comment"># å¯¹äºnormal clientï¼Œç¬¬ä¸€ä¸ª0è¡¨ç¤ºå–æ¶ˆhard limitï¼Œç¬¬äºŒä¸ª0å’Œç¬¬ä¸‰ä¸ª0è¡¨ç¤ºå–æ¶ˆsoft limitï¼Œnormal clienté»˜è®¤å–æ¶ˆé™åˆ¶ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰å¯»é—®ï¼Œä»–ä»¬æ˜¯ä¸ä¼šæ¥æ”¶æ•°æ®çš„ã€‚</span>
</span><span class="code-line line-number" line="311">client-output-buffer-limit normal <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
</span><span class="code-line line-number" line="312"><span class="token comment"># å¯¹äºslave clientå’ŒMONITER clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡256mbï¼Œåˆæˆ–è€…è¶…è¿‡64mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚</span>
</span><span class="code-line line-number" line="313">client-output-buffer-limit slave 256mb 64mb <span class="token number">60</span>
</span><span class="code-line line-number" line="314"><span class="token comment"># å¯¹äºpubsub clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡32mbï¼Œåˆæˆ–è€…è¶…è¿‡8mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚</span>
</span><span class="code-line line-number" line="315">client-output-buffer-limit pubsub 32mb 8mb <span class="token number">60</span>
</span><span class="code-line line-number" line="316">
</span><span class="code-line line-number" line="317"><span class="token comment"># redisæ‰§è¡Œä»»åŠ¡çš„é¢‘ç‡ä¸º1sé™¤ä»¥hzã€‚</span>
</span><span class="code-line line-number" line="318">hz <span class="token number">10</span>
</span><span class="code-line line-number" line="319">
</span><span class="code-line line-number" line="320"><span class="token comment"># åœ¨aofé‡å†™çš„æ—¶å€™ï¼Œå¦‚æœæ‰“å¼€äº†aof-rewrite-incremental-fsyncå¼€å…³ï¼Œç³»ç»Ÿä¼šæ¯32MBæ‰§è¡Œä¸€æ¬¡fsyncã€‚è¿™å¯¹äºæŠŠæ–‡ä»¶å†™å…¥ç£ç›˜æ˜¯æœ‰å¸®åŠ©çš„ï¼Œå¯ä»¥é¿å…è¿‡å¤§çš„å»¶è¿Ÿå³°å€¼ã€‚</span>
</span><span class="code-line line-number" line="321">aof-rewrite-incremental-fsync <span class="token function">yes</span>
</span></code><input type="hidden" value="#redis.conf
# Redis configuration file example.
# ./redis-server /path/to/redis.conf

################################## INCLUDES ###################################
#è¿™åœ¨ä½ æœ‰æ ‡å‡†é…ç½®æ¨¡æ¿ä½†æ˜¯æ¯ä¸ªredisæœåŠ¡å™¨åˆéœ€è¦ä¸ªæ€§è®¾ç½®çš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚
# include /path/to/local.conf
# include /path/to/other.conf

################################ GENERAL #####################################

# æ˜¯å¦åœ¨åå°æ‰§è¡Œï¼Œyesï¼šåå°è¿è¡Œï¼›noï¼šä¸æ˜¯åå°è¿è¡Œï¼ˆè€ç‰ˆæœ¬é»˜è®¤ï¼‰
daemonize yes

# 3.2é‡Œçš„å‚æ•°ï¼Œæ˜¯å¦å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼Œé»˜è®¤å¼€å¯ã€‚è¦æ˜¯é…ç½®é‡Œæ²¡æœ‰æŒ‡å®šbindå’Œå¯†ç ã€‚
# å¼€å¯è¯¥å‚æ•°åï¼Œredisåªä¼šæœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œæ‹’ç»å¤–éƒ¨è®¿é—®ã€‚
# è¦æ˜¯å¼€å¯äº†å¯†ç    å’Œbindï¼Œå¯ä»¥å¼€å¯ã€‚å¦   åˆ™æœ€å¥½å…³é—­ï¼Œè®¾ç½®ä¸ºnoã€‚

protected-mode yes
# redisçš„è¿›ç¨‹æ–‡ä»¶
pidfile /var/run/redis/redis-server.pid

# redisç›‘å¬çš„ç«¯å£å·ã€‚
port 6379

# æ­¤å‚æ•°ç¡®å®šäº†TCPè¿æ¥ä¸­å·²å®Œæˆé˜Ÿåˆ—(å®Œæˆä¸‰æ¬¡æ¡æ‰‹ä¹‹å)çš„é•¿åº¦ï¼Œ 
# å½“ç„¶æ­¤å€¼å¿…é¡»ä¸å¤§äºLinuxç³»ç»Ÿå®šä¹‰çš„/proc/sys/net/core/somaxconnå€¼ï¼Œé»˜è®¤æ˜¯511ï¼Œ
# è€ŒLinuxçš„é»˜è®¤å‚æ•°å€¼æ˜¯128ã€‚å½“ç³»ç»Ÿå¹¶å‘é‡å¤§å¹¶ä¸”å®¢æˆ·ç«¯é€Ÿåº¦ç¼“æ…¢çš„æ—¶å€™ï¼Œ
# å¯ä»¥å°†è¿™äºŒä¸ªå‚æ•°ä¸€èµ·å‚è€ƒè®¾å®šã€‚è¯¥å†…æ ¸å‚æ•°é»˜è®¤å€¼ä¸€èˆ¬æ˜¯128ï¼Œå¯¹äºè´Ÿè½½å¾ˆå¤§çš„æœåŠ¡ç¨‹åºæ¥è¯´å¤§å¤§çš„ä¸å¤Ÿã€‚
# ä¸€èˆ¬ä¼šå°†å®ƒä¿®æ”¹ä¸º2048æˆ–è€…æ›´å¤§ã€‚åœ¨/etc/sysctl.confä¸­æ·»åŠ :net.core.somaxconn = 2048ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­æ‰§è¡Œsysctl -pã€‚
tcp-backlog 511

#æŒ‡å®š redis åªæ¥æ”¶æ¥è‡ªäºè¯¥ IP åœ°å€çš„è¯·æ±‚ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå°†å¤„ç†æ‰€æœ‰è¯·æ±‚
bind 127.0.0.1

# é…ç½®unix socketæ¥è®©redisæ”¯æŒç›‘å¬æœ¬åœ°è¿æ¥ã€‚
# unixsocket /var/run/redis/redis.sock
# é…ç½®unix socketä½¿ç”¨æ–‡ä»¶çš„æƒé™
# unixsocketperm 700

# æ­¤å‚æ•°ä¸ºè®¾ç½®å®¢æˆ·ç«¯ç©ºé—²è¶…è¿‡timeoutï¼ŒæœåŠ¡ç«¯ä¼šæ–­å¼€è¿æ¥ï¼Œä¸º0åˆ™æœåŠ¡ç«¯ä¸ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥ï¼Œä¸èƒ½å°äº0ã€‚
timeout 0

# tcp keepaliveå‚æ•°ã€‚å¦‚æœè®¾ç½®ä¸ä¸º0ï¼Œå°±ä½¿ç”¨é…ç½®tcpçš„SO_KEEPALIVEå€¼ï¼Œ
# ä½¿ç”¨keepaliveæœ‰ä¸¤ä¸ªå¥½å¤„:æ£€æµ‹æŒ‚æ‰çš„å¯¹ç«¯ã€‚é™ä½ä¸­é—´è®¾å¤‡å‡ºé—®é¢˜è€Œå¯¼è‡´ç½‘ç»œçœ‹ä¼¼è¿æ¥å´å·²ç»ä¸å¯¹ç«¯ç«¯å£çš„é—®é¢˜ã€‚
# åœ¨Linuxå†…æ ¸ä¸­ï¼Œè®¾ç½®äº†keepaliveï¼Œredisä¼šå®šæ—¶ç»™å¯¹ç«¯å‘é€ackã€‚æ£€æµ‹åˆ°å¯¹ç«¯å…³é—­éœ€è¦ä¸¤å€çš„è®¾ç½®å€¼ã€‚
tcp-keepalive 0

# æŒ‡å®šäº†æœåŠ¡ç«¯æ—¥å¿—çš„çº§åˆ«ã€‚çº§åˆ«åŒ…æ‹¬ï¼šdebugï¼ˆå¾ˆå¤šä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘ã€æµ‹è¯•ï¼‰ï¼Œ
# verboseï¼ˆè®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰debugçº§åˆ«ä¿¡æ¯å¤šï¼‰ï¼Œnoticeï¼ˆé€‚å½“çš„æ—¥å¿—çº§åˆ«ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œwarnï¼ˆåªæœ‰éå¸¸é‡è¦çš„ä¿¡æ¯ï¼‰
loglevel notice

#æŒ‡å®šäº†è®°å½•æ—¥å¿—çš„æ–‡ä»¶ã€‚ç©ºå­—ç¬¦ä¸²çš„è¯ï¼Œæ—¥å¿—ä¼šæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚åå°è¿è¡Œçš„redisæ ‡å‡†è¾“å‡ºæ˜¯/dev/nullã€‚
logfile /var/log/redis/redis-server.log

# æ˜¯å¦æ‰“å¼€è®°å½•syslogåŠŸèƒ½
# syslog-enabled no

# syslogçš„æ ‡è¯†ç¬¦ã€‚
# syslog-ident redis

# æ—¥å¿—çš„æ¥æºã€è®¾å¤‡
# syslog-facility local0

# æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“æ˜¯DB 0ã€‚å¯ä»¥é€šè¿‡â€SELECT â€œå‘½ä»¤é€‰æ‹©ä¸€ä¸ªdb
databases 16

################################ SNAPSHOTTING ################################
# å¿«ç…§é…ç½®
# æ³¨é‡Šæ‰â€œsaveâ€è¿™ä¸€è¡Œé…ç½®é¡¹å°±å¯ä»¥è®©ä¿å­˜æ•°æ®åº“åŠŸèƒ½å¤±æ•ˆ
# è®¾ç½®sedisè¿›è¡Œæ•°æ®åº“é•œåƒçš„é¢‘ç‡ã€‚
# 900ç§’ï¼ˆ15åˆ†é’Ÿï¼‰å†…è‡³å°‘1ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰ 
# 300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰å†…è‡³å°‘10ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰ 
# 60ç§’ï¼ˆ1åˆ†é’Ÿï¼‰å†…è‡³å°‘10000ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰
save 900 1
save 300 10
save 60 10000

# å½“RDBæŒä¹…åŒ–å‡ºç°é”™è¯¯åï¼Œæ˜¯å¦ä¾ç„¶è¿›è¡Œç»§ç»­è¿›è¡Œå·¥ä½œï¼Œyesï¼šä¸èƒ½è¿›è¡Œå·¥ä½œï¼Œnoï¼šå¯ä»¥ç»§ç»­è¿›è¡Œå·¥ä½œï¼Œ
# å¯ä»¥é€šè¿‡infoä¸­çš„rdb_last_bgsave_statusäº†è§£RDBæŒä¹…åŒ–æ˜¯å¦æœ‰é”™è¯¯
stop-writes-on-bgsave-error yes

# ä½¿ç”¨å‹ç¼©rdbæ–‡ä»¶ï¼Œrdbæ–‡ä»¶å‹ç¼©ä½¿ç”¨LZFå‹ç¼©ç®—æ³•ï¼Œyesï¼šå‹ç¼©ï¼Œä½†æ˜¯éœ€è¦ä¸€äº›cpuçš„æ¶ˆè€—ã€‚noï¼šä¸å‹ç¼©ï¼Œéœ€è¦æ›´å¤šçš„ç£ç›˜ç©ºé—´
rdbcompression yes

# æ˜¯å¦æ ¡éªŒrdbæ–‡ä»¶ã€‚ä»rdbæ ¼å¼çš„ç¬¬äº”ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨rdbæ–‡ä»¶çš„æœ«å°¾ä¼šå¸¦ä¸ŠCRC64çš„æ ¡éªŒå’Œã€‚
# è¿™è·Ÿæœ‰åˆ©äºæ–‡ä»¶çš„å®¹é”™æ€§ï¼Œä½†æ˜¯åœ¨ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰å¤§æ¦‚10%çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å¦‚æœä½ è¿½æ±‚é«˜æ€§èƒ½ï¼Œå¯ä»¥å…³é—­è¯¥é…ç½®ã€‚
rdbchecksum yes

# rdbæ–‡ä»¶çš„åç§°
dbfilename dump.rdb

# æ•°æ®ç›®å½•ï¼Œæ•°æ®åº“çš„å†™å…¥ä¼šåœ¨è¿™ä¸ªç›®å½•ã€‚rdbã€aofæ–‡ä»¶ä¹Ÿä¼šå†™åœ¨è¿™ä¸ªç›®å½•
dir /var/lib/redis

################################# REPLICATION #################################
# å¤åˆ¶é€‰é¡¹ï¼Œslaveå¤åˆ¶å¯¹åº”çš„masterã€‚
# slaveof <masterip> <masterport>

#å¦‚æœmasterè®¾ç½®äº†requirepassï¼Œé‚£ä¹ˆslaveè¦è¿ä¸Šmasterï¼Œéœ€è¦æœ‰masterçš„å¯†ç æ‰è¡Œã€‚masterauthå°±æ˜¯ç”¨æ¥é…ç½®masterçš„å¯†ç ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿ä¸Šmasteråè¿›è¡Œè®¤è¯ã€‚
# masterauth <master-password>

#å½“ä»åº“åŒä¸»æœºå¤±å»è¿æ¥æˆ–è€…å¤åˆ¶æ­£åœ¨è¿›è¡Œï¼Œä»æœºåº“æœ‰ä¸¤ç§è¿è¡Œæ–¹å¼ï¼š1) å¦‚æœslave-serve-stale-dataè®¾ç½®ä¸ºyes(é»˜è®¤è®¾ç½®)ï¼Œä»åº“ä¼šç»§ç»­å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚2) å¦‚æœslave-serve-stale-dataè®¾ç½®ä¸ºnoï¼Œé™¤å»INFOå’ŒSLAVOFå‘½ä»¤ä¹‹å¤–çš„ä»»ä½•è¯·æ±‚éƒ½ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯â€SYNC with master in progressâ€ã€‚
slave-serve-stale-data yes

#ä½œä¸ºä»æœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯åªè¯»çš„ï¼ˆyesï¼‰ï¼Œå¯ä»¥ä¿®æ”¹æˆNOï¼Œç”¨äºå†™ï¼ˆä¸å»ºè®®ï¼‰ã€‚
slave-read-only yes

#æ˜¯å¦ä½¿ç”¨socketæ–¹å¼å¤åˆ¶æ•°æ®ã€‚ç›®å‰rediså¤åˆ¶æä¾›ä¸¤ç§æ–¹å¼ï¼Œdiskå’Œsocketã€‚å¦‚æœæ–°çš„slaveè¿ä¸Šæ¥æˆ–è€…é‡è¿çš„slaveæ— æ³•éƒ¨åˆ†åŒæ­¥ï¼Œå°±ä¼šæ‰§è¡Œå…¨é‡åŒæ­¥ï¼Œmasterä¼šç”Ÿæˆrdbæ–‡ä»¶ã€‚æœ‰2ç§æ–¹å¼ï¼šdiskæ–¹å¼æ˜¯masteråˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹æŠŠrdbæ–‡ä»¶ä¿å­˜åˆ°ç£ç›˜ï¼Œå†æŠŠç£ç›˜ä¸Šçš„rdbæ–‡ä»¶ä¼ é€’ç»™slaveã€‚socketæ˜¯masteråˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œç›´æ¥æŠŠrdbæ–‡ä»¶ä»¥socketçš„æ–¹å¼å‘ç»™slaveã€‚diskæ–¹å¼çš„æ—¶å€™ï¼Œå½“ä¸€ä¸ªrdbä¿å­˜çš„è¿‡ç¨‹ä¸­ï¼Œå¤šä¸ªslaveéƒ½èƒ½å…±äº«è¿™ä¸ªrdbæ–‡ä»¶ã€‚socketçš„æ–¹å¼å°±çš„ä¸€ä¸ªä¸ªslaveé¡ºåºå¤åˆ¶ã€‚åœ¨ç£ç›˜é€Ÿåº¦ç¼“æ…¢ï¼Œç½‘é€Ÿå¿«çš„æƒ…å†µä¸‹æ¨èç”¨socketæ–¹å¼ã€‚
repl-diskless-sync no

#disklesså¤åˆ¶çš„å»¶è¿Ÿæ—¶é—´ï¼Œé˜²æ­¢è®¾ç½®ä¸º0ã€‚ä¸€æ—¦å¤åˆ¶å¼€å§‹ï¼ŒèŠ‚ç‚¹ä¸ä¼šå†æ¥æ”¶æ–°slaveçš„å¤åˆ¶è¯·æ±‚ç›´åˆ°ä¸‹ä¸€ä¸ªrdbä¼ è¾“ã€‚æ‰€ä»¥æœ€å¥½ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç­‰æ›´å¤šçš„slaveè¿ä¸Šæ¥ã€‚
repl-diskless-sync-delay 5

#slaveæ ¹æ®æŒ‡å®šçš„æ—¶é—´é—´éš”å‘æœåŠ¡å™¨å‘é€pingè¯·æ±‚ã€‚æ—¶é—´é—´éš”å¯ä»¥é€šè¿‡ repl_ping_slave_period æ¥è®¾ç½®ï¼Œé»˜è®¤10ç§’ã€‚
# repl-ping-slave-period 10

#å¤åˆ¶è¿æ¥è¶…æ—¶æ—¶é—´ã€‚masterå’Œslaveéƒ½æœ‰è¶…æ—¶æ—¶é—´çš„è®¾ç½®ã€‚masteræ£€æµ‹åˆ°slaveä¸Šæ¬¡å‘é€çš„æ—¶é—´è¶…è¿‡repl-timeoutï¼Œå³è®¤ä¸ºslaveç¦»çº¿ï¼Œæ¸…é™¤è¯¥slaveä¿¡æ¯ã€‚slaveæ£€æµ‹åˆ°ä¸Šæ¬¡å’Œmasteräº¤äº’çš„æ—¶é—´è¶…è¿‡repl-timeoutï¼Œåˆ™è®¤ä¸ºmasterç¦»çº¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯repl-timeoutéœ€è¦è®¾ç½®ä¸€ä¸ªæ¯”repl-ping-slave-periodæ›´å¤§çš„å€¼ï¼Œä¸ç„¶ä¼šç»å¸¸æ£€æµ‹åˆ°è¶…æ—¶ã€‚
# repl-timeout 60

#æ˜¯å¦ç¦æ­¢å¤åˆ¶tcpé“¾æ¥çš„tcp nodelayå‚æ•°ï¼Œå¯ä¼ é€’yesæˆ–è€…noã€‚é»˜è®¤æ˜¯noï¼Œå³ä½¿ç”¨tcp nodelayã€‚å¦‚æœmasterè®¾ç½®äº†yesæ¥ç¦æ­¢tcp nodelayè®¾ç½®ï¼Œåœ¨æŠŠæ•°æ®å¤åˆ¶ç»™slaveçš„æ—¶å€™ï¼Œä¼šå‡å°‘åŒ…çš„æ•°é‡å’Œæ›´å°çš„ç½‘ç»œå¸¦å®½ã€‚ä½†æ˜¯è¿™ä¹Ÿå¯èƒ½å¸¦æ¥æ•°æ®çš„å»¶è¿Ÿã€‚é»˜è®¤æˆ‘ä»¬æ¨èæ›´å°çš„å»¶è¿Ÿï¼Œä½†æ˜¯åœ¨æ•°æ®é‡ä¼ è¾“å¾ˆå¤§çš„åœºæ™¯ä¸‹ï¼Œå»ºè®®é€‰æ‹©yesã€‚
repl-disable-tcp-nodelay no

#å¤åˆ¶ç¼“å†²åŒºå¤§å°ï¼Œè¿™æ˜¯ä¸€ä¸ªç¯å½¢å¤åˆ¶ç¼“å†²åŒºï¼Œç”¨æ¥ä¿å­˜æœ€æ–°å¤åˆ¶çš„å‘½ä»¤ã€‚è¿™æ ·åœ¨slaveç¦»çº¿çš„æ—¶å€™ï¼Œä¸éœ€è¦å®Œå…¨å¤åˆ¶masterçš„æ•°æ®ï¼Œå¦‚æœå¯ä»¥æ‰§è¡Œéƒ¨åˆ†åŒæ­¥ï¼Œåªéœ€è¦æŠŠç¼“å†²åŒºçš„éƒ¨åˆ†æ•°æ®å¤åˆ¶ç»™slaveï¼Œå°±èƒ½æ¢å¤æ­£å¸¸å¤åˆ¶çŠ¶æ€ã€‚ç¼“å†²åŒºçš„å¤§å°è¶Šå¤§ï¼Œslaveç¦»çº¿çš„æ—¶é—´å¯ä»¥æ›´é•¿ï¼Œå¤åˆ¶ç¼“å†²åŒºåªæœ‰åœ¨æœ‰slaveè¿æ¥çš„æ—¶å€™æ‰åˆ†é…å†…å­˜ã€‚æ²¡æœ‰slaveçš„ä¸€æ®µæ—¶é—´ï¼Œå†…å­˜ä¼šè¢«é‡Šæ”¾å‡ºæ¥ï¼Œé»˜è®¤1mã€‚
# repl-backlog-size 5mb

#masteræ²¡æœ‰slaveä¸€æ®µæ—¶é—´ä¼šé‡Šæ”¾å¤åˆ¶ç¼“å†²åŒºçš„å†…å­˜ï¼Œrepl-backlog-ttlç”¨æ¥è®¾ç½®è¯¥æ—¶é—´é•¿åº¦ã€‚å•ä½ä¸ºç§’ã€‚
# repl-backlog-ttl 3600

#å½“masterä¸å¯ç”¨ï¼ŒSentinelä¼šæ ¹æ®slaveçš„ä¼˜å…ˆçº§é€‰ä¸¾ä¸€ä¸ªmasterã€‚æœ€ä½çš„ä¼˜å…ˆçº§çš„slaveï¼Œå½“é€‰masterã€‚è€Œé…ç½®æˆ0ï¼Œæ°¸è¿œä¸ä¼šè¢«é€‰ä¸¾ã€‚
slave-priority 100

#redisæä¾›äº†å¯ä»¥è®©masteråœæ­¢å†™å…¥çš„æ–¹å¼ï¼Œå¦‚æœé…ç½®äº†min-slaves-to-writeï¼Œå¥åº·çš„slaveçš„ä¸ªæ•°å°äºNï¼Œmaterå°±ç¦æ­¢å†™å…¥ã€‚masteræœ€å°‘å¾—æœ‰å¤šå°‘ä¸ªå¥åº·çš„slaveå­˜æ´»æ‰èƒ½æ‰§è¡Œå†™å‘½ä»¤ã€‚è¿™ä¸ªé…ç½®è™½ç„¶ä¸èƒ½ä¿è¯Nä¸ªslaveéƒ½ä¸€å®šèƒ½æ¥æ”¶åˆ°masterçš„å†™æ“ä½œï¼Œä½†æ˜¯èƒ½é¿å…æ²¡æœ‰è¶³å¤Ÿå¥åº·çš„slaveçš„æ—¶å€™ï¼Œmasterä¸èƒ½å†™å…¥æ¥é¿å…æ•°æ®ä¸¢å¤±ã€‚è®¾ç½®ä¸º0æ˜¯å…³é—­è¯¥åŠŸèƒ½ã€‚
# min-slaves-to-write 3

#å»¶è¿Ÿå°äºmin-slaves-max-lagç§’çš„slaveæ‰è®¤ä¸ºæ˜¯å¥åº·çš„slaveã€‚
# min-slaves-max-lag 10

# è®¾ç½®1æˆ–å¦ä¸€ä¸ªè®¾ç½®ä¸º0ç¦ç”¨è¿™ä¸ªç‰¹æ€§ã€‚
# Setting one or the other to 0 disables the feature.
# By default min-slaves-to-write is set to 0 (feature disabled) and
# min-slaves-max-lag is set to 10.

################################## SECURITY ###################################
#requirepassé…ç½®å¯ä»¥è®©ç”¨æˆ·ä½¿ç”¨AUTHå‘½ä»¤æ¥è®¤è¯å¯†ç ï¼Œæ‰èƒ½ä½¿ç”¨å…¶ä»–å‘½ä»¤ã€‚è¿™è®©rediså¯ä»¥ä½¿ç”¨åœ¨ä¸å—ä¿¡ä»»çš„ç½‘ç»œä¸­ã€‚ä¸ºäº†ä¿æŒå‘åçš„å…¼å®¹æ€§ï¼Œå¯ä»¥æ³¨é‡Šè¯¥å‘½ä»¤ï¼Œå› ä¸ºå¤§éƒ¨åˆ†ç”¨æˆ·ä¹Ÿä¸éœ€è¦è®¤è¯ã€‚ä½¿ç”¨requirepassçš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå› ä¸ºrediså¤ªå¿«äº†ï¼Œæ¯ç§’å¯ä»¥è®¤è¯15wæ¬¡å¯†ç ï¼Œç®€å•çš„å¯†ç å¾ˆå®¹æ˜“è¢«æ”»ç ´ï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨ä¸€ä¸ªæ›´å¤æ‚çš„å¯†ç ã€‚
# requirepass foobared

#æŠŠå±é™©çš„å‘½ä»¤ç»™ä¿®æ”¹æˆå…¶ä»–åç§°ã€‚æ¯”å¦‚CONFIGå‘½ä»¤å¯ä»¥é‡å‘½åä¸ºä¸€ä¸ªå¾ˆéš¾è¢«çŒœåˆ°çš„å‘½ä»¤ï¼Œè¿™æ ·ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ï¼Œè€Œå†…éƒ¨å·¥å…·è¿˜èƒ½æ¥ç€ä½¿ç”¨ã€‚
# rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52

#è®¾ç½®æˆä¸€ä¸ªç©ºçš„å€¼ï¼Œå¯ä»¥ç¦æ­¢ä¸€ä¸ªå‘½ä»¤
# rename-command CONFIG &#x22;&#x22;
################################### LIMITS ####################################

# è®¾ç½®èƒ½è¿ä¸Šredisçš„æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°é‡ã€‚é»˜è®¤æ˜¯10000ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚
# ç”±äºredisä¸åŒºåˆ†è¿æ¥æ˜¯å®¢æˆ·ç«¯è¿æ¥è¿˜æ˜¯å†…éƒ¨æ‰“å¼€æ–‡ä»¶æˆ–è€…å’Œslaveè¿æ¥ç­‰ï¼Œæ‰€ä»¥maxclientsæœ€å°å»ºè®®è®¾ç½®åˆ°32ã€‚
# å¦‚æœè¶…è¿‡äº†maxclientsï¼Œredisä¼šç»™æ–°çš„è¿æ¥å‘é€â€™max number of clients reachedâ€™ï¼Œå¹¶å…³é—­è¿æ¥ã€‚
# maxclients 10000

# redisé…ç½®çš„æœ€å¤§å†…å­˜å®¹é‡ã€‚å½“å†…å­˜æ»¡äº†ï¼Œéœ€è¦é…åˆmaxmemory-policyç­–ç•¥è¿›è¡Œå¤„ç†ã€‚
# æ³¨æ„slaveçš„è¾“å‡ºç¼“å†²åŒºæ˜¯ä¸è®¡ç®—åœ¨maxmemoryå†…çš„ã€‚æ‰€ä»¥ä¸ºäº†é˜²æ­¢ä¸»æœºå†…å­˜ä½¿ç”¨å®Œï¼Œå»ºè®®è®¾ç½®çš„maxmemoryéœ€è¦æ›´å°ä¸€äº›ã€‚
# maxmemory <bytes>

# å†…å­˜å®¹é‡è¶…è¿‡maxmemoryåçš„å¤„ç†ç­–ç•¥ã€‚
# volatile-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„keyã€‚
# volatile-randomï¼šéšæœºç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„keyã€‚
# volatile-ttlï¼šç§»é™¤å³å°†è¿‡æœŸçš„keyï¼Œæ ¹æ®æœ€è¿‘è¿‡æœŸæ—¶é—´æ¥åˆ é™¤ï¼ˆè¾…ä»¥TTLï¼‰
# allkeys-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤ä»»ä½•keyã€‚
# allkeys-randomï¼šéšæœºç§»é™¤ä»»ä½•keyã€‚
# noevictionï¼šä¸ç§»é™¤ä»»ä½•keyï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªå†™é”™è¯¯ã€‚
# ä¸Šé¢çš„è¿™äº›é©±é€ç­–ç•¥ï¼Œå¦‚æœredisæ²¡æœ‰åˆé€‚çš„keyé©±é€ï¼Œå¯¹äºå†™å‘½ä»¤ï¼Œè¿˜æ˜¯ä¼šè¿”å›é”™è¯¯ã€‚
# rediså°†ä¸å†æ¥æ”¶å†™è¯·æ±‚ï¼Œåªæ¥æ”¶getè¯·æ±‚ã€‚
# å†™å‘½ä»¤åŒ…æ‹¬ï¼šset setnx setex append incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby getset mset msetnx exec sortã€‚
# maxmemory-policy noeviction

#lruæ£€æµ‹çš„æ ·æœ¬æ•°ã€‚ä½¿ç”¨lruæˆ–è€…ttlæ·˜æ±°ç®—æ³•ï¼Œä»éœ€è¦æ·˜æ±°çš„åˆ—è¡¨ä¸­éšæœºé€‰æ‹©sampleä¸ªkeyï¼Œé€‰å‡ºé—²ç½®æ—¶é—´æœ€é•¿çš„keyç§»é™¤ã€‚
# maxmemory-samples 5

############################## APPEND ONLY MODE ###############################
#é»˜è®¤redisä½¿ç”¨çš„æ˜¯rdbæ–¹å¼æŒä¹…åŒ–ï¼Œè¿™ç§æ–¹å¼åœ¨è®¸å¤šåº”ç”¨ä¸­å·²ç»è¶³å¤Ÿç”¨äº†ã€‚ä½†æ˜¯rediså¦‚æœä¸­é€”å®•æœºï¼Œä¼šå¯¼è‡´å¯èƒ½æœ‰å‡ åˆ†é’Ÿçš„æ•°æ®ä¸¢å¤±ï¼Œæ ¹æ®saveæ¥ç­–ç•¥è¿›è¡ŒæŒä¹…åŒ–ï¼ŒAppend Only Fileæ˜¯å¦ä¸€ç§æŒä¹…åŒ–æ–¹å¼ï¼Œå¯ä»¥æä¾›æ›´å¥½çš„æŒä¹…åŒ–ç‰¹æ€§ã€‚Redisä¼šæŠŠæ¯æ¬¡å†™å…¥çš„æ•°æ®åœ¨æ¥æ”¶åéƒ½å†™å…¥ appendonly.aof æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶Rediséƒ½ä¼šå…ˆæŠŠè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®è¯»å…¥å†…å­˜é‡Œï¼Œå…ˆå¿½ç•¥RDBæ–‡ä»¶ã€‚
appendonly no

#aofæ–‡ä»¶å
appendfilename &#x22;appendonly.aof&#x22;

# aofæŒä¹…åŒ–ç­–ç•¥çš„é…ç½®
# noè¡¨ç¤ºä¸æ‰§è¡Œfsyncï¼Œç”±æ“ä½œç³»ç»Ÿä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ï¼Œé€Ÿåº¦æœ€å¿«ã€‚
# alwaysè¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ã€‚
# everysecè¡¨ç¤ºæ¯ç§’æ‰§è¡Œä¸€æ¬¡fsyncï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸¢å¤±è¿™1sæ•°æ®ã€‚
appendfsync everysec

# åœ¨aofé‡å†™æˆ–è€…å†™å…¥rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œå¤§é‡IOï¼Œ
# æ­¤æ—¶å¯¹äºeverysecå’Œalwaysçš„aofæ¨¡å¼æ¥è¯´ï¼Œæ‰§è¡Œfsyncä¼šé€ æˆé˜»å¡è¿‡é•¿æ—¶é—´ï¼Œ
# no-appendfsync-on-rewriteå­—æ®µè®¾ç½®ä¸ºé»˜è®¤è®¾ç½®ä¸ºnoã€‚
# å¦‚æœå¯¹å»¶è¿Ÿè¦æ±‚å¾ˆé«˜çš„åº”ç”¨ï¼Œè¿™ä¸ªå­—æ®µå¯ä»¥è®¾ç½®ä¸ºyesï¼Œå¦åˆ™è¿˜æ˜¯è®¾ç½®ä¸ºnoï¼Œ
# è¿™æ ·å¯¹æŒä¹…åŒ–ç‰¹æ€§æ¥è¯´è¿™æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚è®¾ç½®ä¸ºyesè¡¨ç¤ºrewriteæœŸé—´å¯¹æ–°å†™æ“ä½œä¸fsync,
# æš‚æ—¶å­˜åœ¨å†…å­˜ä¸­,ç­‰rewriteå®Œæˆåå†å†™å…¥ï¼Œé»˜è®¤ä¸ºnoï¼Œå»ºè®®yesã€‚Linuxçš„é»˜è®¤fsyncç­–ç•¥æ˜¯30ç§’ã€‚å¯èƒ½ä¸¢å¤±30ç§’æ•°æ®ã€‚
no-appendfsync-on-rewrite no

# aofè‡ªåŠ¨é‡å†™é…ç½®ã€‚å½“ç›®å‰aofæ–‡ä»¶å¤§å°è¶…è¿‡ä¸Šä¸€æ¬¡é‡å†™çš„aofæ–‡ä»¶å¤§å°çš„ç™¾åˆ†ä¹‹å¤šå°‘è¿›è¡Œé‡å†™ï¼Œ
# å³å½“aofæ–‡ä»¶å¢é•¿åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™Redisèƒ½å¤Ÿè°ƒç”¨bgrewriteaofå¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œé‡å†™ã€‚
# å½“å‰AOFæ–‡ä»¶å¤§å°æ˜¯ä¸Šæ¬¡æ—¥å¿—é‡å†™å¾—åˆ°AOFæ–‡ä»¶å¤§å°çš„äºŒå€ï¼ˆè®¾ç½®ä¸º100ï¼‰æ—¶ï¼Œè‡ªåŠ¨å¯åŠ¨æ–°çš„æ—¥å¿—é‡å†™è¿‡ç¨‹ã€‚
auto-aof-rewrite-percentage 100
#è®¾ç½®å…è®¸é‡å†™çš„æœ€å°aofæ–‡ä»¶å¤§å°ï¼Œé¿å…äº†è¾¾åˆ°çº¦å®šç™¾åˆ†æ¯”ä½†å°ºå¯¸ä»ç„¶å¾ˆå°çš„æƒ…å†µè¿˜è¦é‡å†™
auto-aof-rewrite-min-size 64mb

# aofæ–‡ä»¶å¯èƒ½åœ¨å°¾éƒ¨æ˜¯ä¸å®Œæ•´çš„ï¼Œå½“rediså¯åŠ¨çš„æ—¶å€™ï¼Œaofæ–‡ä»¶çš„æ•°æ®è¢«è½½å…¥å†…å­˜ã€‚
# é‡å¯å¯èƒ½å‘ç”Ÿåœ¨redisæ‰€åœ¨çš„ä¸»æœºæ“ä½œç³»ç»Ÿå®•æœºåï¼Œ
# å°¤å…¶åœ¨ext4æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰åŠ ä¸Šdata=orderedé€‰é¡¹ï¼ˆrediså®•æœºæˆ–è€…å¼‚å¸¸ç»ˆæ­¢ä¸ä¼šé€ æˆå°¾éƒ¨ä¸å®Œæ•´ç°è±¡ã€‚ï¼‰
# å‡ºç°è¿™ç§ç°è±¡ï¼Œå¯ä»¥é€‰æ‹©è®©redisé€€å‡ºï¼Œæˆ–è€…å¯¼å…¥å°½å¯èƒ½å¤šçš„æ•°æ®ã€‚å¦‚æœé€‰æ‹©çš„æ˜¯yesï¼Œ
# å½“æˆªæ–­çš„aofæ–‡ä»¶è¢«å¯¼å…¥çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å‘å¸ƒä¸€ä¸ªlogç»™å®¢æˆ·ç«¯ç„¶åloadã€‚å¦‚æœæ˜¯noï¼Œç”¨æˆ·å¿…é¡»æ‰‹åŠ¨redis-check-aofä¿®å¤AOFæ–‡ä»¶æ‰å¯ä»¥ã€‚
aof-load-truncated yes

################################ LUA SCRIPTING ###############################
# å¦‚æœè¾¾åˆ°æœ€å¤§æ—¶é—´é™åˆ¶ï¼ˆæ¯«ç§’ï¼‰ï¼Œredisä¼šè®°ä¸ªlogï¼Œç„¶åè¿”å›errorã€‚
# å½“ä¸€ä¸ªè„šæœ¬è¶…è¿‡äº†æœ€å¤§æ—¶é™ã€‚
# åªæœ‰SCRIPT KILLå’ŒSHUTDOWN NOSAVEå¯ä»¥ç”¨ã€‚
# ç¬¬ä¸€ä¸ªå¯ä»¥æ€æ²¡æœ‰è°ƒwriteå‘½ä»¤çš„ä¸œè¥¿ã€‚è¦æ˜¯å·²ç»è°ƒç”¨äº†writeï¼Œåªèƒ½ç”¨ç¬¬äºŒä¸ªå‘½ä»¤æ€ã€‚
lua-time-limit 5000

################################ REDIS CLUSTER ###############################
# é›†ç¾¤å¼€å…³ï¼Œé»˜è®¤æ˜¯ä¸å¼€å¯é›†ç¾¤æ¨¡å¼ã€‚
# cluster-enabled yes

# é›†ç¾¤é…ç½®æ–‡ä»¶çš„åç§°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé›†ç¾¤ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼ŒæŒä¹…åŒ–ä¿å­˜é›†ç¾¤çš„ä¿¡æ¯ã€‚
# è¿™ä¸ªæ–‡ä»¶å¹¶ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æœ‰Redisç”Ÿæˆå¹¶æ›´æ–°ï¼Œæ¯ä¸ªRedisé›†ç¾¤èŠ‚ç‚¹éœ€è¦ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶ï¼Œ
# è¯·ç¡®ä¿ä¸å®ä¾‹è¿è¡Œçš„ç³»ç»Ÿä¸­é…ç½®æ–‡ä»¶åç§°ä¸å†²çª
# cluster-config-file nodes-6379.conf

# èŠ‚ç‚¹äº’è¿è¶…æ—¶çš„é˜€å€¼ã€‚é›†ç¾¤èŠ‚ç‚¹è¶…æ—¶æ¯«ç§’æ•°
# cluster-node-timeout 15000

# åœ¨è¿›è¡Œæ•…éšœè½¬ç§»çš„æ—¶å€™ï¼Œå…¨éƒ¨slaveéƒ½ä¼šè¯·æ±‚ç”³è¯·ä¸ºmasterï¼Œä½†æ˜¯æœ‰äº›slaveå¯èƒ½ä¸masteræ–­å¼€è¿æ¥ä¸€æ®µæ—¶é—´äº†ï¼Œ
# å¯¼è‡´æ•°æ®è¿‡äºé™ˆæ—§ï¼Œè¿™æ ·çš„slaveä¸åº”è¯¥è¢«æå‡ä¸ºmasterã€‚è¯¥å‚æ•°å°±æ˜¯ç”¨æ¥åˆ¤æ–­slaveèŠ‚ç‚¹ä¸masteræ–­çº¿çš„æ—¶é—´æ˜¯å¦è¿‡é•¿ã€‚åˆ¤æ–­æ–¹æ³•æ˜¯ï¼š
# æ¯”è¾ƒslaveæ–­å¼€è¿æ¥çš„æ—¶é—´å’Œ(node-timeout * slave-validity-factor) + repl-ping-slave-period
# å¦‚æœèŠ‚ç‚¹è¶…æ—¶æ—¶é—´ä¸ºä¸‰åç§’, å¹¶ä¸”slave-validity-factorä¸º10,å‡è®¾é»˜è®¤çš„repl-ping-slave-periodæ˜¯10ç§’ï¼Œ
# å³å¦‚æœè¶…è¿‡310ç§’slaveå°†ä¸ä¼šå°è¯•è¿›è¡Œæ•…éšœè½¬ç§» 
# cluster-slave-validity-factor 10

# masterçš„slaveæ•°é‡å¤§äºè¯¥å€¼ï¼Œslaveæ‰èƒ½è¿ç§»åˆ°å…¶ä»–å­¤ç«‹masterä¸Šï¼Œ
# å¦‚è¿™ä¸ªå‚æ•°è‹¥è¢«è®¾ä¸º2ï¼Œé‚£ä¹ˆåªæœ‰å½“ä¸€ä¸ªä¸»èŠ‚ç‚¹æ‹¥æœ‰2 ä¸ªå¯å·¥ä½œçš„ä»èŠ‚ç‚¹æ—¶ï¼Œå®ƒçš„ä¸€ä¸ªä»èŠ‚ç‚¹ä¼šå°è¯•è¿ç§»ã€‚
# cluster-migration-barrier 1

# é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å…¨éƒ¨çš„slotæœ‰èŠ‚ç‚¹è´Ÿè´£ï¼Œé›†ç¾¤çŠ¶æ€æ‰ä¸ºokï¼Œæ‰èƒ½æä¾›æœåŠ¡ã€‚
# è®¾ç½®ä¸ºnoï¼Œå¯ä»¥åœ¨slotæ²¡æœ‰å…¨éƒ¨åˆ†é…çš„æ—¶å€™æä¾›æœåŠ¡ã€‚
# ä¸å»ºè®®æ‰“å¼€è¯¥é…ç½®ï¼Œè¿™æ ·ä¼šé€ æˆåˆ†åŒºçš„æ—¶å€™ï¼Œå°åˆ†åŒºçš„masterä¸€ç›´åœ¨æ¥å—å†™è¯·æ±‚ï¼Œè€Œé€ æˆå¾ˆé•¿æ—¶é—´æ•°æ®ä¸ä¸€è‡´ã€‚
# cluster-require-full-coverage yes

################################## SLOW LOG ###################################
###slog logæ˜¯ç”¨æ¥è®°å½•redisè¿è¡Œä¸­æ‰§è¡Œæ¯”è¾ƒæ…¢çš„å‘½ä»¤è€—æ—¶ã€‚å½“å‘½ä»¤çš„æ‰§è¡Œè¶…è¿‡äº†æŒ‡å®šæ—¶é—´ï¼Œå°±è®°å½•åœ¨slow logä¸­ï¼Œslog logä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ²¡æœ‰IOæ“ä½œã€‚
#æ‰§è¡Œæ—¶é—´æ¯”slowlog-log-slower-thanå¤§çš„è¯·æ±‚è®°å½•åˆ°slowlogé‡Œé¢ï¼Œå•ä½æ˜¯å¾®ç§’ï¼Œæ‰€ä»¥1000000å°±æ˜¯1ç§’ã€‚æ³¨æ„ï¼Œè´Ÿæ•°æ—¶é—´ä¼šç¦ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè€Œ0åˆ™ä¼šå¼ºåˆ¶è®°å½•æ‰€æœ‰å‘½ä»¤ã€‚
slowlog-log-slower-than 10000

#æ…¢æŸ¥è¯¢æ—¥å¿—é•¿åº¦ã€‚å½“ä¸€ä¸ªæ–°çš„å‘½ä»¤è¢«å†™è¿›æ—¥å¿—çš„æ—¶å€™ï¼Œæœ€è€çš„é‚£ä¸ªè®°å½•ä¼šè¢«åˆ æ‰ã€‚è¿™ä¸ªé•¿åº¦æ²¡æœ‰é™åˆ¶ã€‚åªè¦æœ‰è¶³å¤Ÿçš„å†…å­˜å°±è¡Œã€‚ä½ å¯ä»¥é€šè¿‡ SLOWLOG RESET æ¥é‡Šæ”¾å†…å­˜ã€‚
slowlog-max-len 128

################################ LATENCY MONITOR ##############################
#å»¶è¿Ÿç›‘æ§åŠŸèƒ½æ˜¯ç”¨æ¥ç›‘æ§redisä¸­æ‰§è¡Œæ¯”è¾ƒç¼“æ…¢çš„ä¸€äº›æ“ä½œï¼Œç”¨LATENCYæ‰“å°rediså®ä¾‹åœ¨è·‘å‘½ä»¤æ—¶çš„è€—æ—¶å›¾è¡¨ã€‚åªè®°å½•å¤§äºç­‰äºä¸‹è¾¹è®¾ç½®çš„å€¼çš„æ“ä½œã€‚0çš„è¯ï¼Œå°±æ˜¯å…³é—­ç›‘è§†ã€‚é»˜è®¤å»¶è¿Ÿç›‘æ§åŠŸèƒ½æ˜¯å…³é—­çš„ï¼Œå¦‚æœä½ éœ€è¦æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡CONFIG SETå‘½ä»¤åŠ¨æ€è®¾ç½®ã€‚
latency-monitor-threshold 0

############################# EVENT NOTIFICATION ##############################
#é”®ç©ºé—´é€šçŸ¥ä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è®¢é˜…é¢‘é“æˆ–æ¨¡å¼ï¼Œæ¥æ¥æ”¶é‚£äº›ä»¥æŸç§æ–¹å¼æ”¹åŠ¨äº† Redis æ•°æ®é›†çš„äº‹ä»¶ã€‚å› ä¸ºå¼€å¯é”®ç©ºé—´é€šçŸ¥åŠŸèƒ½éœ€è¦æ¶ˆè€—ä¸€äº› CPU ï¼Œæ‰€ä»¥åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œè¯¥åŠŸèƒ½å¤„äºå…³é—­çŠ¶æ€ã€‚
#notify-keyspace-events çš„å‚æ•°å¯ä»¥æ˜¯ä»¥ä¸‹å­—ç¬¦çš„ä»»æ„ç»„åˆï¼Œå®ƒæŒ‡å®šäº†æœåŠ¡å™¨è¯¥å‘é€å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼š
##K é”®ç©ºé—´é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ __keyspace@__ ä¸ºå‰ç¼€
##E é”®äº‹ä»¶é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ __keyevent@__ ä¸ºå‰ç¼€
##g DEL ã€ EXPIRE ã€ RENAME ç­‰ç±»å‹æ— å…³çš„é€šç”¨å‘½ä»¤çš„é€šçŸ¥
##$ å­—ç¬¦ä¸²å‘½ä»¤çš„é€šçŸ¥
##l åˆ—è¡¨å‘½ä»¤çš„é€šçŸ¥
##s é›†åˆå‘½ä»¤çš„é€šçŸ¥
##h å“ˆå¸Œå‘½ä»¤çš„é€šçŸ¥
##z æœ‰åºé›†åˆå‘½ä»¤çš„é€šçŸ¥
##x è¿‡æœŸäº‹ä»¶ï¼šæ¯å½“æœ‰è¿‡æœŸé”®è¢«åˆ é™¤æ—¶å‘é€
##e é©±é€(evict)äº‹ä»¶ï¼šæ¯å½“æœ‰é”®å› ä¸º maxmemory æ”¿ç­–è€Œè¢«åˆ é™¤æ—¶å‘é€
##A å‚æ•° g$lshzxe çš„åˆ«å
#è¾“å…¥çš„å‚æ•°ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ª K æˆ–è€… Eï¼Œå¦åˆ™çš„è¯ï¼Œä¸ç®¡å…¶ä½™çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸ä¼šæœ‰ä»»ä½• é€šçŸ¥è¢«åˆ†å‘ã€‚è¯¦ç»†ä½¿ç”¨å¯ä»¥å‚è€ƒhttp://redis.io/topics/notifications

notify-keyspace-events &#x22;KEA&#x22;

############################### ADVANCED CONFIG ###############################
# æ•°æ®é‡å°äºç­‰äºhash-max-ziplist-entriesçš„ç”¨ziplistï¼Œå¤§äºhash-max-ziplist-entriesç”¨hash
hash-max-ziplist-entries 512
# valueå¤§å°å°äºç­‰äºhash-max-ziplist-valueçš„ç”¨ziplistï¼Œå¤§äºhash-max-ziplist-valueç”¨hashã€‚
hash-max-ziplist-value 64

# æ•°æ®é‡å°äºç­‰äºlist-max-ziplist-entriesç”¨ziplistï¼Œå¤§äºlist-max-ziplist-entriesç”¨listã€‚
list-max-ziplist-entries 512
# valueå¤§å°å°äºç­‰äºlist-max-ziplist-valueçš„ç”¨ziplistï¼Œå¤§äºlist-max-ziplist-valueç”¨listã€‚
list-max-ziplist-value 64

# æ•°æ®é‡å°äºç­‰äºset-max-intset-entriesç”¨inisetï¼Œå¤§äºset-max-intset-entriesç”¨setã€‚
set-max-intset-entries 512

# æ•°æ®é‡å°äºç­‰äºzset-max-ziplist-entriesç”¨ziplistï¼Œå¤§äºzset-max-ziplist-entriesç”¨zsetã€‚
zset-max-ziplist-entries 128
# valueå¤§å°å°äºç­‰äºzset-max-ziplist-valueç”¨ziplistï¼Œå¤§äºzset-max-ziplist-valueç”¨zsetã€‚
zset-max-ziplist-value 64

# valueå¤§å°å°äºç­‰äºhll-sparse-max-bytesä½¿ç”¨ç¨€ç–æ•°æ®ç»“æ„ï¼ˆsparseï¼‰ï¼Œ
# å¤§äºhll-sparse-max-bytesä½¿ç”¨ç¨ å¯†çš„æ•°æ®ç»“æ„ï¼ˆdenseï¼‰ã€‚
# ä¸€ä¸ªæ¯”16000å¤§çš„valueæ˜¯å‡ ä¹æ²¡ç”¨çš„ï¼Œå»ºè®®çš„valueå¤§æ¦‚ä¸º3000ã€‚
# å¦‚æœå¯¹CPUè¦æ±‚ä¸é«˜ï¼Œå¯¹ç©ºé—´è¦æ±‚è¾ƒé«˜çš„ï¼Œå»ºè®®è®¾ç½®åˆ°10000å·¦å³ã€‚
hll-sparse-max-bytes 3000

# Rediså°†åœ¨æ¯100æ¯«ç§’æ—¶ä½¿ç”¨1æ¯«ç§’çš„CPUæ—¶é—´æ¥å¯¹redisçš„hashè¡¨è¿›è¡Œé‡æ–°hashï¼Œå¯ä»¥é™ä½å†…å­˜çš„ä½¿ç”¨ã€‚
# å½“ä½ çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæœ‰éå¸¸ä¸¥æ ¼çš„å®æ—¶æ€§éœ€è¦ï¼Œä¸èƒ½å¤Ÿæ¥å—Redisæ—¶ä¸æ—¶çš„å¯¹è¯·æ±‚æœ‰2æ¯«ç§’çš„å»¶è¿Ÿçš„è¯ï¼ŒæŠŠè¿™é¡¹é…ç½®ä¸ºnoã€‚
# å¦‚æœæ²¡æœ‰è¿™ä¹ˆä¸¥æ ¼çš„å®æ—¶æ€§è¦æ±‚ï¼Œå¯ä»¥è®¾ç½®ä¸ºyesï¼Œä»¥ä¾¿èƒ½å¤Ÿå°½å¯èƒ½å¿«çš„é‡Šæ”¾å†…å­˜ã€‚
activerehashing yes

# å¯¹å®¢æˆ·ç«¯è¾“å‡ºç¼“å†²è¿›è¡Œé™åˆ¶å¯ä»¥å¼ºè¿«é‚£äº›ä¸ä»æœåŠ¡å™¨è¯»å–æ•°æ®çš„å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œç”¨æ¥å¼ºåˆ¶å…³é—­ä¼ è¾“ç¼“æ…¢çš„å®¢æˆ·ç«¯ã€‚
# å¯¹äºnormal clientï¼Œç¬¬ä¸€ä¸ª0è¡¨ç¤ºå–æ¶ˆhard limitï¼Œç¬¬äºŒä¸ª0å’Œç¬¬ä¸‰ä¸ª0è¡¨ç¤ºå–æ¶ˆsoft limitï¼Œnormal clienté»˜è®¤å–æ¶ˆé™åˆ¶ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰å¯»é—®ï¼Œä»–ä»¬æ˜¯ä¸ä¼šæ¥æ”¶æ•°æ®çš„ã€‚
client-output-buffer-limit normal 0 0 0
# å¯¹äºslave clientå’ŒMONITER clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡256mbï¼Œåˆæˆ–è€…è¶…è¿‡64mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚
client-output-buffer-limit slave 256mb 64mb 60
# å¯¹äºpubsub clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡32mbï¼Œåˆæˆ–è€…è¶…è¿‡8mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚
client-output-buffer-limit pubsub 32mb 8mb 60

# redisæ‰§è¡Œä»»åŠ¡çš„é¢‘ç‡ä¸º1sé™¤ä»¥hzã€‚
hz 10

# åœ¨aofé‡å†™çš„æ—¶å€™ï¼Œå¦‚æœæ‰“å¼€äº†aof-rewrite-incremental-fsyncå¼€å…³ï¼Œç³»ç»Ÿä¼šæ¯32MBæ‰§è¡Œä¸€æ¬¡fsyncã€‚è¿™å¯¹äºæŠŠæ–‡ä»¶å†™å…¥ç£ç›˜æ˜¯æœ‰å¸®åŠ©çš„ï¼Œå¯ä»¥é¿å…è¿‡å¤§çš„å»¶è¿Ÿå³°å€¼ã€‚
aof-rewrite-incremental-fsync yes
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="ç²¾å“æ–‡ç« "><a aria-hidden="true" tabindex="-1" href="#ç²¾å“æ–‡ç« " class="anchor"><span class="icon icon-link"></span></a>ç²¾å“æ–‡ç« </h2>
        <ul>
          <li><a href="https://mp.weixin.qq.com/s/BoLsVKYyu8yRXZbxd1uuQw">å²ä¸Šæœ€å…¨Redisé«˜å¯ç”¨æŠ€æœ¯è§£å†³æ–¹æ¡ˆå¤§å…¨</a></li>
          <li><a href="http://blog.huangz.me/diary/2016/redis-4-outline.html">Redis 4.0 æ–°åŠŸèƒ½ç®€ä»‹</a></li>
          <li><a href="http://blog.huangz.me/diary/2016/how-to-learn-redis.html">Redis å­¦ä¹ è·¯çº¿</a></li>
          <li><a href="https://mp.weixin.qq.com/s/TBCEwLVAXdsTszRVpXhVug">Redisæ¶æ„ä¹‹é˜²é›ªå´©è®¾è®¡ï¼šç½‘ç«™ä¸å®•æœºèƒŒåçš„å…µæ³•</a></li>
          <li><a href="https://cachecloud.github.io/2017/02/16/Redis%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/">Redisçš„å†…å­˜ä¼˜åŒ–</a></li>
          <li><a href="https://zhuoroger.github.io/2016/08/20/redis-monitor-and-alarm/">ç»†è¯´Redisç›‘æ§å’Œå‘Šè­¦</a></li>
          <li><a href="https://github.com/sohutv/cachecloud">æœç‹è§†é¢‘(sohu tv)Redisç§æœ‰äº‘å¹³å°</a></li>
          <li><a href="https://mp.weixin.qq.com/s?__biz=MzA5NzkxMzg1Nw==&#x26;mid=2653159795&#x26;idx=1&#x26;sn=10264108e1da670774b4b53a1e6dbbe4&#x26;scene=0">ä¼˜é…·åœŸè±†çš„RedisæœåŠ¡å¹³å°åŒ–ä¹‹è·¯</a></li>
          <li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MzYwNjQ3NA==&#x26;mid=2651296671&#x26;idx=1&#x26;sn=366de50a6787963517ff6e096c9d1643&#x26;scene=2&#x26;srcid=0601j5sEtcRyw9TtehhXW0Ix&#x26;from=timeline&#x26;isappinstalled=0#wechat_redirect">è¿™å¯èƒ½æ˜¯æœ€å…¨çš„ Redis é›†ç¾¤æ–¹æ¡ˆä»‹ç»äº†</a></li>
          <li><a href="https://mp.weixin.qq.com/s?__biz=MzAwNTg2MDUyMw==&#x26;mid=2247483661&#x26;idx=1&#x26;sn=c924b3a2b098c4211b0044de180a1c0e">å¦‚ä½•å®ç°é«˜å¯ç”¨çš„redisé›†ç¾¤</a></li>
        </ul>
        <div class="previous"><a class="prev" href="../JavaScript/æ€ç»´å¯¼å›¾æ¥å­¦ä¹  Javascript åŸºç¡€çŸ¥è¯†.html"><svg viewBox="0 0 1024 1024" width="16" height="16" fill="currentColor">
              <path d="M842.666667 864c-8.533333 0-14.933333-2.133333-21.333334-8.533333l-341.333333-309.333334c-6.4-6.4-10.666667-14.933333-10.666667-23.466666 0-8.533333 4.266667-17.066667 10.666667-23.466667l341.333333-309.333333c12.8-12.8 34.133333-10.666667 44.8 2.133333 12.8 12.8 10.666667 34.133333-2.133333 44.8L548.266667 522.666667l315.733333 285.866666c12.8 10.666667 14.933333 32 2.133333 44.8-6.4 6.4-14.933333 10.666667-23.466666 10.666667z"></path>
              <path d="M512 864c-8.533333 0-14.933333-2.133333-21.333333-8.533333L149.333333 546.133333c-6.4-6.4-10.666667-14.933333-10.666666-23.466666 0-8.533333 4.266667-17.066667 10.666666-23.466667L490.666667 189.866667c12.8-12.8 34.133333-10.666667 44.8 2.133333 12.8 12.8 10.666667 34.133333-2.133334 44.8L217.6 522.666667 533.333333 808.533333c12.8 12.8 14.933333 32 2.133334 44.8-6.4 6.4-14.933333 10.666667-23.466667 10.666667z"></path>
            </svg>
<span>åŸºç¡€çŸ¥è¯†(æ€ç»´å¯¼å›¾)
</span></a><a class="next" href="../Android/react-native.html"><span>React Native Android ç¯å¢ƒæ­å»º
</span><svg viewBox="0 0 1024 1024" width="16" height="16" fill="currentColor">
              <path d="M544 522.666667c0-8.533333-4.266667-17.066667-10.666667-23.466667L192 189.866667c-12.8-12.8-34.133333-10.666667-44.8 2.133333-12.8 12.8-10.666667 34.133333 2.133333 44.8l315.733334 285.866667L149.333333 808.533333c-12.8 12.8-14.933333 32-2.133333 44.8 6.4 6.4 14.933333 10.666667 23.466667 10.666667 8.533333 0 14.933333-2.133333 21.333333-8.533333l341.333333-309.333334c6.4-6.4 10.666667-14.933333 10.666667-23.466666z"></path>
              <path d="M864 499.2l-341.333333-309.333333c-12.8-12.8-34.133333-10.666667-44.8 2.133333-12.8 12.8-10.666667 34.133333 2.133333 44.8l315.733333 285.866667-315.733333 285.866666c-12.8 12.8-14.933333 32-2.133333 44.8 6.4 6.4 14.933333 10.666667 23.466666 10.666667 8.533333 0 14.933333-2.133333 21.333334-8.533333l341.333333-309.333334c6.4-6.4 10.666667-14.933333 10.666667-23.466666 0-8.533333-4.266667-17.066667-10.666667-23.466667z"></path>
            </svg></a></div>
        <section class="article-footer"><a href="https://github.com/jaywcjlove/handbook/blob/master/docs/Redis/README.md" class="edit-button" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
<span>Edit this page on GitHub</span>
</a><span class="atime">2023/09/01</span></section>
      </markdown-style>
      <nav class="tocs">
        <aside class="inner toc">
          <ol class="tocs-list">
            <li><a href="#rediså®‰è£…" class="tocs-link">Rediså®‰è£…</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#å®˜æ–¹ç¼–è¯‘å®‰è£…" class="tocs-link">å®˜æ–¹ç¼–è¯‘å®‰è£…</a></li>
                <li><a href="#é€šè¿‡epelæºå®‰è£…" class="tocs-link">é€šè¿‡EPELæºå®‰è£…</a></li>
                <li><a href="#rediså‡çº§" class="tocs-link">Rediså‡çº§</a></li>
              </ol>
            </li>
            <li><a href="#æœåŠ¡ç®¡ç†" class="tocs-link">æœåŠ¡ç®¡ç†</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#åŸºæœ¬æœåŠ¡æ“ä½œ" class="tocs-link">åŸºæœ¬æœåŠ¡æ“ä½œ</a></li>
                <li><a href="#æŸ¥çœ‹ç‰ˆæœ¬" class="tocs-link">æŸ¥çœ‹ç‰ˆæœ¬</a></li>
                <li><a href="#æœåŠ¡ç®¡ç†-1" class="tocs-link">æœåŠ¡ç®¡ç†</a></li>
                <li><a href="#å¼€æœºå¯åŠ¨" class="tocs-link">å¼€æœºå¯åŠ¨</a></li>
              </ol>
            </li>
            <li><a href="#æ›´æ”¹é…ç½®" class="tocs-link">æ›´æ”¹é…ç½®</a></li>
            <li><a href="#è®¾ç½®è¯·æ±‚å¯†ç " class="tocs-link">è®¾ç½®è¯·æ±‚å¯†ç </a></li>
            <li><a href="#ä¸»ä»æ¶æ„é…ç½®" class="tocs-link">ä¸»ä»æ¶æ„é…ç½®</a></li>
            <li><a href="#åŸºæœ¬æ“ä½œ" class="tocs-link">åŸºæœ¬æ“ä½œ</a></li>
            <li><a href="#æ”¯æŒçš„æ•°æ®ç±»å‹" class="tocs-link">æ”¯æŒçš„æ•°æ®ç±»å‹</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#å­—ç¬¦ä¸²" class="tocs-link">å­—ç¬¦ä¸²</a></li>
                <li><a href="#hashes---å“ˆå¸Œå€¼" class="tocs-link">Hashes - å“ˆå¸Œå€¼</a></li>
                <li><a href="#lists---åˆ—è¡¨" class="tocs-link">Lists - åˆ—è¡¨</a></li>
                <li><a href="#æœ‰åºé›†åˆ" class="tocs-link">æœ‰åºé›†åˆ</a></li>
              </ol>
            </li>
            <li><a href="#å¼€å¯é€šçŸ¥" class="tocs-link">å¼€å¯é€šçŸ¥</a></li>
            <li><a href="#å¼€å¯è¿œç¨‹ç™»å½•è¿æ¥" class="tocs-link">å¼€å¯è¿œç¨‹ç™»å½•è¿æ¥</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#ä¿®æ”¹é˜²ç«å¢™é…ç½®" class="tocs-link">ä¿®æ”¹é˜²ç«å¢™é…ç½®</a></li>
                <li><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="tocs-link">ä¿®æ”¹é…ç½®æ–‡ä»¶</a></li>
              </ol>
            </li>
            <li><a href="#æä¾›çš„åŸç”Ÿç›‘æ§" class="tocs-link">æä¾›çš„åŸç”Ÿç›‘æ§</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#å½“å‰é“¾æ¥çš„å®¢æˆ·ç«¯æ•°å’Œè¿æ¥æ•°" class="tocs-link">å½“å‰é“¾æ¥çš„å®¢æˆ·ç«¯æ•°å’Œè¿æ¥æ•°</a></li>
                <li><a href="#å†…å­˜æœ€å¤§çš„é”®å€¼å’Œå¹³å‡çš„é”®å€¼æ•°æ®" class="tocs-link">å†…å­˜æœ€å¤§çš„é”®å€¼å’Œå¹³å‡çš„é”®å€¼æ•°æ®</a></li>
                <li><a href="#æŸ¥çœ‹å½“å‰çš„é”®å€¼æƒ…å†µ" class="tocs-link">æŸ¥çœ‹å½“å‰çš„é”®å€¼æƒ…å†µ</a></li>
                <li><a href="#åŸç”Ÿçš„monitorç›‘æ§" class="tocs-link">åŸç”Ÿçš„Monitorç›‘æ§</a></li>
              </ol>
            </li>
            <li><a href="#é…ç½®è¯´æ˜" class="tocs-link">é…ç½®è¯´æ˜</a></li>
            <li><a href="#ç²¾å“æ–‡ç« " class="tocs-link">ç²¾å“æ–‡ç« </a></li>
          </ol>
        </aside>
      </nav>
    </div>
    <script src="../js/demo-preview.js?v=1.26.6"></script>
    <div class="footer warpper">Released under the MIT License. Copyright Â© 2022 Kenny Wong<br>Generated by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a> v1.26.6</div>
    <script src="../js/tocbot.js?v=1.26.6"></script>
  </body>
</html>
