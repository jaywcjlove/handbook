<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CentOS7å®‰è£…KVMè™šæ‹Ÿæœºè¯¦è§£ handbook</title>
    <meta name="description" content="åŸºäº CentOS Linux release 7.2.1511 (Core) çš„ç¯å¢ƒä¸‹å‘½ä»¤è¡Œçš„æ–¹å¼å®‰è£…KVMçš„è¯¦ç»†è¿‡ç¨‹ã€‚">
    <meta name="keywords" content="handbook,ç¬”è®°,æœé›†,æ‘˜å½•,å®è·µ,tutorial">
    <link rel="stylesheet" type="text/css" href="../css/main.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/tocbot.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/media.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/sidebar.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/copy.css?v=1.26.6">
    <link rel="stylesheet" type="text/css" href="../css/demo-preview.css?v=1.26.6">
    <link rel="icon" href="data:image/png;base64,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" type="image/x-icon">
    <script src="../js/copy.js?v=1.26.6"></script>
    <script src="../js/dark-mode.js?v=1.26.6"></script>
    <script src="../js/markdown-style.js?v=1.26.6"></script>
  </head>
  <body id="idoctotop"><a href="#idoctotop" class="gototop">top</a>
    <header class="header">
      <article class="inner warpper"><a class="logo" href="../index.html"><img alt="handbook logo" src="data:image/png;base64,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">
<span class="title">handbook</span></a>
        <div class="content">
          <ul class="menu">
            <li><a href="../index.html" target="" class="">Home</a></li>
            <li><a href="../awesome.html" target="" class="">Awesome</a></li>
            <li><a href="https://jaywcjlove.gitee.io/handbook/" target="__blank" class="">ğŸ‡¨ğŸ‡³</a></li>
          </ul><a href="https://github.com/jaywcjlove/handbook" target="_blank" rel="noopener noreferrer" title="Github" name="Github" class="github"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg></a>
          <dark-mode permanent=""></dark-mode>
        </div>
      </article>
    </header>
    <div class="warpper-content warpper sidebar">
      <div class="sidebar-border">
        <aside class="sidebar" role="navigation">
          <div>
            <label>JavaScript</label>
            <a href="../JavaScript/RegExp.html" class="">ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼éšè®°</a>
            <a href="../JavaScript/SDK.html" class="">å¼€æº JS æ’ä»¶å’Œåº“</a>
            <a href="../JavaScript/nodejs.html" class="">NodeJS åŒ…æœé›†</a>
            <a href="../JavaScript/æ€ç»´å¯¼å›¾æ¥å­¦ä¹  Javascript åŸºç¡€çŸ¥è¯†.html" class="">åŸºç¡€çŸ¥è¯†(æ€ç»´å¯¼å›¾)</a>
            <label>Redis</label>
            <a href="../Redis/index.html" class="">å¿«é€Ÿå…¥é—¨ Redis</a>
            <label>Android</label>
            <a href="../Android/react-native.html" class="">React Native Android ç¯å¢ƒæ­å»º</a>
            <label>CentOS</label>
            <a href="CentOS.html" class="">CentOS å¸¸ç”¨å‘½ä»¤</a>
            <a href="CentOS7ç½‘ç»œé…ç½®.html" class="">CentOS7 ç½‘ç»œé…ç½®</a>
            <a href="å¸¸ç”¨åŸºç¡€å‘½ä»¤.html" class="">å¸¸ç”¨åŸºç¡€å‘½ä»¤</a>
            <a href="CentOS7å®‰è£…KVMè™šæ‹Ÿæœºè¯¦è§£.html" class="active">å®‰è£… KVM è™šæ‹Ÿæœºè¯¦è§£</a>
            <a href="CentOS7æ›´æ¢yumè½¯ä»¶é•œåƒæº.html" class="">æ›´æ¢ yum è½¯ä»¶é•œåƒæº</a>
            <a href="CentOS7å®‰è£…ç»´æŠ¤Gitlab.html" class="">å®‰è£…ç»´æŠ¤ GitLab</a>
            <a href="CentOS7å®‰è£…é…ç½®vsftpæ­å»ºFTP.html" class="">å®‰è£…æ­å»º FTP</a>
            <a href="Centos7å®‰è£…ç¼–è¯‘Node.html" class="">Centos7å®‰è£…ç¼–è¯‘Node</a>
            <a href="Elasticsearchå®‰è£…ç»´æŠ¤.html" class="">Elasticsearchå®‰è£…ç»´æŠ¤</a>
            <a href="Frpå†…ç½‘ç©¿é€æ­å»º.html" class="">Frpå†…ç½‘ç©¿é€æ­å»º</a>
            <a href="Linuxæ·»åŠ ã€åˆ é™¤ç”¨æˆ·å’Œç”¨æˆ·ç»„.html" class="">Linuxæ·»åŠ ã€åˆ é™¤ç”¨æˆ·å’Œç”¨æˆ·ç»„</a>
            <a href="Macä½¿ç”¨NFSè¿æ¥CentOSä¸Šçš„å…±äº«æ–‡ä»¶å¤¹.html" class="">Macä½¿ç”¨NFSè¿æ¥CentOSä¸Šçš„å…±äº«æ–‡ä»¶å¤¹</a>
            <a href="Macä¸‹åˆ¶ä½œCentOS7å¯åŠ¨ç›˜.html" class="">Macä¸‹åˆ¶ä½œCentOS7å¯åŠ¨ç›˜</a>
            <a href="Python2å‡çº§åˆ°Python3.html" class="">Python2 å‡çº§åˆ° Python3</a>
            <a href="Rocket.Chat.html" class="">Rocket.Chat</a>
            <a href="Rubyå®‰è£….html" class="">Ruby å®‰è£…</a>
            <a href="samba.html" class="">Samba å®‰è£…</a>
            <a href="åœ¨5åˆ†é’Ÿå†…æ­å»ºä¼ä¸šå†…éƒ¨ç§æœ‰npmä»“åº“.html" class="">æ­å»ºç§æœ‰ npm ä»“åº“</a>
            <a href="Java.html" class="">å®‰è£… Java</a>
            <a href="éƒ¨ç½²Seafileæ­å»ºè‡ªå·±çš„ç½‘ç›˜.html" class="">éƒ¨ç½² Seafile æ­å»ºè‡ªå·±çš„ç½‘ç›˜</a>
            <a href="æ­å»ºShadowsocksæœåŠ¡å™¨.html" class="">æ­å»º Shadowsocks æœåŠ¡å™¨</a>
            <a href="éƒ¨ç½²YApiå¹³å°.html" class="">éƒ¨ç½² YApi å¹³å°</a>
            <a href="openstack.html" class="">æ­å»º OpenStack</a>
            <a href="pip.html" class="">å®‰è£… pip å·¥å…·</a>
            <a href="ä¿®æ”¹sshç«¯å£å·çš„æ–¹æ³•.html" class="">ä¿®æ”¹ ssh ç«¯å£å·çš„æ–¹æ³•</a>
            <a href="å°è¯•åœ¨CentOS7.2ä¸Šç¼–è¯‘å®‰è£…Swift.html" class="">åœ¨CentOS ä¸Šç¼–è¯‘å®‰è£… Swift</a>
            <a href="ä½¿ç”¨å…è´¹SSLè¯ä¹¦è®©ç½‘ç«™æ”¯æŒHTTPSè®¿é—®.html" class="">ä½¿ç”¨å…è´¹ SSL è¯ä¹¦æ”¯æŒ HTTPS è®¿é—®</a>
            <a href="svn.html" class="">å®‰è£…ä½¿ç”¨ svn</a>
            <a href="ç®¡ç†è¿œç¨‹ä¼šè¯screenå·¥å…·.html" class="">ç®¡ç†è¿œç¨‹ä¼šè¯screenå·¥å…·</a>
            <label>macOS</label>
            <a href="../macOS/åˆ›å»º macOS æ“ä½œç³»ç»Ÿçš„ App å›¾æ ‡æ–‡ä»¶ icons.html" class="">åˆ›å»º macOS æ“ä½œç³»ç»Ÿçš„ App å›¾æ ‡æ–‡ä»¶ icons</a>
            <label>å…¶å®ƒ</label>
            <a href="../other/weixin-public-account.html" class="">å…¬ä¼—è´¦å·æ¨è</a>
            <a href="../other/google.html" class="">è°·æ­Œ(Google)é•œåƒ</a>
            <a href="../other/ç¦»çº¿é¢„è§ˆå„ç§å‰ç«¯æ–‡æ¡£ç½‘ç«™.html" class="">ç¦»çº¿é¢„è§ˆå‰ç«¯æ–‡æ¡£</a>
            <a href="../other/é€šè¿‡ä»£ç†å·¥å…·æé«˜Github Cloneé€Ÿåº¦.html" class="">æé«˜ Github Clone é€Ÿåº¦</a>
            <a href="../other/github-oraganizations.html" class="">å›½å†…äº’è”ç½‘å…¬å¸çš„å¼€æºé¡¹ç›®æ±‡æ€»</a>
            <a href="../other/HTTP-status-codes.html" class="">å¸¸è§HTTP/FTPé”™è¯¯ä»£ç å¤§å…¨</a>
            <a href="../other/Lua5.3.html" class="">Lua 5.3 æ–‡æ¡£</a>
            <a href="../Shortcuts/Sketch.html" class="">Sketch è®¾è®¡è½¯ä»¶å¿«æ·é”®</a>
            <a href="../Shortcuts/bash.html" class="">å‘½ä»¤è¡Œå·¥å…·bashå¿«æ·é”®</a>
          </div>
        </aside>
      </div>
      <markdown-style>
        <h1 id="centos7å®‰è£…kvmè™šæ‹Ÿæœºè¯¦è§£"><a aria-hidden="true" tabindex="-1" href="#centos7å®‰è£…kvmè™šæ‹Ÿæœºè¯¦è§£" class="anchor"><span class="icon icon-link"></span></a>CentOS7å®‰è£…KVMè™šæ‹Ÿæœºè¯¦è§£</h1>
        <p>
          <img src="img/kvmbanner-logo3.png" alt="">
        </p>
        <p>åŸºäº CentOS Linux release 7.2.1511 (Core) çš„ç¯å¢ƒä¸‹å‘½ä»¤è¡Œçš„æ–¹å¼å®‰è£…KVMçš„è¯¦ç»†è¿‡ç¨‹ã€‚</p>
        <h2 id="æ£€æµ‹æ˜¯å¦æ”¯æŒkvm"><a aria-hidden="true" tabindex="-1" href="#æ£€æµ‹æ˜¯å¦æ”¯æŒkvm" class="anchor"><span class="icon icon-link"></span></a>æ£€æµ‹æ˜¯å¦æ”¯æŒKVM</h2>
        <p>KVM æ˜¯åŸºäº x86 è™šæ‹ŸåŒ–æ‰©å±•(Intel VT æˆ–è€… AMD-V) æŠ€æœ¯çš„è™šæ‹Ÿæœºè½¯ä»¶ï¼Œæ‰€ä»¥æŸ¥çœ‹ CPU æ˜¯å¦æ”¯æŒ VT æŠ€æœ¯ï¼Œå°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ”¯æŒKVMã€‚æœ‰è¿”å›ç»“æœï¼Œå¦‚æœç»“æœä¸­æœ‰vmxï¼ˆIntelï¼‰æˆ–svm(AMD)å­—æ ·ï¼Œå°±è¯´æ˜CPUçš„æ”¯æŒçš„ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token string">'vmx|svm'</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">flags   <span class="token builtin class-name">:</span> fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm arat epb pln pts dtherm tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid cqm xsaveopt cqm_llc cqm_occup_llc
</span></code><input type="hidden" value="cat /proc/cpuinfo | egrep &#x27;vmx|svm&#x27;

flags   : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm arat epb pln pts dtherm tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid cqm xsaveopt cqm_llc cqm_occup_llc
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å…³é—­SELinuxï¼Œå°† /etc/sysconfig/selinux ä¸­çš„ <code>SELinux=enforcing</code> ä¿®æ”¹ä¸º <code>SELinux=disabled</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">vi</span> /etc/sysconfig/selinux
</span></code><input type="hidden" value="vi /etc/sysconfig/selinux
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å®‰è£…-kvm-ç¯å¢ƒ"><a aria-hidden="true" tabindex="-1" href="#å®‰è£…-kvm-ç¯å¢ƒ" class="anchor"><span class="icon icon-link"></span></a>å®‰è£… KVM ç¯å¢ƒ</h2>
        <p>é€šè¿‡ <a href="https://jaywcjlove.github.io/linux-command/c/yum.html">yum</a> å®‰è£… kvm åŸºç¡€åŒ…å’Œç®¡ç†å·¥å…·</p>
        <p>kvmç›¸å…³å®‰è£…åŒ…åŠå…¶ä½œç”¨:</p>
        <ul>
          <li><code>qemu-kvm</code> ä¸»è¦çš„KVMç¨‹åºåŒ…</li>
          <li><code>python-virtinst</code> åˆ›å»ºè™šæ‹Ÿæœºæ‰€éœ€è¦çš„å‘½ä»¤è¡Œå·¥å…·å’Œç¨‹åºåº“</li>
          <li><code>virt-manager</code> GUIè™šæ‹Ÿæœºç®¡ç†å·¥å…·</li>
          <li><code>virt-top</code> è™šæ‹Ÿæœºç»Ÿè®¡å‘½ä»¤</li>
          <li><code>virt-viewer</code> GUIè¿æ¥ç¨‹åºï¼Œè¿æ¥åˆ°å·²é…ç½®å¥½çš„è™šæ‹Ÿæœº</li>
          <li><code>libvirt</code> Cè¯­è¨€å·¥å…·åŒ…ï¼Œæä¾›libvirtæœåŠ¡</li>
          <li><code>libvirt-client</code> ä¸ºè™šæ‹Ÿå®¢æˆ·æœºæä¾›çš„Cè¯­è¨€å·¥å…·åŒ…</li>
          <li><code>virt-install</code> åŸºäºlibvirtæœåŠ¡çš„è™šæ‹Ÿæœºåˆ›å»ºå‘½ä»¤</li>
          <li><code>bridge-utils</code> åˆ›å»ºå’Œç®¡ç†æ¡¥æ¥è®¾å¤‡çš„å·¥å…·</li>
        </ul>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># å®‰è£… kvm </span>
</span><span class="code-line line-number" line="2"><span class="token comment"># ------------------------</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># yum -y install qemu-kvm python-virtinst libvirt libvirt-python virt-manager libguestfs-tools bridge-utils virt-install</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> qemu-kvm libvirt virt-install bridge-utils 
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># é‡å¯å®¿ä¸»æœºï¼Œä»¥ä¾¿åŠ è½½ kvm æ¨¡å—</span>
</span><span class="code-line line-number" line="8"><span class="token comment"># ------------------------</span>
</span><span class="code-line line-number" line="9"><span class="token function">reboot</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># æŸ¥çœ‹KVMæ¨¡å—æ˜¯å¦è¢«æ­£ç¡®åŠ è½½</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># ------------------------</span>
</span><span class="code-line line-number" line="13">lsmod <span class="token operator">|</span> <span class="token function">grep</span> kvm
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15">kvm_intel             <span class="token number">162153</span>  <span class="token number">0</span>
</span><span class="code-line line-number" line="16">kvm                   <span class="token number">525259</span>  <span class="token number">1</span> kvm_intel
</span><span class="code-line line-number" line="17">
</span></code><input type="hidden" value="# å®‰è£… kvm 
# ------------------------
# yum -y install qemu-kvm python-virtinst libvirt libvirt-python virt-manager libguestfs-tools bridge-utils virt-install

yum -y install qemu-kvm libvirt virt-install bridge-utils 

# é‡å¯å®¿ä¸»æœºï¼Œä»¥ä¾¿åŠ è½½ kvm æ¨¡å—
# ------------------------
reboot

# æŸ¥çœ‹KVMæ¨¡å—æ˜¯å¦è¢«æ­£ç¡®åŠ è½½
# ------------------------
lsmod | grep kvm

kvm_intel             162153  0
kvm                   525259  1 kvm_intel

"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¼€å¯kvmæœåŠ¡ï¼Œå¹¶ä¸”è®¾ç½®å…¶å¼€æœºè‡ªåŠ¨å¯åŠ¨</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">systemctl start libvirtd
</span><span class="code-line line-number" line="2">systemctl <span class="token builtin class-name">enable</span> libvirtd
</span></code><input type="hidden" value="systemctl start libvirtd
systemctl enable libvirtd
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æŸ¥çœ‹çŠ¶æ€æ“ä½œç»“æœï¼Œå¦‚<code>Active: active (running)</code>ï¼Œè¯´æ˜è¿è¡Œæƒ…å†µè‰¯å¥½</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">systemctl status libvirtd
</span><span class="code-line line-number" line="2">systemctl is-enabled libvirtd
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">â— libvirtd.service - Virtualization daemon
</span><span class="code-line line-number" line="5">   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/libvirtd.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since äºŒ <span class="token number">2001</span>-01-02 <span class="token number">11</span>:29:53 CST<span class="token punctuation">;</span> 1h 41min ago
</span><span class="code-line line-number" line="7">     Docs: man:libvirtd<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">           http://libvirt.org
</span></code><input type="hidden" value="systemctl status libvirtd
systemctl is-enabled libvirtd

â— libvirtd.service - Virtualization daemon
   Loaded: loaded (/usr/lib/systemd/system/libvirtd.service; enabled; vendor preset: enabled)
   Active: active (running) since äºŒ 2001-01-02 11:29:53 CST; 1h 41min ago
     Docs: man:libvirtd(8)
           http://libvirt.org
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å®‰è£…è™šæ‹Ÿæœº"><a aria-hidden="true" tabindex="-1" href="#å®‰è£…è™šæ‹Ÿæœº" class="anchor"><span class="icon icon-link"></span></a>å®‰è£…è™šæ‹Ÿæœº</h2>
        <p>å®‰è£…å‰è¦è®¾ç½®ç¯å¢ƒè¯­è¨€ä¸ºè‹±æ–‡<code>LANG="en_US.UTF-8"</code>ï¼Œå¦‚æœæ˜¯ä¸­æ–‡çš„è¯æŸäº›ç‰ˆæœ¬å¯èƒ½ä¼šæŠ¥é”™ã€‚<code>CentOS 7</code> åœ¨è¿™é‡Œä¿®æ”¹ <code>/etc/locale.conf</code>ã€‚</p>
        <p>kvmåˆ›å»ºè™šæ‹Ÿæœºï¼Œç‰¹åˆ«æ³¨æ„<code>.iso</code>é•œåƒæ–‡ä»¶ä¸€å®šæ”¾åˆ°<code>/home</code> æˆ–è€…æ ¹ç›®å½•é‡æ–°åˆ›å»ºç›®å½•ï¼Œä¸ç„¶ä¼šå› ä¸ºæƒé™æŠ¥é”™ï¼Œæ— æ³•åˆ›å»ºè™šæ‹Ÿæœºã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">virt-install <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="2">--virt-type<span class="token operator">=</span>kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3"><span class="token parameter variable">--name</span><span class="token operator">=</span>centos78 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4"><span class="token parameter variable">--vcpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5"><span class="token parameter variable">--memory</span><span class="token operator">=</span><span class="token number">4096</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6"><span class="token parameter variable">--location</span><span class="token operator">=</span>/tmp/CentOS-7-x86_64-Minimal-1511.iso <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/vms/centos78.qcow2,size<span class="token operator">=</span><span class="token number">40</span>,format<span class="token operator">=</span>qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8"><span class="token parameter variable">--network</span> <span class="token assign-left variable">bridge</span><span class="token operator">=</span>br0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9"><span class="token parameter variable">--graphics</span> none <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="10">--extra-args<span class="token operator">=</span><span class="token string">'console=ttyS0'</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="11"><span class="token parameter variable">--force</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># ------------------------</span>
</span><span class="code-line line-number" line="13">virt-install --virt-type<span class="token operator">=</span>kvm <span class="token parameter variable">--name</span><span class="token operator">=</span>centos88 <span class="token parameter variable">--vcpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token parameter variable">--memory</span><span class="token operator">=</span><span class="token number">4096</span> <span class="token parameter variable">--location</span><span class="token operator">=</span>/tmp/CentOS-7-x86_64-Minimal-1511.iso <span class="token parameter variable">--disk</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/vms/centos88.qcow2,size<span class="token operator">=</span><span class="token number">40</span>,format<span class="token operator">=</span>qcow2 <span class="token parameter variable">--network</span> <span class="token assign-left variable">bridge</span><span class="token operator">=</span>br0 <span class="token parameter variable">--graphics</span> none --extra-args<span class="token operator">=</span><span class="token string">'console=ttyS0'</span> <span class="token parameter variable">--force</span>
</span></code><input type="hidden" value="virt-install \
--virt-type=kvm \
--name=centos78 \
--vcpus=2 \
--memory=4096 \
--location=/tmp/CentOS-7-x86_64-Minimal-1511.iso \
--disk path=/home/vms/centos78.qcow2,size=40,format=qcow2 \
--network bridge=br0 \
--graphics none \
--extra-args=&#x27;console=ttyS0&#x27; \
--force
# ------------------------
virt-install --virt-type=kvm --name=centos88 --vcpus=2 --memory=4096 --location=/tmp/CentOS-7-x86_64-Minimal-1511.iso --disk path=/home/vms/centos88.qcow2,size=40,format=qcow2 --network bridge=br0 --graphics none --extra-args=&#x27;console=ttyS0&#x27; --force
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="å‘½ä»¤è¡Œé…ç½®ç³»ç»Ÿ"><a aria-hidden="true" tabindex="-1" href="#å‘½ä»¤è¡Œé…ç½®ç³»ç»Ÿ" class="anchor"><span class="icon icon-link"></span></a>å‘½ä»¤è¡Œé…ç½®ç³»ç»Ÿ</h3>
        <p>ä¸Šé¢åˆ›å»ºè™šæ‹Ÿæœºå‘½ä»¤æœ€ç»ˆéœ€è¦ä½ é…ç½®ç³»ç»ŸåŸºç¡€è®¾ç½®ï¼Œå¸¦ <code>[!]</code> åŸºæœ¬éƒ½æ˜¯è¦é…ç½®çš„ï¼ŒæŒ‰ç…§é¡ºåºå¾€ä¸‹é…ç½®ï¼ŒæŒ‰å¯¹ç”¨çš„æ•°å­—ä»¥æ­¤è¿›è¡Œè®¾ç½®ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2">Installation
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span> Language settings                 <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> Timezone settings
</span><span class="code-line line-number" line="5">        <span class="token punctuation">(</span>English <span class="token punctuation">(</span>United States<span class="token punctuation">))</span>                <span class="token punctuation">(</span>Timezone is not set.<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6"> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> Installation <span class="token builtin class-name">source</span>               <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> Software selection
</span><span class="code-line line-number" line="7">        <span class="token punctuation">(</span>Processing<span class="token punctuation">..</span>.<span class="token punctuation">)</span>                          <span class="token punctuation">(</span>Processing<span class="token punctuation">..</span>.<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> Installation Destination          <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span> Kdump
</span><span class="code-line line-number" line="9">        <span class="token punctuation">(</span>No disks selected<span class="token punctuation">)</span>                      <span class="token punctuation">(</span>Kdump is enabled<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10"> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span> Network configuration             <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> Root password
</span><span class="code-line line-number" line="11">        <span class="token punctuation">(</span>Not connected<span class="token punctuation">)</span>                          <span class="token punctuation">(</span>Password is not set.<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12"> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> User creation
</span><span class="code-line line-number" line="13">        <span class="token punctuation">(</span>No user will be created<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="14">  Please <span class="token function">make</span> your choice from above <span class="token punctuation">[</span><span class="token string">'q'</span> to quit <span class="token operator">|</span> <span class="token string">'b'</span> to begin installation <span class="token operator">|</span>
</span><span class="code-line line-number" line="15">  <span class="token string">'r'</span> to refresh<span class="token punctuation">]</span>:
</span></code><input type="hidden" value="
Installation

 1) [x] Language settings                 2) [!] Timezone settings
        (English (United States))                (Timezone is not set.)
 3) [!] Installation source               4) [!] Software selection
        (Processing...)                          (Processing...)
 5) [!] Installation Destination          6) [x] Kdump
        (No disks selected)                      (Kdump is enabled)
 7) [ ] Network configuration             8) [!] Root password
        (Not connected)                          (Password is not set.)
 9) [!] User creation
        (No user will be created)
  Please make your choice from above [&#x27;q&#x27; to quit | &#x27;b&#x27; to begin installation |
  &#x27;r&#x27; to refresh]:
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ol start="2">
          <li>Timezone settings æ—¶åŒºè®¾ç½®é€‰æ‹© <code>5) Asiaäºšæ´²</code>ï¼Œå†é€‰æ‹©åŸå¸‚ <code>62) Shanghaiä¸Šæµ·</code></li>
        </ol>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">Available regions
</span><span class="code-line line-number" line="2"> <span class="token number">1</span><span class="token punctuation">)</span>  Africa                 <span class="token number">6</span><span class="token punctuation">)</span>  Atlantic              <span class="token number">10</span><span class="token punctuation">)</span>  Pacific
</span><span class="code-line line-number" line="3"> <span class="token number">2</span><span class="token punctuation">)</span>  America                <span class="token number">7</span><span class="token punctuation">)</span>  Australia             <span class="token number">11</span><span class="token punctuation">)</span>  US
</span><span class="code-line line-number" line="4"> <span class="token number">3</span><span class="token punctuation">)</span>  Antarctica             <span class="token number">8</span><span class="token punctuation">)</span>  Europe                <span class="token number">12</span><span class="token punctuation">)</span>  Etc
</span><span class="code-line line-number" line="5"> <span class="token number">4</span><span class="token punctuation">)</span>  Arctic                 <span class="token number">9</span><span class="token punctuation">)</span>  Indian
</span><span class="code-line line-number" line="6"> <span class="token number">5</span><span class="token punctuation">)</span>  Asia
</span><span class="code-line line-number" line="7">Please <span class="token keyword">select</span> the timezone.
</span><span class="code-line line-number" line="8">Use numbers or <span class="token builtin class-name">type</span> names directly <span class="token punctuation">[</span>b to region list, q to quit<span class="token punctuation">]</span>: <span class="token number">5</span>
</span><span class="code-line line-number" line="9">--------------------
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"> <span class="token number">8</span><span class="token punctuation">)</span>  Baghdad               <span class="token number">35</span><span class="token punctuation">)</span>  Kathmandu             <span class="token number">61</span><span class="token punctuation">)</span>  Seoul
</span><span class="code-line line-number" line="12"> <span class="token number">9</span><span class="token punctuation">)</span>  Bahrain               <span class="token number">36</span><span class="token punctuation">)</span>  Khandyga              <span class="token number">62</span><span class="token punctuation">)</span>  Shanghai
</span><span class="code-line line-number" line="13"><span class="token number">10</span><span class="token punctuation">)</span>  Baku                  <span class="token number">37</span><span class="token punctuation">)</span>  Kolkata               <span class="token number">63</span><span class="token punctuation">)</span>  Singapore
</span><span class="code-line line-number" line="14"><span class="token number">26</span><span class="token punctuation">)</span>  Hong_Kong             <span class="token number">53</span><span class="token punctuation">)</span>  Pontianak
</span><span class="code-line line-number" line="15"><span class="token number">27</span><span class="token punctuation">)</span>  Hovd
</span><span class="code-line line-number" line="16">Please <span class="token keyword">select</span> the timezone.
</span><span class="code-line line-number" line="17">Use numbers or <span class="token builtin class-name">type</span> names directly <span class="token punctuation">[</span>b to region list, q to quit<span class="token punctuation">]</span>: <span class="token number">62</span>
</span><span class="code-line line-number" line="18">
</span></code><input type="hidden" value="Available regions
 1)  Africa                 6)  Atlantic              10)  Pacific
 2)  America                7)  Australia             11)  US
 3)  Antarctica             8)  Europe                12)  Etc
 4)  Arctic                 9)  Indian
 5)  Asia
Please select the timezone.
Use numbers or type names directly [b to region list, q to quit]: 5
--------------------

 8)  Baghdad               35)  Kathmandu             61)  Seoul
 9)  Bahrain               36)  Khandyga              62)  Shanghai
10)  Baku                  37)  Kolkata               63)  Singapore
26)  Hong_Kong             53)  Pontianak
27)  Hovd
Please select the timezone.
Use numbers or type names directly [b to region list, q to quit]: 62

"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ol start="3">
          <li>Installation source å®‰è£…æºè¾“å…¥æ•°å­—<code>2</code></li>
        </ol>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">Choose an installation <span class="token builtin class-name">source</span> type.
</span><span class="code-line line-number" line="2"> <span class="token number">1</span><span class="token punctuation">)</span>  CD/DVD
</span><span class="code-line line-number" line="3"> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">local</span> ISO <span class="token function">file</span>
</span><span class="code-line line-number" line="4"> <span class="token number">3</span><span class="token punctuation">)</span>  Network
</span><span class="code-line line-number" line="5">  Please <span class="token function">make</span> your choice from above <span class="token punctuation">[</span><span class="token string">'q'</span> to quit <span class="token operator">|</span> <span class="token string">'c'</span> to <span class="token builtin class-name">continue</span> <span class="token operator">|</span>
</span><span class="code-line line-number" line="6">  <span class="token string">'r'</span> to refresh<span class="token punctuation">]</span>: <span class="token number">2</span>
</span></code><input type="hidden" value="Choose an installation source type.
 1)  CD/DVD
 2)  local ISO file
 3)  Network
  Please make your choice from above [&#x27;q&#x27; to quit | &#x27;c&#x27; to continue |
  &#x27;r&#x27; to refresh]: 2
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ol start="4">
          <li>Software selection è½¯ä»¶é€‰æ‹©</li>
        </ol>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">Base environment
</span><span class="code-line line-number" line="2">Software selection
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">Base environment
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">[</span>x<span class="token punctuation">]</span> Minimal Install
</span><span class="code-line line-number" line="7">  Please <span class="token function">make</span> your choice from above <span class="token punctuation">[</span><span class="token string">'q'</span> to quit <span class="token operator">|</span> <span class="token string">'c'</span> to <span class="token builtin class-name">continue</span> <span class="token operator">|</span>
</span><span class="code-line line-number" line="8">  <span class="token string">'r'</span> to refresh<span class="token punctuation">]</span>:
</span></code><input type="hidden" value="Base environment
Software selection

Base environment

 1)  [x] Minimal Install
  Please make your choice from above [&#x27;q&#x27; to quit | &#x27;c&#x27; to continue |
  &#x27;r&#x27; to refresh]:
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ol start="5">
          <li>Installation Destination å®‰è£…ç›®çš„åœ°</li>
        </ol>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">Installation Destination
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token builtin class-name">:</span> <span class="token number">40</span> GiB <span class="token punctuation">(</span>vda<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token number">1</span> disk selected<span class="token punctuation">;</span> <span class="token number">40</span> GiB capacity<span class="token punctuation">;</span> <span class="token number">40</span> GiB <span class="token function">free</span> <span class="token punctuation">..</span>.
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">  Please <span class="token function">make</span> your choice from above <span class="token punctuation">[</span><span class="token string">'q'</span> to quit <span class="token operator">|</span> <span class="token string">'c'</span> to <span class="token builtin class-name">continue</span> <span class="token operator">|</span>
</span><span class="code-line line-number" line="8">  <span class="token string">'r'</span> to refresh<span class="token punctuation">]</span>: c
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">Autopartitioning Options è‡ªåŠ¨åˆ†åŒºé€‰é¡¹
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token punctuation">[</span> <span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> Replace Existing Linux system<span class="token punctuation">(</span>s<span class="token punctuation">)</span> æ›¿æ¢ç°æœ‰çš„Linuxç³»ç»Ÿ
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token number">2</span><span class="token punctuation">)</span> Use All Space ä½¿ç”¨æ‰€æœ‰ç©ºé—´
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token punctuation">[</span> <span class="token punctuation">]</span> <span class="token number">3</span><span class="token punctuation">)</span> Use Free Space ä½¿ç”¨å¯ç”¨ç©ºé—´
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
</span><span class="code-line line-number" line="20">Partition Scheme Options åˆ†åŒºæ–¹æ¡ˆé€‰é¡¹
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22"><span class="token punctuation">[</span> <span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> Standard Partition æ ‡å‡†åˆ†åŒº
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token punctuation">[</span> <span class="token punctuation">]</span> <span class="token number">2</span><span class="token punctuation">)</span> Btrfs Btrfs
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26"><span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token number">3</span><span class="token punctuation">)</span> LVM LVM<span class="token punctuation">(</span>é€»è¾‘å·ç®¡ç†<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token punctuation">[</span> <span class="token punctuation">]</span> <span class="token number">4</span><span class="token punctuation">)</span> LVM Thin Provisioning ç²¾ç®€é…ç½®
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30">Select a partition scheme configuration.
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32">  Please <span class="token function">make</span> your choice from above <span class="token punctuation">[</span><span class="token string">'q'</span> to quit <span class="token operator">|</span> <span class="token string">'c'</span> to <span class="token builtin class-name">continue</span> <span class="token operator">|</span>
</span><span class="code-line line-number" line="33">  <span class="token string">'r'</span> to refresh<span class="token punctuation">]</span>: c
</span><span class="code-line line-number" line="34">
</span></code><input type="hidden" value="Installation Destination

[x] 1) : 40 GiB (vda)

1 disk selected; 40 GiB capacity; 40 GiB free ...

  Please make your choice from above [&#x27;q&#x27; to quit | &#x27;c&#x27; to continue |
  &#x27;r&#x27; to refresh]: c


Autopartitioning Options è‡ªåŠ¨åˆ†åŒºé€‰é¡¹

[ ] 1) Replace Existing Linux system(s) æ›¿æ¢ç°æœ‰çš„Linuxç³»ç»Ÿ

[x] 2) Use All Space ä½¿ç”¨æ‰€æœ‰ç©ºé—´

[ ] 3) Use Free Space ä½¿ç”¨å¯ç”¨ç©ºé—´

================================================================================
Partition Scheme Options åˆ†åŒºæ–¹æ¡ˆé€‰é¡¹

[ ] 1) Standard Partition æ ‡å‡†åˆ†åŒº

[ ] 2) Btrfs Btrfs

[x] 3) LVM LVM(é€»è¾‘å·ç®¡ç†)

[ ] 4) LVM Thin Provisioning ç²¾ç®€é…ç½®

Select a partition scheme configuration.

  Please make your choice from above [&#x27;q&#x27; to quit | &#x27;c&#x27; to continue |
  &#x27;r&#x27; to refresh]: c

"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ­¤å¤„ä¹Ÿå¯ä»¥åªè®¾ç½® <code>Root å¯†ç </code>å’Œ<code>Installation Destination å®‰è£…ç›®çš„åœ°</code>å…¶å®ƒè¿›å…¥ç³»ç»Ÿè®¾ç½®æ¯”å¦‚æ—¶åŒºè®¾ç½®å¦‚ä¸‹ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> <span class="token string">"TZ='Asia/Shanghai'; export TZ"</span> <span class="token operator">>></span> /etc/profile
</span></code><input type="hidden" value="echo &#x22;TZ=&#x27;Asia/Shanghai&#x27;; export TZ&#x22; >> /etc/profile
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="è¿æ¥è™šæ‹Ÿæœº"><a aria-hidden="true" tabindex="-1" href="#è¿æ¥è™šæ‹Ÿæœº" class="anchor"><span class="icon icon-link"></span></a>è¿æ¥è™šæ‹Ÿæœº</h3>
        <p>é€šè¿‡ <code>virsh console &#x3C;è™šæ‹Ÿæœºåç§°></code> å‘½ä»¤æ¥è¿æ¥è™šæ‹Ÿæœº</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æŸ¥çœ‹è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> list              <span class="token comment"># æŸ¥çœ‹åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="3"><span class="token function">virsh</span> list <span class="token parameter variable">--all</span>         <span class="token comment"># æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"> Id    Name                           State
</span><span class="code-line line-number" line="6">----------------------------------------------------
</span><span class="code-line line-number" line="7"> <span class="token number">7</span>     centos72                       running
</span></code><input type="hidden" value="# æŸ¥çœ‹è™šæ‹Ÿæœº
virsh list              # æŸ¥çœ‹åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº
virsh list --all         # æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿæœº

 Id    Name                           State
----------------------------------------------------
 7     centos72                       running
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>è¿æ¥è™šæ‹Ÿæœº</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> console centos72
</span></code><input type="hidden" value="virsh console centos72
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é…ç½®è™šæ‹Ÿæœºç½‘ç»œï¼Œç¼–è¾‘<code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
</span><span class="code-line line-number" line="3"><span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.120.200
</span><span class="code-line line-number" line="4"><span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>
</span><span class="code-line line-number" line="5"><span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.120.1
</span><span class="code-line line-number" line="6"><span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="7"><span class="token assign-left variable">PEERDNS</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="8"><span class="token assign-left variable">PEERROUTES</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="9"><span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
</span><span class="code-line line-number" line="10"><span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="11"><span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="12"><span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="13"><span class="token assign-left variable">IPV6_PEERDNS</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="14"><span class="token assign-left variable">IPV6_PEERROUTES</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="15"><span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
</span><span class="code-line line-number" line="16"><span class="token assign-left variable">NAME</span><span class="token operator">=</span>eth0
</span><span class="code-line line-number" line="17"><span class="token assign-left variable">UUID</span><span class="token operator">=</span>adfa3b7d-bf60-47e6-8482-871dee686fb5
</span><span class="code-line line-number" line="18"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eth0
</span><span class="code-line line-number" line="19"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</span></code><input type="hidden" value="TYPE=Ethernet
BOOTPROTO=static
IPADDR=192.168.120.200
PREFIX=24
GATEWAY=192.168.120.1
DEFROUTE=yes
PEERDNS=yes
PEERROUTES=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=eth0
UUID=adfa3b7d-bf60-47e6-8482-871dee686fb5
DEVICE=eth0
ONBOOT=yes
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ·»åŠ DNSé…ç½®ï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°<code>ifcfg-eth0</code>ä¸­ï¼ŒDNSä¸æ˜¯éšä¾¿è®¾ç½®çš„ï¼Œä½ å¯ä»¥é€šè¿‡<a href="https://jaywcjlove.github.io/linux-command/c/host.html">host</a>ã€<a href="https://jaywcjlove.github.io/linux-command/c/dig.html">dig</a>ã€<a href="https://jaywcjlove.github.io/linux-command/c/nslookup.html">nslookup</a>å‘½ä»¤æŸ¥è¯¢DNSï¼Œå¦‚æœè¿™äº›å·¥å…·ä¸å­˜åœ¨å¯ä»¥é€šè¿‡<code>yum install bind-utils -y</code>æ¥å®‰è£…ä¸€ä¸‹ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># å¦‚æœæ²¡æœ‰åœ¨ç½‘ç»œé…ç½®æ·»åŠ DNSå¯ä»¥è¿™ç§æ–¹å¼æ·»åŠ DNS</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">echo</span> <span class="token string">"nameserver 192.168.188.1"</span> <span class="token operator">></span> /etc/resolv.conf
</span></code><input type="hidden" value="# å¦‚æœæ²¡æœ‰åœ¨ç½‘ç»œé…ç½®æ·»åŠ DNSå¯ä»¥è¿™ç§æ–¹å¼æ·»åŠ DNS
echo &#x22;nameserver 192.168.188.1&#x22; > /etc/resolv.conf
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ¿€æ´»ç½‘å¡</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">ifup</span> eth0 <span class="token comment"># æ¿€æ´»ç½‘å¡</span>
</span></code><input type="hidden" value="ifup eth0 # æ¿€æ´»ç½‘å¡
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="è™šæ‹Ÿæœºå…¶å®ƒç®¡ç†"><a aria-hidden="true" tabindex="-1" href="#è™šæ‹Ÿæœºå…¶å®ƒç®¡ç†" class="anchor"><span class="icon icon-link"></span></a>è™šæ‹Ÿæœºå…¶å®ƒç®¡ç†</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> start centos72     <span class="token comment"># è™šæ‹Ÿæœºå¼€å¯ï¼ˆå¯åŠ¨ï¼‰ï¼š</span>
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> <span class="token function">reboot</span> centos72    <span class="token comment"># è™šæ‹Ÿæœºé‡æ–°å¯åŠ¨</span>
</span><span class="code-line line-number" line="3"><span class="token function">virsh</span> <span class="token function">shutdown</span> centos72  <span class="token comment"># è™šæ‹Ÿæœºå…³æœº</span>
</span><span class="code-line line-number" line="4"><span class="token function">virsh</span> destroy centos72   <span class="token comment"># å¼ºåˆ¶å…³æœºï¼ˆå¼ºåˆ¶æ–­ç”µï¼‰</span>
</span><span class="code-line line-number" line="5"><span class="token function">virsh</span> <span class="token function">suspend</span> centos72   <span class="token comment"># æš‚åœï¼ˆæŒ‚èµ·ï¼‰KVM è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="6"><span class="token function">virsh</span> resume centos72    <span class="token comment"># æ¢å¤è¢«æŒ‚èµ·çš„ KVM è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="7"><span class="token function">virsh</span> undefine centos72  <span class="token comment"># è¯¥æ–¹æ³•åªåˆ é™¤é…ç½®æ–‡ä»¶ï¼Œç£ç›˜æ–‡ä»¶æœªåˆ é™¤</span>
</span><span class="code-line line-number" line="8"><span class="token function">virsh</span> autostart centos72 <span class="token comment"># éšç‰©ç†æœºå¯åŠ¨è€Œå¯åŠ¨ï¼ˆå¼€æœºå¯åŠ¨ï¼‰</span>
</span><span class="code-line line-number" line="9"><span class="token function">virsh</span> autostart <span class="token parameter variable">--disable</span> centos72 <span class="token comment"># å–æ¶ˆæ ‡è®°ä¸ºè‡ªåŠ¨å¼€å§‹ï¼ˆå–æ¶ˆå¼€æœºå¯åŠ¨ï¼‰</span>
</span></code><input type="hidden" value="virsh start centos72     # è™šæ‹Ÿæœºå¼€å¯ï¼ˆå¯åŠ¨ï¼‰ï¼š
virsh reboot centos72    # è™šæ‹Ÿæœºé‡æ–°å¯åŠ¨
virsh shutdown centos72  # è™šæ‹Ÿæœºå…³æœº
virsh destroy centos72   # å¼ºåˆ¶å…³æœºï¼ˆå¼ºåˆ¶æ–­ç”µï¼‰
virsh suspend centos72   # æš‚åœï¼ˆæŒ‚èµ·ï¼‰KVM è™šæ‹Ÿæœº
virsh resume centos72    # æ¢å¤è¢«æŒ‚èµ·çš„ KVM è™šæ‹Ÿæœº
virsh undefine centos72  # è¯¥æ–¹æ³•åªåˆ é™¤é…ç½®æ–‡ä»¶ï¼Œç£ç›˜æ–‡ä»¶æœªåˆ é™¤
virsh autostart centos72 # éšç‰©ç†æœºå¯åŠ¨è€Œå¯åŠ¨ï¼ˆå¼€æœºå¯åŠ¨ï¼‰
virsh autostart --disable centos72 # å–æ¶ˆæ ‡è®°ä¸ºè‡ªåŠ¨å¼€å§‹ï¼ˆå–æ¶ˆå¼€æœºå¯åŠ¨ï¼‰
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="é…ç½®ç‰©ç†æœºç½‘ç»œ"><a aria-hidden="true" tabindex="-1" href="#é…ç½®ç‰©ç†æœºç½‘ç»œ" class="anchor"><span class="icon icon-link"></span></a>é…ç½®ç‰©ç†æœºç½‘ç»œ</h2>
        <p>ç›®å‰æˆ‘åªæœ‰ä¸€ä¸ªå›ºå®šIPï¼Œé€šè¿‡é…ç½®<code>eno2</code>ï¼Œç½‘æ¡¥å½“åšè·¯ç”±å™¨ï¼Œè™šæ‹Ÿæœºå…±äº«ç‰©ç†æœºè¿›å‡ºç½‘ç»œã€‚ç‰©ç†æœºç½‘ç»œé…ç½®ï¼Œç½‘ç»œè¿›å‡ºèµ°<code>eno2</code> ç¼–è¾‘<code>vi /etc/sysconfig/network-scripts/ifcfg-eno2</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
</span><span class="code-line line-number" line="3"><span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="4"><span class="token assign-left variable">PEERDNS</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="5"><span class="token assign-left variable">PEERROUTES</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="6"><span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
</span><span class="code-line line-number" line="7"><span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="8"><span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="9"><span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="10"><span class="token assign-left variable">IPV6_PEERDNS</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="11"><span class="token assign-left variable">IPV6_PEERROUTES</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="12"><span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
</span><span class="code-line line-number" line="13"><span class="token assign-left variable">NAME</span><span class="token operator">=</span>eno2
</span><span class="code-line line-number" line="14"><span class="token assign-left variable">UUID</span><span class="token operator">=</span>f66c303e-994a-43cf-bd91-bb897dc2088d
</span><span class="code-line line-number" line="15"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eno2
</span><span class="code-line line-number" line="16"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token operator">&#x3C;</span>è¿™é‡Œå›ºå®šIPé…ç½®çš„åœ°æ–¹<span class="token operator">></span>  <span class="token comment"># è®¾ç½®IPåœ°å€</span>
</span><span class="code-line line-number" line="19"><span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>                   <span class="token comment"># è®¾ç½®å­ç½‘æ©ç </span>
</span><span class="code-line line-number" line="20"><span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token operator">&#x3C;</span>è¿™é‡Œè®¾ç½®ç½‘å…³<span class="token operator">></span>        <span class="token comment"># è®¾ç½®ç½‘å…³</span>
</span><span class="code-line line-number" line="21"><span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token operator">&#x3C;</span>è¿™é‡Œè®¾ç½®DNS<span class="token operator">></span>           <span class="token comment"># DNS</span>
</span></code><input type="hidden" value="TYPE=Ethernet
BOOTPROTO=static
DEFROUTE=yes
PEERDNS=yes
PEERROUTES=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=eno2
UUID=f66c303e-994a-43cf-bd91-bb897dc2088d
DEVICE=eno2
ONBOOT=yes

IPADDR=<è¿™é‡Œå›ºå®šIPé…ç½®çš„åœ°æ–¹>  # è®¾ç½®IPåœ°å€
PREFIX=24                   # è®¾ç½®å­ç½‘æ©ç 
GATEWAY=<è¿™é‡Œè®¾ç½®ç½‘å…³>        # è®¾ç½®ç½‘å…³
DNS1=<è¿™é‡Œè®¾ç½®DNS>           # DNS
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p><code>ifcfg-br0</code> æ¡¥æ¥ç½‘å¡é…ç½®åœ¨åŒä¸€ä¸ªç›®å½•ä¸­ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Bridge
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
</span><span class="code-line line-number" line="3"><span class="token assign-left variable">NAME</span><span class="token operator">=</span>br0
</span><span class="code-line line-number" line="4"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>br0
</span><span class="code-line line-number" line="5"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="6"><span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.120.1
</span><span class="code-line line-number" line="7"><span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>
</span></code><input type="hidden" value="TYPE=Bridge
BOOTPROTO=static
NAME=br0
DEVICE=br0
ONBOOT=yes
IPADDR=192.168.120.1
PREFIX=24
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p><code>ifcfg-eno1</code> ç‰©ç†ç½‘å¡æŒ‡å®šæ¡¥æ¥ç½‘å¡<code>BRIDGE="br0"</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>none
</span><span class="code-line line-number" line="3"><span class="token assign-left variable">NAME</span><span class="token operator">=</span>eno1
</span><span class="code-line line-number" line="4"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eno1
</span><span class="code-line line-number" line="5"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="6"><span class="token assign-left variable">BRIDGE</span><span class="token operator">=</span><span class="token string">"br0"</span>
</span></code><input type="hidden" value="TYPE=Ethernet
BOOTPROTO=none
NAME=eno1
DEVICE=eno1
ONBOOT=yes
BRIDGE=&#x22;br0&#x22;
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é…ç½®è·¯ç”±è½¬å‘<code>vi /etc/sysctl.conf</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Controls IP packet forwarding</span>
</span><span class="code-line line-number" line="2">net.ipv4.ip_forward <span class="token operator">=</span> <span class="token number">0</span>
</span><span class="code-line line-number" line="3">ä¿®æ”¹ä¸º
</span><span class="code-line line-number" line="4"><span class="token comment"># Controls IP packet forwarding</span>
</span><span class="code-line line-number" line="5">net.ipv4.ip_forward <span class="token operator">=</span> <span class="token number">1</span>    å…è®¸å†…ç½®è·¯ç”±
</span></code><input type="hidden" value="# Controls IP packet forwarding
net.ipv4.ip_forward = 0
ä¿®æ”¹ä¸º
# Controls IP packet forwarding
net.ipv4.ip_forward = 1    å…è®¸å†…ç½®è·¯ç”±
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å†æ‰§è¡Œ <code>sysctl -p</code> ä½¿å…¶ç”Ÿæ•ˆ</p>
        <h2 id="ç«¯å£è½¬å‘"><a aria-hidden="true" tabindex="-1" href="#ç«¯å£è½¬å‘" class="anchor"><span class="icon icon-link"></span></a>ç«¯å£è½¬å‘</h2>
        <p>ç°åœ¨æˆ‘ä»¬è¿˜ä»¥ä¸Šè¿°VMä¸ºä¾‹ï¼Œç›®å‰è¯¥KVMçš„å…¬ç½‘IPä¸º<code>211.11.61.7</code>ï¼ŒVMçš„IPä¸º<code>192.168.188.115</code>ï¼Œç°åœ¨æˆ‘è¦æ±‚é€šè¿‡è®¿é—®KVMçš„2222ç«¯å£è®¿é—®VMçš„22ç«¯å£ã€‚</p>
        <p>ç¼–è¾‘<code>vi /etc/rc.d/rc.local</code> æ·»åŠ ä¸‹é¢å‘½ä»¤ï¼Œè¾¾åˆ°å¼€æœºé‡å¯é…ç½®ç½‘ç»œè½¬å‘è§„åˆ™ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># å¯åŠ¨ç½‘ç»œè½¬å‘è§„åˆ™</span>
</span><span class="code-line line-number" line="2">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-A</span> <span class="token builtin class-name">:</span> <span class="token parameter variable">-s</span> <span class="token number">192.168</span>.188.0/24 <span class="token parameter variable">-j</span> SNAT --to-source <span class="token number">211.11</span>.61.7
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-A</span> POSTROUTING <span class="token parameter variable">-s</span> <span class="token number">192.168</span>.188.0/24 <span class="token parameter variable">-j</span> SNAT --to-source <span class="token number">211.11</span>.61.7
</span><span class="code-line line-number" line="5">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-A</span> PREROUTING <span class="token parameter variable">-d</span>  <span class="token number">211.11</span>.61.7 <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">2222</span>  <span class="token parameter variable">-j</span> DNAT --to-dest <span class="token number">192.168</span>.188.115:22
</span><span class="code-line line-number" line="6">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-A</span> PREROUTING <span class="token parameter variable">-d</span>  <span class="token number">211.11</span>.61.7 <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">2221</span>  <span class="token parameter variable">-j</span> DNAT --to-dest <span class="token number">192.168</span>.188.115:21
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># å®é™…æ•ˆæœå¯ä»¥é€šè¿‡å¤–ç½‘è¿æ¥è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="9"><span class="token function">ssh</span> <span class="token parameter variable">-p</span> <span class="token number">2222</span> root@211.11.61.7
</span></code><input type="hidden" value="# å¯åŠ¨ç½‘ç»œè½¬å‘è§„åˆ™
iptables -t nat -A : -s 192.168.188.0/24 -j SNAT --to-source 211.11.61.7

iptables -t nat -A POSTROUTING -s 192.168.188.0/24 -j SNAT --to-source 211.11.61.7
iptables -t nat -A PREROUTING -d  211.11.61.7 -p tcp --dport 2222  -j DNAT --to-dest 192.168.188.115:22
iptables -t nat -A PREROUTING -d  211.11.61.7 -p tcp --dport 2221  -j DNAT --to-dest 192.168.188.115:21

# å®é™…æ•ˆæœå¯ä»¥é€šè¿‡å¤–ç½‘è¿æ¥è™šæ‹Ÿæœº
ssh -p 2222 root@211.11.61.7
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é€šè¿‡<a href="https://jaywcjlove.github.io/linux-command/c/iptables.html">iptables</a>å‘½ä»¤æ¥è®¾ç½®è½¬å‘è§„åˆ™ï¼ŒæºSNATè§„åˆ™ï¼Œæºç½‘ç»œåœ°å€è½¬æ¢ï¼ŒSNATå°±æ˜¯é‡å†™åŒ…çš„æºIPåœ°å€ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æ•°æ®åŒ…è¿›è¡Œ æºNAT(SNAT)ï¼Œç³»ç»Ÿå…ˆè·¯ç”±â€”â€”>å†è¿‡æ»¤ï¼ˆFORWARD)â€”â€”>æœ€åæ‰è¿›è¡ŒPOSTROUTING SNATåœ°å€ç¿»è¯‘</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># -t&#x3C;è¡¨>ï¼šæŒ‡å®šè¦æ“çºµçš„è¡¨ï¼›</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># -Aï¼šå‘è§„åˆ™é“¾ä¸­æ·»åŠ æ¡ç›®ï¼›</span>
</span><span class="code-line line-number" line="4"><span class="token comment"># -sï¼šæŒ‡å®šè¦åŒ¹é…çš„æ•°æ®åŒ…æºipåœ°å€ï¼›</span>
</span><span class="code-line line-number" line="5"><span class="token comment"># -j&#x3C;ç›®æ ‡>ï¼šæŒ‡å®šè¦è·³è½¬çš„ç›®æ ‡ï¼›</span>
</span><span class="code-line line-number" line="6"><span class="token comment"># -j SNATï¼šæºç½‘ç»œåœ°å€è½¬æ¢ï¼ŒSNATå°±æ˜¯é‡å†™åŒ…çš„æºIPåœ°å€</span>
</span><span class="code-line line-number" line="7"><span class="token comment"># --to-source ipaddr[-ipaddr][:port-port] </span>
</span><span class="code-line line-number" line="8"><span class="token comment">#   å®ƒå¯ä»¥æŒ‡å®šå•ä¸ªæ–°çš„æºIPåœ°å€ï¼ŒIPåœ°å€çš„åŒ…å«èŒƒå›´ï¼Œä»¥åŠå¯é€‰çš„ç«¯å£èŒƒå›´ï¼ˆä»…å½“è§„åˆ™è¿˜æŒ‡å®š-p tcpæˆ–-p udpæ—¶æ‰æœ‰æ•ˆï¼‰ã€‚ </span>
</span><span class="code-line line-number" line="9"><span class="token comment">#   å¦‚æœæ²¡æœ‰æŒ‡å®šç«¯å£èŒƒå›´ï¼Œåˆ™ä½äº512çš„æºç«¯å£å°†æ˜ å°„åˆ°512ä»¥ä¸‹çš„å…¶ä»–ç«¯å£ï¼š512å’Œ1023ä¹‹é—´çš„ç«¯å£å°†æ˜ å°„åˆ°ä½äº1024çš„ç«¯å£ï¼Œ</span>
</span><span class="code-line line-number" line="10"><span class="token comment">#   å…¶ä»–ç«¯å£å°†è¢«æ˜ å°„åˆ°1024æˆ–æ›´é«˜ã€‚ åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå‘ç”Ÿæ¸¯å£æ›´æ”¹ã€‚</span>
</span><span class="code-line line-number" line="11"><span class="token comment">#   åœ¨å†…æ ¸é«˜è¾¾2.6.10ï¼Œæ‚¨å¯ä»¥æ·»åŠ å‡ ä¸ª - æºé€‰é¡¹ã€‚ </span>
</span><span class="code-line line-number" line="12"><span class="token comment">#   å¯¹äºè¿™äº›å†…æ ¸ï¼Œå¦‚æœé€šè¿‡åœ°å€èŒƒå›´æˆ–å¤šä¸ªæºé€‰é¡¹æŒ‡å®šå¤šä¸ªæºåœ°å€ï¼Œåˆ™ä¼šåœ¨è¿™äº›åœ°å€ä¹‹é—´è¿›è¡Œç®€å•çš„å¾ªç¯ï¼ˆå¾ªç¯ä¸­å¾ªç¯ï¼‰ã€‚ </span>
</span><span class="code-line line-number" line="13"><span class="token comment">#   åæ¥çš„å†…æ ¸ï¼ˆ> = 2.6.11-rc1ï¼‰ä¸å†å…·æœ‰NATåˆ°å¤šä¸ªèŒƒå›´çš„èƒ½åŠ›ã€‚</span>
</span><span class="code-line line-number" line="14">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-A</span> POSTROUTING <span class="token parameter variable">-s</span> <span class="token number">192.168</span>.120.0/24 <span class="token parameter variable">-j</span> SNAT --to-source <span class="token operator">&#x3C;</span>å›ºå®šIP<span class="token operator">></span>
</span><span class="code-line line-number" line="15"><span class="token comment"># cat /etc/sysconfig/iptables</span>
</span></code><input type="hidden" value="# æ•°æ®åŒ…è¿›è¡Œ æºNAT(SNAT)ï¼Œç³»ç»Ÿå…ˆè·¯ç”±â€”â€”>å†è¿‡æ»¤ï¼ˆFORWARD)â€”â€”>æœ€åæ‰è¿›è¡ŒPOSTROUTING SNATåœ°å€ç¿»è¯‘
# -t<è¡¨>ï¼šæŒ‡å®šè¦æ“çºµçš„è¡¨ï¼›
# -Aï¼šå‘è§„åˆ™é“¾ä¸­æ·»åŠ æ¡ç›®ï¼›
# -sï¼šæŒ‡å®šè¦åŒ¹é…çš„æ•°æ®åŒ…æºipåœ°å€ï¼›
# -j<ç›®æ ‡>ï¼šæŒ‡å®šè¦è·³è½¬çš„ç›®æ ‡ï¼›
# -j SNATï¼šæºç½‘ç»œåœ°å€è½¬æ¢ï¼ŒSNATå°±æ˜¯é‡å†™åŒ…çš„æºIPåœ°å€
# --to-source ipaddr[-ipaddr][:port-port] 
#   å®ƒå¯ä»¥æŒ‡å®šå•ä¸ªæ–°çš„æºIPåœ°å€ï¼ŒIPåœ°å€çš„åŒ…å«èŒƒå›´ï¼Œä»¥åŠå¯é€‰çš„ç«¯å£èŒƒå›´ï¼ˆä»…å½“è§„åˆ™è¿˜æŒ‡å®š-p tcpæˆ–-p udpæ—¶æ‰æœ‰æ•ˆï¼‰ã€‚ 
#   å¦‚æœæ²¡æœ‰æŒ‡å®šç«¯å£èŒƒå›´ï¼Œåˆ™ä½äº512çš„æºç«¯å£å°†æ˜ å°„åˆ°512ä»¥ä¸‹çš„å…¶ä»–ç«¯å£ï¼š512å’Œ1023ä¹‹é—´çš„ç«¯å£å°†æ˜ å°„åˆ°ä½äº1024çš„ç«¯å£ï¼Œ
#   å…¶ä»–ç«¯å£å°†è¢«æ˜ å°„åˆ°1024æˆ–æ›´é«˜ã€‚ åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå‘ç”Ÿæ¸¯å£æ›´æ”¹ã€‚
#   åœ¨å†…æ ¸é«˜è¾¾2.6.10ï¼Œæ‚¨å¯ä»¥æ·»åŠ å‡ ä¸ª - æºé€‰é¡¹ã€‚ 
#   å¯¹äºè¿™äº›å†…æ ¸ï¼Œå¦‚æœé€šè¿‡åœ°å€èŒƒå›´æˆ–å¤šä¸ªæºé€‰é¡¹æŒ‡å®šå¤šä¸ªæºåœ°å€ï¼Œåˆ™ä¼šåœ¨è¿™äº›åœ°å€ä¹‹é—´è¿›è¡Œç®€å•çš„å¾ªç¯ï¼ˆå¾ªç¯ä¸­å¾ªç¯ï¼‰ã€‚ 
#   åæ¥çš„å†…æ ¸ï¼ˆ> = 2.6.11-rc1ï¼‰ä¸å†å…·æœ‰NATåˆ°å¤šä¸ªèŒƒå›´çš„èƒ½åŠ›ã€‚
iptables -t nat -A POSTROUTING -s 192.168.120.0/24 -j SNAT --to-source <å›ºå®šIP>
# cat /etc/sysconfig/iptables
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å…¬ç½‘è®¿é—®è™šæ‹Ÿæœº"><a aria-hidden="true" tabindex="-1" href="#å…¬ç½‘è®¿é—®è™šæ‹Ÿæœº" class="anchor"><span class="icon icon-link"></span></a>å…¬ç½‘è®¿é—®è™šæ‹Ÿæœº</h2>
        <p>é€šè¿‡å…¬ç½‘ip <code>192.168.188.222</code>ç«¯å£<code>2280</code>ï¼Œè½¬å‘åˆ°è™šæ‹Ÿæœº<code>192.168.111.133:80</code>ä¸Šé¢</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-A</span> PREROUTING <span class="token parameter variable">-d</span> <span class="token number">192.168</span>.188.222 <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">2280</span> <span class="token parameter variable">-j</span> DNAT --to-dest <span class="token number">192.168</span>.111.133:80
</span></code><input type="hidden" value="iptables -t nat -A PREROUTING -d 192.168.188.222 -p tcp --dport 2280 -j DNAT --to-dest 192.168.111.133:80
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é‡å¯å¹¶ä¿å­˜ <code>iptables</code> é…ç½®ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># ä¿å­˜ </span>
</span><span class="code-line line-number" line="2"><span class="token function">service</span> iptables save
</span><span class="code-line line-number" line="3"><span class="token comment"># é‡å¯</span>
</span><span class="code-line line-number" line="4"><span class="token function">service</span> iptables restart
</span></code><input type="hidden" value="# ä¿å­˜ 
service iptables save
# é‡å¯
service iptables restart
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="é…ç½®å®¿ä¸»æœºç½‘ç»œ"><a aria-hidden="true" tabindex="-1" href="#é…ç½®å®¿ä¸»æœºç½‘ç»œ" class="anchor"><span class="icon icon-link"></span></a>é…ç½®å®¿ä¸»æœºç½‘ç»œ</h2>
        <ol>
          <li>KVM è™šæ‹Ÿæœºæ˜¯åŸºäº NAT çš„ç½‘ç»œé…ç½®ï¼›</li>
          <li>åªæœ‰åŒä¸€å®¿ä¸»æœºçš„è™šæ‹Ÿé”®ä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ï¼Œè·¨å®¿ä¸»æœºæ˜¯ä¸èƒ½è®¿é—®ï¼›</li>
          <li>è™šæ‹Ÿæœºéœ€è¦å’Œå®¿ä¸»æœºé…ç½®æˆæ¡¥æ¥æ¨¡å¼ï¼Œä»¥ä¾¿è™šæ‹Ÿæœºå¯ä»¥åœ¨å±€åŸŸç½‘å†…å¯è§ï¼›</li>
        </ol>
        <h3 id="bridgeæ¨¡å¼é…ç½®"><a aria-hidden="true" tabindex="-1" href="#bridgeæ¨¡å¼é…ç½®" class="anchor"><span class="icon icon-link"></span></a>Bridgeæ¨¡å¼é…ç½®</h3>
        <p>Bridgeæ–¹å¼å³è™šæ‹Ÿç½‘æ¡¥çš„ç½‘ç»œè¿æ¥æ–¹å¼ï¼Œæ˜¯å®¢æˆ·æœºå’Œå­ç½‘é‡Œé¢çš„æœºå™¨èƒ½å¤Ÿäº’ç›¸é€šä¿¡ã€‚å¯ä»¥ä½¿è™šæ‹Ÿæœºæˆä¸ºç½‘ç»œä¸­å…·æœ‰ç‹¬ç«‹IPçš„ä¸»æœºã€‚<strong>æ¡¥æ¥ç½‘ç»œ</strong>ï¼ˆä¹Ÿå« <strong>ç‰©ç†è®¾å¤‡å…±äº«</strong>ï¼‰è¢«ç”¨ä½œæŠŠä¸€ä¸ªç‰©ç†è®¾å¤‡å¤åˆ¶åˆ°ä¸€å°è™šæ‹Ÿæœºã€‚ç½‘æ¡¥å¤šç”¨ä½œé«˜çº§è®¾ç½®ï¼Œç‰¹åˆ«æ˜¯ä¸»æœºå¤šä¸ªç½‘ç»œæ¥å£çš„æƒ…å†µã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span class="code-line line-number" line="2">â”‚          HOST           â”‚      â”‚Virtual Machine <span class="token number">1</span>â”‚
</span><span class="code-line line-number" line="3">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚
</span><span class="code-line line-number" line="4">â”‚ â”‚ br0  â”‚â”€â”€â”¬â”€â”€â”€â”‚ vnet0 â”‚â”€â”‚â”€ â”€ â”€ â”‚    â”‚ br0  â”‚     â”‚
</span><span class="code-line line-number" line="5">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚    â””â”€â”€â”€â”€â”€â”€â”˜     â”‚
</span><span class="code-line line-number" line="6">â”‚     â”‚     â”‚             â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span class="code-line line-number" line="7">â”‚     â”‚     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span class="code-line line-number" line="8">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”‚ vnet1 â”‚â”€â”‚â”€     â”‚Virtual Machine <span class="token number">2</span>â”‚
</span><span class="code-line line-number" line="9">â”‚ â”‚ eno0 â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚
</span><span class="code-line line-number" line="10">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”€ â”€ â”‚    â”‚ br0  â”‚     â”‚
</span><span class="code-line line-number" line="11">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                â”‚      â”‚    â””â”€â”€â”€â”€â”€â”€â”˜     â”‚
</span><span class="code-line line-number" line="12">â”‚ â”‚ eno1 â”‚                â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span class="code-line line-number" line="13">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                â”‚
</span><span class="code-line line-number" line="14">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code><input type="hidden" value="â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          HOST           â”‚      â”‚Virtual Machine 1â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ br0  â”‚â”€â”€â”¬â”€â”€â”€â”‚ vnet0 â”‚â”€â”‚â”€ â”€ â”€ â”‚    â”‚ br0  â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚    â””â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚     â”‚     â”‚             â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚     â”‚     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”‚ vnet1 â”‚â”€â”‚â”€     â”‚Virtual Machine 2â”‚
â”‚ â”‚ eno0 â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”€ â”€ â”‚    â”‚ br0  â”‚     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                â”‚      â”‚    â””â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚ â”‚ eno1 â”‚                â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é€šè¿‡<a href="https://jaywcjlove.github.io/linux-command/c/ip.html">ip</a> å‘½ä»¤æŸ¥çœ‹å®¿ä¸»æœºé…ç½®æ–‡ä»¶çš„åå­—</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">ip</span> addr
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token number">6</span>: eno1: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state UP qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="4">    link/ether <span class="token number">38</span>:63:bb:44:cf:6c brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="5">    inet <span class="token number">192.168</span>.188.132/24 brd <span class="token number">192.168</span>.188.255 scope global dynamic eno1
</span><span class="code-line line-number" line="6">       valid_lft 2822sec preferred_lft 2822sec
</span><span class="code-line line-number" line="7">    inet6 fe80::3a63:bbff:fe44:cf6c/64 scope <span class="token function">link</span>
</span><span class="code-line line-number" line="8">       valid_lft forever preferred_lft forever
</span></code><input type="hidden" value="ip addr

6: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP qlen 1000
    link/ether 38:63:bb:44:cf:6c brd ff:ff:ff:ff:ff:ff
    inet 192.168.188.132/24 brd 192.168.188.255 scope global dynamic eno1
       valid_lft 2822sec preferred_lft 2822sec
    inet6 fe80::3a63:bbff:fe44:cf6c/64 scope link
       valid_lft forever preferred_lft forever
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¯ä»¥çœ‹åˆ°ä¸Šé¢<code>eno1</code>æ˜¯æœ‰è·å–åˆ°ipåœ°å€çš„ï¼Œç›¸å¯¹åº”çš„æ–‡ä»¶åœ¨<code>/etc/sysconfig/network-scripts/</code>ç›®å½•ä¸­ï¼Œ<code>ifcfg-eno1</code> å®¿ä¸»æœºçš„ç‰©ç†ç½‘å¡é…ç½®æ–‡ä»¶</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># cat ifcfg-eno1</span>
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
</span><span class="code-line line-number" line="3"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
</span><span class="code-line line-number" line="4"><span class="token assign-left variable">NAME</span><span class="token operator">=</span>eno1
</span><span class="code-line line-number" line="5"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eno1
</span><span class="code-line line-number" line="6"><span class="token assign-left variable">UUID</span><span class="token operator">=</span>242b3d4d-37a5-4f46-b072-55554c185ecf
</span><span class="code-line line-number" line="7"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token assign-left variable">BRIDGE</span><span class="token operator">=</span><span class="token string">"br0"</span> <span class="token comment"># æŒ‡å®šæ¡¥æ¥ç½‘å¡çš„åç§°</span>
</span></code><input type="hidden" value="# cat ifcfg-eno1
TYPE=Ethernet
BOOTPROTO=static
NAME=eno1
DEVICE=eno1
UUID=242b3d4d-37a5-4f46-b072-55554c185ecf
ONBOOT=yes

BRIDGE=&#x22;br0&#x22; # æŒ‡å®šæ¡¥æ¥ç½‘å¡çš„åç§°
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p><code>ifcfg-br0</code> æ¡¥æ¥ç½‘å¡é…ç½®åœ¨åŒä¸€ä¸ªç›®å½•ä¸­ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># cat ifcfg-br0</span>
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
</span><span class="code-line line-number" line="3"><span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="4"><span class="token assign-left variable">PEERDNS</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="5"><span class="token assign-left variable">PEERROUTES</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="6"><span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
</span><span class="code-line line-number" line="7"><span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="8"><span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="9"><span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="10"><span class="token assign-left variable">IPV6_PEERDNS</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="11"><span class="token assign-left variable">IPV6_PEERROUTES</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="12"><span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
</span><span class="code-line line-number" line="13"><span class="token assign-left variable">NAME</span><span class="token operator">=</span>br0
</span><span class="code-line line-number" line="14"><span class="token assign-left variable">UUID</span><span class="token operator">=</span>242b3d4d-37a5-4f46-b072-55554c185ecf
</span><span class="code-line line-number" line="15"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>br0
</span><span class="code-line line-number" line="16"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</span><span class="code-line line-number" line="17"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>bridge  <span class="token comment"># å°†åˆ¶å®šä¸ºæ¡¥æ¥ç±»å‹</span>
</span><span class="code-line line-number" line="18"><span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.188.133  <span class="token comment"># è®¾ç½®IPåœ°å€</span>
</span><span class="code-line line-number" line="19"><span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>               <span class="token comment"># è®¾ç½®å­ç½‘æ©ç </span>
</span><span class="code-line line-number" line="20"><span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.188.1   <span class="token comment"># è®¾ç½®ç½‘å…³</span>
</span></code><input type="hidden" value="# cat ifcfg-br0
BOOTPROTO=static
DEFROUTE=yes
PEERDNS=yes
PEERROUTES=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=br0
UUID=242b3d4d-37a5-4f46-b072-55554c185ecf
DEVICE=br0
ONBOOT=yes
TYPE=bridge  # å°†åˆ¶å®šä¸ºæ¡¥æ¥ç±»å‹
IPADDR=192.168.188.133  # è®¾ç½®IPåœ°å€
PREFIX=24               # è®¾ç½®å­ç½‘æ©ç 
GATEWAY=192.168.188.1   # è®¾ç½®ç½‘å…³
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é…ç½®å¥½ä¹‹åï¼Œé€šè¿‡<a href="https://jaywcjlove.github.io/linux-command/c/systemctl.html">systemctl</a> å‘½ä»¤é‡å¯ç½‘å¡ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">ifup</span> eno1 <span class="token comment"># æ¿€æ´»ç½‘å¡</span>
</span><span class="code-line line-number" line="2"><span class="token function">ifup</span> br0 <span class="token comment"># æ¿€æ´»æ¡¥æ¥ç½‘å¡</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># ä¸¤ç§é‡å¯ç½‘ç»œçš„æ–¹æ³•</span>
</span><span class="code-line line-number" line="4">systemctl restart network.service
</span><span class="code-line line-number" line="5"><span class="token function">service</span> network restart
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># æ ¡éªŒæ¡¥æ¥æ¥å£</span>
</span><span class="code-line line-number" line="8">brctl show
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">bridge name bridge <span class="token function">id</span>   STP enabled interfaces
</span><span class="code-line line-number" line="11">br0   <span class="token number">8000</span>.3863bb44cf6c no    eno1
</span><span class="code-line line-number" line="12">              vnet0
</span><span class="code-line line-number" line="13">virbr0    <span class="token number">8000</span>.525400193f0f <span class="token function">yes</span>   virbr0-nic
</span></code><input type="hidden" value="ifup eno1 # æ¿€æ´»ç½‘å¡
ifup br0 # æ¿€æ´»æ¡¥æ¥ç½‘å¡
# ä¸¤ç§é‡å¯ç½‘ç»œçš„æ–¹æ³•
systemctl restart network.service
service network restart

# æ ¡éªŒæ¡¥æ¥æ¥å£
brctl show

bridge name bridge id   STP enabled interfaces
br0   8000.3863bb44cf6c no    eno1
              vnet0
virbr0    8000.525400193f0f yes   virbr0-nic
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="natæ¨¡å¼"><a aria-hidden="true" tabindex="-1" href="#natæ¨¡å¼" class="anchor"><span class="icon icon-link"></span></a>NATæ¨¡å¼</h3>
        <p>NAT(Network Address Translationç½‘ç»œåœ°å€ç¿»è¯‘)ï¼ŒNATæ–¹å¼æ˜¯kvmå®‰è£…åçš„é»˜è®¤æ–¹å¼ã€‚å®ƒæ”¯æŒä¸»æœºä¸è™šæ‹Ÿæœºçš„äº’è®¿ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒè™šæ‹Ÿæœºè®¿é—®äº’è”ç½‘ï¼Œä½†ä¸æ”¯æŒå¤–ç•Œè®¿é—®è™šæ‹Ÿæœºã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> net-edit default <span class="token comment"># å¦‚æœè¦åˆ›å»ºæˆ–è€…ä¿®æ”¹NATç½‘ç»œï¼Œè¦å…ˆç¼–è¾‘default.xmlï¼š</span>
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> net-list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"> Name                 State      Autostart     Persistent
</span><span class="code-line line-number" line="5">----------------------------------------------------------
</span><span class="code-line line-number" line="6"> default              active     no            no
</span></code><input type="hidden" value="virsh net-edit default # å¦‚æœè¦åˆ›å»ºæˆ–è€…ä¿®æ”¹NATç½‘ç»œï¼Œè¦å…ˆç¼–è¾‘default.xmlï¼š
virsh net-list --all

 Name                 State      Autostart     Persistent
----------------------------------------------------------
 default              active     no            no
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>defaultæ˜¯å®¿ä¸»æœºå®‰è£…è™šæ‹Ÿæœºæ”¯æŒæ¨¡å—çš„æ—¶å€™è‡ªåŠ¨å®‰è£…çš„ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">ip</span> a l
</span><span class="code-line line-number" line="2"><span class="token number">1</span>: lo: <span class="token operator">&#x3C;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">></span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN
</span><span class="code-line line-number" line="3">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span class="code-line line-number" line="4">    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
</span><span class="code-line line-number" line="5">       valid_lft forever preferred_lft forever
</span><span class="code-line line-number" line="6">    inet6 ::1/128 scope <span class="token function">host</span>
</span><span class="code-line line-number" line="7">       valid_lft forever preferred_lft forever
</span><span class="code-line line-number" line="8"><span class="token number">2</span>: ens1f0: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="9">    link/ether 2c:44:fd:8c:43:44 brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="10"><span class="token number">3</span>: ens1f1: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="11">    link/ether 2c:44:fd:8c:43:45 brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="12"><span class="token number">4</span>: ens1f2: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="13">    link/ether 2c:44:fd:8c:43:46 brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="14"><span class="token number">5</span>: ens1f3: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="15">    link/ether 2c:44:fd:8c:43:47 brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="16"><span class="token number">6</span>: eno1: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq master br0 state UP qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="17">    link/ether <span class="token number">38</span>:63:bb:44:cf:6c brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="18"><span class="token number">7</span>: eno2: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="19">    link/ether <span class="token number">38</span>:63:bb:44:cf:6d brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="20"><span class="token number">8</span>: eno3: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="21">    link/ether <span class="token number">38</span>:63:bb:44:cf:6e brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="22"><span class="token number">9</span>: eno4: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc mq state DOWN qlen <span class="token number">1000</span>
</span><span class="code-line line-number" line="23">    link/ether <span class="token number">38</span>:63:bb:44:cf:6f brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="24"><span class="token number">10</span>: virbr0: <span class="token operator">&#x3C;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc noqueue state DOWN
</span><span class="code-line line-number" line="25">    link/ether <span class="token number">52</span>:54:00:19:3f:0f brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="26">    inet <span class="token number">192.168</span>.122.1/24 brd <span class="token number">192.168</span>.122.255 scope global virbr0
</span><span class="code-line line-number" line="27">       valid_lft forever preferred_lft forever
</span><span class="code-line line-number" line="28"><span class="token number">11</span>: virbr0-nic: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc pfifo_fast master virbr0 state DOWN qlen <span class="token number">500</span>
</span><span class="code-line line-number" line="29">    link/ether <span class="token number">52</span>:54:00:19:3f:0f brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="30"><span class="token number">12</span>: br0: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc noqueue state UP
</span><span class="code-line line-number" line="31">    link/ether <span class="token number">38</span>:63:bb:44:cf:6c brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="32">    inet <span class="token number">192.168</span>.188.132/24 brd <span class="token number">192.168</span>.188.255 scope global dynamic br0
</span><span class="code-line line-number" line="33">       valid_lft 3397sec preferred_lft 3397sec
</span><span class="code-line line-number" line="34">    inet <span class="token number">192.168</span>.188.133/24 brd <span class="token number">192.168</span>.188.255 scope global secondary br0
</span><span class="code-line line-number" line="35">       valid_lft forever preferred_lft forever
</span><span class="code-line line-number" line="36">    inet6 fe80::3a63:bbff:fe44:cf6c/64 scope <span class="token function">link</span>
</span><span class="code-line line-number" line="37">       valid_lft forever preferred_lft forever
</span><span class="code-line line-number" line="38"><span class="token number">19</span>: vnet0: <span class="token operator">&#x3C;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">></span> mtu <span class="token number">1500</span> qdisc pfifo_fast master br0 state UNKNOWN qlen <span class="token number">500</span>
</span><span class="code-line line-number" line="39">    link/ether fe:54:00:72:12:a8 brd ff:ff:ff:ff:ff:ff
</span><span class="code-line line-number" line="40">    inet6 fe80::fc54:ff:fe72:12a8/64 scope <span class="token function">link</span>
</span><span class="code-line line-number" line="41">       valid_lft forever preferred_lft forever
</span></code><input type="hidden" value="ip a l
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: ens1f0: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 2c:44:fd:8c:43:44 brd ff:ff:ff:ff:ff:ff
3: ens1f1: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 2c:44:fd:8c:43:45 brd ff:ff:ff:ff:ff:ff
4: ens1f2: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 2c:44:fd:8c:43:46 brd ff:ff:ff:ff:ff:ff
5: ens1f3: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 2c:44:fd:8c:43:47 brd ff:ff:ff:ff:ff:ff
6: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master br0 state UP qlen 1000
    link/ether 38:63:bb:44:cf:6c brd ff:ff:ff:ff:ff:ff
7: eno2: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 38:63:bb:44:cf:6d brd ff:ff:ff:ff:ff:ff
8: eno3: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 38:63:bb:44:cf:6e brd ff:ff:ff:ff:ff:ff
9: eno4: <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN qlen 1000
    link/ether 38:63:bb:44:cf:6f brd ff:ff:ff:ff:ff:ff
10: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN
    link/ether 52:54:00:19:3f:0f brd ff:ff:ff:ff:ff:ff
    inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0
       valid_lft forever preferred_lft forever
11: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc pfifo_fast master virbr0 state DOWN qlen 500
    link/ether 52:54:00:19:3f:0f brd ff:ff:ff:ff:ff:ff
12: br0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP
    link/ether 38:63:bb:44:cf:6c brd ff:ff:ff:ff:ff:ff
    inet 192.168.188.132/24 brd 192.168.188.255 scope global dynamic br0
       valid_lft 3397sec preferred_lft 3397sec
    inet 192.168.188.133/24 brd 192.168.188.255 scope global secondary br0
       valid_lft forever preferred_lft forever
    inet6 fe80::3a63:bbff:fe44:cf6c/64 scope link
       valid_lft forever preferred_lft forever
19: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master br0 state UNKNOWN qlen 500
    link/ether fe:54:00:72:12:a8 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::fc54:ff:fe72:12a8/64 scope link
       valid_lft forever preferred_lft forever
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å…¶ä¸­virbr0æ˜¯ç”±å®¿ä¸»æœºè™šæ‹Ÿæœºæ”¯æŒæ¨¡å—å®‰è£…æ—¶äº§ç”Ÿçš„è™šæ‹Ÿç½‘ç»œæ¥å£ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªswitchå’Œbridgeï¼Œè´Ÿè´£æŠŠå†…å®¹åˆ†å‘åˆ°å„è™šæ‹Ÿæœºã€‚å‡ ä¸ªè™šæ‹Ÿæœºç®¡ç†æ¨¡å—äº§ç”Ÿçš„æ¥å£å…³ç³»å¦‚ä¸‹å›¾:</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      
</span><span class="code-line line-number" line="2">â”‚         HOST          â”‚                      
</span><span class="code-line line-number" line="3">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span class="code-line line-number" line="4">â”‚ â”‚ br0  â”‚â”€â”¬â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚Virtual Machine <span class="token number">1</span>â”‚
</span><span class="code-line line-number" line="5">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚     â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚
</span><span class="code-line line-number" line="6">â”‚     â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”€ â”‚   â”‚ br0  â”‚      â”‚
</span><span class="code-line line-number" line="7">â”‚     â”‚    â”‚  â”‚ vnet0 â”‚â”€â”‚â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”˜      â”‚
</span><span class="code-line line-number" line="8">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span class="code-line line-number" line="9">â”‚ â”‚virbr0â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span class="code-line line-number" line="10">â”‚ â”‚ <span class="token parameter variable">-nic</span> â”‚ â””â”€â”€â”‚ vnet1 â”‚â”€â”‚â”  â”‚Virtual Machine <span class="token number">2</span>â”‚
</span><span class="code-line line-number" line="11">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚                 â”‚
</span><span class="code-line line-number" line="12">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚â”” â”€â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚
</span><span class="code-line line-number" line="13">â”‚ â”‚ eno0 â”‚              â”‚   â”‚   â”‚ br0  â”‚      â”‚
</span><span class="code-line line-number" line="14">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜      â”‚
</span><span class="code-line line-number" line="15">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span class="code-line line-number" line="16">â”‚ â”‚ eno1 â”‚              â”‚
</span><span class="code-line line-number" line="17">â”‚ â””â”€â”€â”€â”€â”€â”€â”˜              â”‚
</span><span class="code-line line-number" line="18">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code><input type="hidden" value="â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      
â”‚         HOST          â”‚                      
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ br0  â”‚â”€â”¬â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚Virtual Machine 1â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚     â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚ â”€ â”‚   â”‚ br0  â”‚      â”‚
â”‚     â”‚    â”‚  â”‚ vnet0 â”‚â”€â”‚â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚virbr0â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ -nic â”‚ â””â”€â”€â”‚ vnet1 â”‚â”€â”‚â”  â”‚Virtual Machine 2â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚â”” â”€â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ â”‚ eno0 â”‚              â”‚   â”‚   â”‚ br0  â”‚      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚ eno1 â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ä»å›¾ä¸Šå¯ä»¥çœ‹å‡ºï¼Œè™šæ‹Ÿæ¥å£å’Œç‰©ç†æ¥å£ä¹‹é—´æ²¡æœ‰è¿æ¥å…³ç³»ï¼Œæ‰€ä»¥è™šæ‹Ÿæœºåªèƒ½åœ¨é€šè¿‡è™šæ‹Ÿçš„ç½‘ç»œè®¿é—®å¤–éƒ¨ä¸–ç•Œï¼Œæ— æ³•ä»ç½‘ç»œä¸Šå®šä½å’Œè®¿é—®è™šæ‹Ÿä¸»æœºã€‚</p>
        <p>virbr0æ˜¯ä¸€ä¸ªæ¡¥æ¥å™¨ï¼Œæ¥æ”¶æ‰€æœ‰åˆ°ç½‘ç»œ192.168.122.*çš„å†…å®¹ã€‚ä»ä¸‹é¢å‘½ä»¤å¯ä»¥éªŒè¯ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">brctl show
</span><span class="code-line line-number" line="2"><span class="token comment"># è¾“å‡ºç»“æœ</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># ---------------------</span>
</span><span class="code-line line-number" line="4"><span class="token comment"># bridge name bridge id   STP enabled interfaces</span>
</span><span class="code-line line-number" line="5"><span class="token comment"># br0   8000.3863bb44cf6c no    eno1</span>
</span><span class="code-line line-number" line="6"><span class="token comment">#               vnet0</span>
</span><span class="code-line line-number" line="7"><span class="token comment"># virbr0    8000.525400193f0f yes   virbr0-nic</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token function">ip</span> route
</span><span class="code-line line-number" line="10"><span class="token comment"># default via 192.168.188.1 dev br0</span>
</span><span class="code-line line-number" line="11"><span class="token comment"># 169.254.0.0/16 dev br0  scope link  metric 1012</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># 192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1</span>
</span><span class="code-line line-number" line="13"><span class="token comment"># 192.168.188.0/24 dev br0  proto kernel  scope link  src 192.168.188.132</span>
</span></code><input type="hidden" value="brctl show
# è¾“å‡ºç»“æœ
# ---------------------
# bridge name bridge id   STP enabled interfaces
# br0   8000.3863bb44cf6c no    eno1
#               vnet0
# virbr0    8000.525400193f0f yes   virbr0-nic

ip route
# default via 192.168.188.1 dev br0
# 169.254.0.0/16 dev br0  scope link  metric 1012
# 192.168.122.0/24 dev virbr0  proto kernel  scope link  src 192.168.122.1
# 192.168.188.0/24 dev br0  proto kernel  scope link  src 192.168.188.132
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>åŒæ—¶ï¼Œè™šæ‹Ÿæœºæ”¯æŒæ¨¡å—ä¼šä¿®æ”¹iptablesè§„åˆ™ï¼Œé€šè¿‡å‘½ä»¤å¯ä»¥æŸ¥çœ‹ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">iptables <span class="token parameter variable">-t</span> nat <span class="token parameter variable">-L</span> <span class="token parameter variable">-nv</span>
</span><span class="code-line line-number" line="2">iptables <span class="token parameter variable">-t</span> filter <span class="token parameter variable">-L</span> <span class="token parameter variable">-nv</span>
</span></code><input type="hidden" value="iptables -t nat -L -nv
iptables -t filter -L -nv
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¦‚æœæ²¡æœ‰defaultçš„è¯ï¼Œæˆ–è€…éœ€è¦æ‰©å±•è‡ªå·±çš„è™šæ‹Ÿç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤é‡æ–°å®‰è£…NATã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> net-define /usr/share/libvirt/networks/default.xml
</span></code><input type="hidden" value="virsh net-define /usr/share/libvirt/networks/default.xml
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ­¤å‘½ä»¤å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œï¼Œdefault.xmlçš„å†…å®¹ï¼š</p>
        <pre class="language-html"><code class="language-html code-highlight"><span class="code-line line-number" line="1"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>network</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="2">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>name</span><span class="token punctuation">></span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>name</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="3">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>bridge</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>virbr0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="4">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>forward</span><span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="5">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ip</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192.168.122.1<span class="token punctuation">"</span></span> <span class="token attr-name">netmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>255.255.255.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="6">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>dhcp</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="7">      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>range</span> <span class="token attr-name">start</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192.168.122.2<span class="token punctuation">"</span></span> <span class="token attr-name">end</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192.168.122.254<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="8">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>dhcp</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="9">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ip</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="10"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>network</span><span class="token punctuation">></span></span>
</span></code><input type="hidden" value="<network>
  <name>default</name>
  <bridge name=&#x22;virbr0&#x22; />
  <forward/>
  <ip address=&#x22;192.168.122.1&#x22; netmask=&#x22;255.255.255.0&#x22;>
    <dhcp>
      <range start=&#x22;192.168.122.2&#x22; end=&#x22;192.168.122.254&#x22; />
    </dhcp>
  </ip>
</network>
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ä¹Ÿå¯ä»¥ä¿®æ”¹xmlï¼Œåˆ›å»ºè‡ªå·±çš„è™šæ‹Ÿç½‘ç»œã€‚</p>
        <p>é‡æ–°åŠ è½½å’Œæ¿€æ´»é…ç½®ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span>  net-define /etc/libvirt/qemu/networks/default.xml
</span></code><input type="hidden" value="virsh  net-define /etc/libvirt/qemu/networks/default.xml
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æ ‡è®°ä¸ºè‡ªåŠ¨å¯åŠ¨ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> net-autostart default
</span><span class="code-line line-number" line="2"><span class="token comment"># Network default marked as autostarted</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token function">virsh</span> net-start default
</span></code><input type="hidden" value="virsh net-autostart default
# Network default marked as autostarted

virsh net-start default
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¯åŠ¨ç½‘ç»œï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> net-start default
</span><span class="code-line line-number" line="2"><span class="token comment"># Network default started</span>
</span></code><input type="hidden" value="virsh net-start default
# Network default started
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ç½‘ç»œå¯åŠ¨åå¯ä»¥ç”¨å‘½ä»¤brctl show æŸ¥çœ‹å’ŒéªŒè¯ã€‚</p>
        <p>ä¿®æ”¹<code>vi /etc/sysctl.conf</code>ä¸­å‚æ•°ï¼Œå…è®¸ipè½¬å‘ï¼ŒCentOS7æ˜¯åœ¨<code>vi /usr/lib/sysctl.d/00-system.conf</code> è¿™é‡Œé¢ä¿®æ”¹</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">net.ipv4.ip_forward</span><span class="token operator">=</span><span class="token number">1</span>
</span></code><input type="hidden" value="net.ipv4.ip_forward=1
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é€šè¿‡ <code>sysctl -p</code> æŸ¥çœ‹ä¿®æ”¹ç»“æœ</p>
        <h3 id="è‡ªå®šä¹‰natç½‘ç»œ"><a aria-hidden="true" tabindex="-1" href="#è‡ªå®šä¹‰natç½‘ç»œ" class="anchor"><span class="icon icon-link"></span></a>è‡ªå®šä¹‰NATç½‘ç»œ</h3>
        <p>åˆ›å»ºåä¸º<code>management</code>çš„NATç½‘ç»œï¼Œ<code>vi /usr/share/libvirt/networks/management.xml</code></p>
        <pre class="language-html"><code class="language-html code-highlight"><span class="code-line line-number" line="1"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>network</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="2">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>name</span><span class="token punctuation">></span></span>management<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>name</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="3">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>bridge</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>virbr1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="4">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>forward</span><span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="5">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ip</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192.168.123.1<span class="token punctuation">"</span></span> <span class="token attr-name">netmask</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>255.255.255.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="6">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>dhcp</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="7">      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>range</span> <span class="token attr-name">start</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192.168.123.2<span class="token punctuation">"</span></span> <span class="token attr-name">end</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>192.168.123.254<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="8">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>dhcp</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="9">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ip</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="10"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>network</span><span class="token punctuation">></span></span>
</span></code><input type="hidden" value="<network>
  <name>management</name>
  <bridge name=&#x22;virbr1&#x22;/>
  <forward/>
  <ip address=&#x22;192.168.123.1&#x22; netmask=&#x22;255.255.255.0&#x22;>
    <dhcp>
      <range start=&#x22;192.168.123.2&#x22; end=&#x22;192.168.123.254&#x22;/>
    </dhcp>
  </ip>
</network>
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¯ç”¨æ–°å»ºçš„NATç½‘ç»œ</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> net-define /usr/share/libvirt/networks/management.xml
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> net-start management
</span><span class="code-line line-number" line="3"><span class="token function">virsh</span> net-autostart management
</span></code><input type="hidden" value="virsh net-define /usr/share/libvirt/networks/management.xml
virsh net-start management
virsh net-autostart management
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>éªŒè¯</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">brctl show
</span><span class="code-line line-number" line="2"><span class="token comment"># bridge name bridge id   STP enabled interfaces</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># br0   8000.3863bb44cf6c no    eno1</span>
</span><span class="code-line line-number" line="4"><span class="token comment">#               vnet0</span>
</span><span class="code-line line-number" line="5"><span class="token comment"># virbr0    8000.525400193f0f yes   virbr0-nic</span>
</span><span class="code-line line-number" line="6"><span class="token comment"># virbr1    8000.52540027f0ba yes   virbr1-nic</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token function">virsh</span> net-list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="9"><span class="token comment">#  Name                 State      Autostart     Persistent</span>
</span><span class="code-line line-number" line="10"><span class="token comment"># ----------------------------------------------------------</span>
</span><span class="code-line line-number" line="11"><span class="token comment">#  default              active     no            no</span>
</span><span class="code-line line-number" line="12"><span class="token comment">#  management           active     yes           yes</span>
</span></code><input type="hidden" value="brctl show
# bridge name bridge id   STP enabled interfaces
# br0   8000.3863bb44cf6c no    eno1
#               vnet0
# virbr0    8000.525400193f0f yes   virbr0-nic
# virbr1    8000.52540027f0ba yes   virbr1-nic

virsh net-list --all
#  Name                 State      Autostart     Persistent
# ----------------------------------------------------------
#  default              active     no            no
#  management           active     yes           yes
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="é€€å‡ºè™šæ‹Ÿæœº"><a aria-hidden="true" tabindex="-1" href="#é€€å‡ºè™šæ‹Ÿæœº" class="anchor"><span class="icon icon-link"></span></a>é€€å‡ºè™šæ‹Ÿæœº</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">exit</span> <span class="token comment"># é€€å‡ºç³»ç»Ÿåˆ°ç™»å½•ç•Œé¢</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">Ctrl+5 <span class="token comment"># ä»è™šæ‹Ÿæœºç™»å½•é¡µé¢ï¼Œé€€å‡ºåˆ°å®¿ä¸»æœºå‘½ä»¤è¡Œé¡µé¢</span>
</span><span class="code-line line-number" line="4">Ctrl+<span class="token punctuation">]</span> <span class="token comment"># æˆ–è€…ä¸‹é¢</span>
</span></code><input type="hidden" value="exit # é€€å‡ºç³»ç»Ÿåˆ°ç™»å½•ç•Œé¢

Ctrl+5 # ä»è™šæ‹Ÿæœºç™»å½•é¡µé¢ï¼Œé€€å‡ºåˆ°å®¿ä¸»æœºå‘½ä»¤è¡Œé¡µé¢
Ctrl+] # æˆ–è€…ä¸‹é¢
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="ä¿®æ”¹è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯"><a aria-hidden="true" tabindex="-1" href="#ä¿®æ”¹è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯" class="anchor"><span class="icon icon-link"></span></a>ä¿®æ”¹è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯</h2>
        <p>ç›´æ¥é€šè¿‡vimå‘½ä»¤ä¿®æ”¹</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">vim</span>  /etc/libvirt/qemu/centos72.xml
</span></code><input type="hidden" value="vim  /etc/libvirt/qemu/centos72.xml
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é€šè¿‡virshå‘½ä»¤ä¿®æ”¹</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> edit centos72
</span></code><input type="hidden" value="virsh edit centos72
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å…‹éš†è™šæ‹Ÿæœº"><a aria-hidden="true" tabindex="-1" href="#å…‹éš†è™šæ‹Ÿæœº" class="anchor"><span class="icon icon-link"></span></a>å…‹éš†è™šæ‹Ÿæœº</h2>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æš‚åœåŸå§‹è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> <span class="token function">shutdown</span> centos72
</span><span class="code-line line-number" line="3">virt-clone <span class="token parameter variable">-o</span> centos72 <span class="token parameter variable">-n</span> centos.112 <span class="token parameter variable">-f</span> /home/vms/centos.112.qcow2 <span class="token parameter variable">-m</span> 00:00:00:00:00:01
</span><span class="code-line line-number" line="4">virt-clone <span class="token parameter variable">-o</span> centos88 <span class="token parameter variable">-n</span> centos.112 <span class="token parameter variable">--file</span> /home/vms/centos.112.qcow2 <span class="token parameter variable">--nonsparse</span>
</span></code><input type="hidden" value="# æš‚åœåŸå§‹è™šæ‹Ÿæœº
virsh shutdown centos72
virt-clone -o centos72 -n centos.112 -f /home/vms/centos.112.qcow2 -m 00:00:00:00:00:01
virt-clone -o centos88 -n centos.112 --file /home/vms/centos.112.qcow2 --nonsparse
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p><code>virt-clone</code> å‚æ•°ä»‹ç»</p>
        <ul>
          <li><code>--version</code> æŸ¥çœ‹ç‰ˆæœ¬ã€‚</li>
          <li><code>-hï¼Œ--help</code> æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ã€‚</li>
          <li><code>--connect=URI</code> è¿æ¥åˆ°è™šæ‹Ÿæœºç®¡ç†ç¨‹åº libvirt çš„URIã€‚</li>
          <li><code>-o åŸå§‹è™šæ‹Ÿæœºåç§°</code> åŸå§‹è™šæ‹Ÿæœºåç§°ï¼Œå¿…é¡»ä¸ºå…³é—­æˆ–è€…æš‚åœçŠ¶æ€ã€‚</li>
          <li><code>-n æ–°è™šæ‹Ÿæœºåç§°</code> --name æ–°è™šæ‹Ÿæœºåç§°ã€‚</li>
          <li><code>--auto-clone</code> ä»åŸæ¥çš„è™šæ‹Ÿæœºé…ç½®è‡ªåŠ¨ç”Ÿæˆå…‹éš†åç§°å’Œå­˜å‚¨è·¯å¾„ã€‚</li>
          <li><code>-u NEW_UUID, --uuid=NEW_UUID</code> å…‹éš†è™šæ‹Ÿæœºçš„æ–°çš„UUIDï¼Œé»˜è®¤å€¼æ˜¯ä¸€ä¸ªéšæœºç”Ÿæˆçš„UUIDã€‚</li>
          <li><code>-m NEW_MAC, --mac=NEW_MAC</code> è®¾ç½®ä¸€ä¸ªæ–°çš„macåœ°å€ï¼Œé»˜è®¤ä¸ºéšæœºç”Ÿæˆ MACã€‚</li>
          <li><code>-f NEW_DISKFILE, --file=NEW_DISKFILE</code> ä¸ºæ–°å®¢æˆ·æœºä½¿ç”¨æ–°çš„ç£ç›˜é•œåƒæ–‡ä»¶åœ°å€ã€‚</li>
          <li><code>--force-copy=TARGET</code> å¼ºåˆ¶å¤åˆ¶è®¾å¤‡ã€‚</li>
          <li><code>--nonsparse</code> ä¸ä½¿ç”¨ç¨€ç–æ–‡ä»¶å¤åˆ¶ç£ç›˜æ˜ åƒã€‚</li>
        </ul>
        <h2 id="é€šè¿‡é•œåƒåˆ›å»ºè™šæ‹Ÿæœº"><a aria-hidden="true" tabindex="-1" href="#é€šè¿‡é•œåƒåˆ›å»ºè™šæ‹Ÿæœº" class="anchor"><span class="icon icon-link"></span></a>é€šè¿‡é•œåƒåˆ›å»ºè™šæ‹Ÿæœº</h2>
        <p>åˆ›å»ºè™šæ‹Ÿæœºé•œåƒæ–‡ä»¶</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># å¤åˆ¶ç¬¬ä¸€æ¬¡å®‰è£…çš„å¹²å‡€ç³»ç»Ÿé•œåƒï¼Œä½œä¸ºåŸºç¡€é•œåƒæ–‡ä»¶ï¼Œ</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># åé¢åˆ›å»ºè™šæ‹Ÿæœºä½¿ç”¨è¿™ä¸ªåŸºç¡€é•œåƒ</span>
</span><span class="code-line line-number" line="3"><span class="token function">cp</span> /home/vms/centos.88.qcow2 /home/vms/centos7.base.qcow2
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># ä½¿ç”¨åŸºç¡€é•œåƒæ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿæœºé•œåƒ</span>
</span><span class="code-line line-number" line="6"><span class="token function">cp</span> /home/vms/centos7.base.qcow2 /home/vms/centos7.113.qcow2
</span></code><input type="hidden" value="# å¤åˆ¶ç¬¬ä¸€æ¬¡å®‰è£…çš„å¹²å‡€ç³»ç»Ÿé•œåƒï¼Œä½œä¸ºåŸºç¡€é•œåƒæ–‡ä»¶ï¼Œ
# åé¢åˆ›å»ºè™šæ‹Ÿæœºä½¿ç”¨è¿™ä¸ªåŸºç¡€é•œåƒ
cp /home/vms/centos.88.qcow2 /home/vms/centos7.base.qcow2

# ä½¿ç”¨åŸºç¡€é•œåƒæ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿæœºé•œåƒ
cp /home/vms/centos7.base.qcow2 /home/vms/centos7.113.qcow2
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>åˆ›å»ºè™šæ‹Ÿæœºé…ç½®æ–‡ä»¶</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># å¤åˆ¶ç¬¬ä¸€æ¬¡å®‰è£…çš„å¹²å‡€ç³»ç»Ÿé•œåƒï¼Œä½œä¸ºåŸºç¡€é…ç½®æ–‡ä»¶ã€‚</span>
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> dumpxml centos.88 <span class="token operator">></span> /home/vms/centos7.base.xml
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># ä½¿ç”¨åŸºç¡€è™šæ‹Ÿæœºé•œåƒé…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶</span>
</span><span class="code-line line-number" line="5"><span class="token function">cp</span> /home/vms/centos7.base.xml /home/vms/centos7.113.xml
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># ç¼–è¾‘æ–°è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶</span>
</span><span class="code-line line-number" line="8"><span class="token function">vi</span> /home/vms/centos7.113.xml
</span></code><input type="hidden" value="# å¤åˆ¶ç¬¬ä¸€æ¬¡å®‰è£…çš„å¹²å‡€ç³»ç»Ÿé•œåƒï¼Œä½œä¸ºåŸºç¡€é…ç½®æ–‡ä»¶ã€‚
virsh dumpxml centos.88 > /home/vms/centos7.base.xml

# ä½¿ç”¨åŸºç¡€è™šæ‹Ÿæœºé•œåƒé…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶
cp /home/vms/centos7.base.xml /home/vms/centos7.113.xml

# ç¼–è¾‘æ–°è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶
vi /home/vms/centos7.113.xml
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ä¸»è¦æ˜¯ä¿®æ”¹è™šæ‹Ÿæœºæ–‡ä»¶åï¼ŒUUIDï¼Œé•œåƒåœ°å€å’Œç½‘å¡åœ°å€ï¼Œå…¶ä¸­ UUID åœ¨ Linux ä¸‹å¯ä»¥ä½¿ç”¨ <code>uuidgen</code> å‘½ä»¤ç”Ÿæˆ</p>
        <pre class="language-html"><code class="language-html code-highlight"><span class="code-line line-number" line="1"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>domain</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>kvm<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="2">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>name</span><span class="token punctuation">></span></span>centos7.113<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>name</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="3">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>uuid</span><span class="token punctuation">></span></span>1e86167a-33a9-4ce8-929e-58013fbf9122<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>uuid</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="4">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>devices</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="5">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>disk</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>file<span class="token punctuation">'</span></span> <span class="token attr-name">device</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>disk<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="6">      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>source</span> <span class="token attr-name">file</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/home/vms/centos7.113.img<span class="token punctuation">'</span></span><span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="7">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>disk</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="8">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>interface</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>bridge<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="9">      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>mac</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>00:00:00:00:00:04<span class="token punctuation">'</span></span><span class="token punctuation">/></span></span>
</span><span class="code-line line-number" line="10">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>interface</span><span class="token punctuation">></span></span>    
</span><span class="code-line line-number" line="11">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>devices</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="12"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>domain</span><span class="token punctuation">></span></span>
</span></code><input type="hidden" value="<domain type=&#x27;kvm&#x27;>
  <name>centos7.113</name>
  <uuid>1e86167a-33a9-4ce8-929e-58013fbf9122</uuid>
  <devices>
    <disk type=&#x27;file&#x27; device=&#x27;disk&#x27;>
      <source file=&#x27;/home/vms/centos7.113.img&#x27;/>
    </disk>
    <interface type=&#x27;bridge&#x27;>
      <mac address=&#x27;00:00:00:00:00:04&#x27;/>
    </interface>    
    </devices>
</domain>
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> define /home/vms/centos7.113.xml
</span><span class="code-line line-number" line="2"><span class="token comment"># Domain centos.113 defined from /home/vms/centos7.113.xml</span>
</span></code><input type="hidden" value="virsh define /home/vms/centos7.113.xml
# Domain centos.113 defined from /home/vms/centos7.113.xml
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="åŠ¨æ€æ›´æ”¹cpuæ•°é‡å’Œå†…å­˜å¤§å°"><a aria-hidden="true" tabindex="-1" href="#åŠ¨æ€æ›´æ”¹cpuæ•°é‡å’Œå†…å­˜å¤§å°" class="anchor"><span class="icon icon-link"></span></a>åŠ¨æ€æ›´æ”¹cpuæ•°é‡å’Œå†…å­˜å¤§å°</h2>
        <p>åŠ¨æ€è°ƒæ•´ï¼Œå¦‚æœè¶…è¿‡ç»™è™šæ‹Ÿæœºåˆ†é…çš„æœ€å¤§å†…å­˜ï¼Œéœ€è¦é‡å¯è™šæ‹Ÿæœºã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="2"><span class="token comment">#  Id    åç§°                         çŠ¶æ€</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># ----------------------------------------------------</span>
</span><span class="code-line line-number" line="4"><span class="token comment">#  2     working112                     running</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># æ›´æ”¹CPU</span>
</span><span class="code-line line-number" line="7"><span class="token function">virsh</span> setvcpus working112 <span class="token parameter variable">--maximum</span> <span class="token number">4</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="8"><span class="token comment"># æ›´æ”¹å†…å­˜</span>
</span><span class="code-line line-number" line="9"><span class="token function">virsh</span> setmaxmem working112 <span class="token number">1048576</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="10"><span class="token comment"># æŸ¥çœ‹ä¿¡æ¯</span>
</span><span class="code-line line-number" line="11"><span class="token function">virsh</span> dominfo working112
</span></code><input type="hidden" value="virsh list --all
#  Id    åç§°                         çŠ¶æ€
# ----------------------------------------------------
#  2     working112                     running

# æ›´æ”¹CPU
virsh setvcpus working112 --maximum 4 --config
# æ›´æ”¹å†…å­˜
virsh setmaxmem working112 1048576 --config
# æŸ¥çœ‹ä¿¡æ¯
virsh dominfo working112
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="æŒ‚è½½ç£ç›˜"><a aria-hidden="true" tabindex="-1" href="#æŒ‚è½½ç£ç›˜" class="anchor"><span class="icon icon-link"></span></a>æŒ‚è½½ç£ç›˜</h2>
        <h3 id="åˆ›å»ºç£ç›˜"><a aria-hidden="true" tabindex="-1" href="#åˆ›å»ºç£ç›˜" class="anchor"><span class="icon icon-link"></span></a>åˆ›å»ºç£ç›˜</h3>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">mkdir</span> /home/vms
</span></code><input type="hidden" value="mkdir /home/vms
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æŸ¥çœ‹é•œåƒä¿¡æ¯</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">virt-filesystems <span class="token parameter variable">--long</span> <span class="token parameter variable">--parts</span> <span class="token parameter variable">--blkdevs</span> <span class="token parameter variable">-h</span> <span class="token parameter variable">-a</span> working112.qcow2
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token comment"># Name       Type       Size  Parent</span>
</span><span class="code-line line-number" line="4"><span class="token comment"># /dev/sda1  partition  200M  /dev/sda</span>
</span><span class="code-line line-number" line="5"><span class="token comment"># /dev/sda2  partition  9.8G  /dev/sda</span>
</span><span class="code-line line-number" line="6"><span class="token comment"># /dev/sda   device     10G   -</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">qemu-img info working112.qcow2
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># image: working112.qcow2</span>
</span><span class="code-line line-number" line="11"><span class="token comment"># file format: qcow2</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># virtual size: 140G (150323855360 bytes)</span>
</span><span class="code-line line-number" line="13"><span class="token comment"># disk size: 33G</span>
</span><span class="code-line line-number" line="14"><span class="token comment"># cluster_size: 65536</span>
</span><span class="code-line line-number" line="15"><span class="token comment"># Format specific information:</span>
</span><span class="code-line line-number" line="16"><span class="token comment">#     compat: 1.1</span>
</span><span class="code-line line-number" line="17"><span class="token comment">#     lazy refcounts: true</span>
</span></code><input type="hidden" value="virt-filesystems --long --parts --blkdevs -h -a working112.qcow2

# Name       Type       Size  Parent
# /dev/sda1  partition  200M  /dev/sda
# /dev/sda2  partition  9.8G  /dev/sda
# /dev/sda   device     10G   -

qemu-img info working112.qcow2

# image: working112.qcow2
# file format: qcow2
# virtual size: 140G (150323855360 bytes)
# disk size: 33G
# cluster_size: 65536
# Format specific information:
#     compat: 1.1
#     lazy refcounts: true
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ç»™è™šæ‹Ÿæœºé•œåƒæ·»åŠ <code>200G</code>å¤§å°ï¼Œæ³¨æ„éœ€è¦åœæ­¢<code>working112</code>è™šæ‹Ÿæœº</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">qemu-img resize working112.qcow2 +200G
</span><span class="code-line line-number" line="2"><span class="token comment"># Image resized.</span>
</span></code><input type="hidden" value="qemu-img resize working112.qcow2 +200G
# Image resized.
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ¶ä½œå¦‚ä¸‹æ‰€ç¤ºçš„ç£ç›˜çš„å¤‡ä»½å‰¯æœ¬ã€‚</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">cp</span> working112.qcow2 working112-orig.qcow2
</span></code><input type="hidden" value="cp working112.qcow2 working112-orig.qcow2
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>ç„¶åæˆ‘ä»¬è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å¢åŠ  <code>/dev/sda</code></p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">virt-resize <span class="token parameter variable">--expand</span> /dev/sda1 working112-orig.qcow2 working112.qcow2
</span></code><input type="hidden" value="virt-resize --expand /dev/sda1 working112-orig.qcow2 working112.qcow2
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>æŸ¥çœ‹é•œåƒä¿¡æ¯</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">qemu-img info working112.qcow2
</span><span class="code-line line-number" line="2"><span class="token comment"># image: working112.qcow2</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># file format: qcow2</span>
</span><span class="code-line line-number" line="4"><span class="token comment"># virtual size: 140G (150323855360 bytes)</span>
</span><span class="code-line line-number" line="5"><span class="token comment"># disk size: 33G</span>
</span><span class="code-line line-number" line="6"><span class="token comment"># cluster_size: 65536</span>
</span><span class="code-line line-number" line="7"><span class="token comment"># Format specific information:</span>
</span><span class="code-line line-number" line="8"><span class="token comment">#     compat: 1.1</span>
</span><span class="code-line line-number" line="9"><span class="token comment">#     lazy refcounts: true</span>
</span></code><input type="hidden" value="qemu-img info working112.qcow2
# image: working112.qcow2
# file format: qcow2
# virtual size: 140G (150323855360 bytes)
# disk size: 33G
# cluster_size: 65536
# Format specific information:
#     compat: 1.1
#     lazy refcounts: true
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>è¿›å…¥è™šæ‹Ÿæœº<code>virsh console working112</code> æŸ¥çœ‹ä¿¡æ¯ï¼š</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">vgdisplay <span class="token comment"># æ˜¾ç¤ºå·ç»„å¤§å°</span>
</span><span class="code-line line-number" line="2">lvdisplay <span class="token comment"># æ˜¾ç¤ºé€»è¾‘å·å¤§å°</span>
</span></code><input type="hidden" value="vgdisplay # æ˜¾ç¤ºå·ç»„å¤§å°
lvdisplay # æ˜¾ç¤ºé€»è¾‘å·å¤§å°
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å·ç»„å¤§å°å·²å¢åŠ ï¼Œä¸‹é¢éœ€è¦åˆ†é…å®¹é‡ç»™é€»è¾‘å·</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">lvextend <span class="token parameter variable">-L</span> +60G /dev/centos/root
</span></code><input type="hidden" value="lvextend -L +60G /dev/centos/root
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>è¿˜æœ‰æœ€åä¸€æ­¥ï¼Œåˆ†é…å¥½äº†éœ€è¦åšç³»ç»Ÿè°ƒæ•´</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># ext ç³»ç»Ÿæ ¼å¼ä½¿ç”¨ï¼š</span>
</span><span class="code-line line-number" line="2">resize2fs /dev/centos/root
</span><span class="code-line line-number" line="3"><span class="token comment"># xfs ç³»ç»Ÿæ ¼å¼ä½¿ç”¨ä¸‹é¢å‘½ä»¤</span>
</span><span class="code-line line-number" line="4">xfs_growfs /dev/centos/root
</span></code><input type="hidden" value="# ext ç³»ç»Ÿæ ¼å¼ä½¿ç”¨ï¼š
resize2fs /dev/centos/root
# xfs ç³»ç»Ÿæ ¼å¼ä½¿ç”¨ä¸‹é¢å‘½ä»¤
xfs_growfs /dev/centos/root
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å¸¸ç”¨å‘½ä»¤è¯´æ˜"><a aria-hidden="true" tabindex="-1" href="#å¸¸ç”¨å‘½ä»¤è¯´æ˜" class="anchor"><span class="icon icon-link"></span></a>å¸¸ç”¨å‘½ä»¤è¯´æ˜</h2>
        <h3 id="virt-install"><a aria-hidden="true" tabindex="-1" href="#virt-install" class="anchor"><span class="icon icon-link"></span></a>virt-install</h3>
        <p>å¸¸ç”¨å‚æ•°è¯´æ˜</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">â€“nameæŒ‡å®šè™šæ‹Ÿæœºåç§°
</span><span class="code-line line-number" line="2">â€“memoryåˆ†é…å†…å­˜å¤§å°ã€‚
</span><span class="code-line line-number" line="3">â€“vcpusåˆ†é…CPUæ ¸å¿ƒæ•°ï¼Œæœ€å¤§ä¸å®ä½“æœºCPUæ ¸å¿ƒæ•°ç›¸åŒ
</span><span class="code-line line-number" line="4">â€“diskæŒ‡å®šè™šæ‹Ÿæœºé•œåƒï¼ŒsizeæŒ‡å®šåˆ†é…å¤§å°å•ä½ä¸ºGã€‚
</span><span class="code-line line-number" line="5">â€“networkç½‘ç»œç±»å‹ï¼Œæ­¤å¤„ç”¨çš„æ˜¯é»˜è®¤ï¼Œä¸€èˆ¬ç”¨çš„åº”è¯¥æ˜¯bridgeæ¡¥æ¥ã€‚
</span><span class="code-line line-number" line="6">â€“accelerateåŠ é€Ÿ
</span><span class="code-line line-number" line="7">â€“cdromæŒ‡å®šå®‰è£…é•œåƒiso
</span><span class="code-line line-number" line="8">â€“vncå¯ç”¨VNCè¿œç¨‹ç®¡ç†ï¼Œä¸€èˆ¬å®‰è£…ç³»ç»Ÿéƒ½è¦å¯ç”¨ã€‚
</span><span class="code-line line-number" line="9">â€“vncportæŒ‡å®šVNCç›‘æ§ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º5900ï¼Œç«¯å£ä¸èƒ½é‡å¤ã€‚
</span><span class="code-line line-number" line="10">â€“vnclistenæŒ‡å®šVNCç»‘å®šIPï¼Œé»˜è®¤ç»‘å®š127.0.0.1ï¼Œè¿™é‡Œæ”¹ä¸º0.0.0.0ã€‚
</span><span class="code-line line-number" line="11">â€“os-type<span class="token operator">=</span>linux,windows
</span><span class="code-line line-number" line="12">â€“os-variant<span class="token operator">=</span>rhel6
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token parameter variable">--name</span>      æŒ‡å®šè™šæ‹Ÿæœºåç§°
</span><span class="code-line line-number" line="15"><span class="token parameter variable">--ram</span>       è™šæ‹Ÿæœºå†…å­˜å¤§å°ï¼Œä»¥ MB ä¸ºå•ä½
</span><span class="code-line line-number" line="16"><span class="token parameter variable">--vcpus</span>     åˆ†é…CPUæ ¸å¿ƒæ•°ï¼Œæœ€å¤§ä¸å®ä½“æœºCPUæ ¸å¿ƒæ•°ç›¸åŒ
</span><span class="code-line line-number" line="17">â€“-vnc       å¯ç”¨VNCè¿œç¨‹ç®¡ç†ï¼Œä¸€èˆ¬å®‰è£…ç³»ç»Ÿéƒ½è¦å¯ç”¨ã€‚
</span><span class="code-line line-number" line="18">â€“-vncport   æŒ‡å®šVNCç›‘æ§ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º5900ï¼Œç«¯å£ä¸èƒ½é‡å¤ã€‚
</span><span class="code-line line-number" line="19">â€“-vnclisten  æŒ‡å®šVNCç»‘å®šIPï¼Œé»˜è®¤ç»‘å®š127.0.0.1ï¼Œè¿™é‡Œæ”¹ä¸º0.0.0.0ã€‚
</span><span class="code-line line-number" line="20"><span class="token parameter variable">--network</span>   è™šæ‹Ÿæœºç½‘ç»œé…ç½®
</span><span class="code-line line-number" line="21">  <span class="token comment"># å…¶ä¸­å­é€‰é¡¹ï¼Œbridge=br0 æŒ‡å®šæ¡¥æ¥ç½‘å¡çš„åç§°ã€‚</span>
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23">â€“os-type<span class="token operator">=</span>linux,windows
</span><span class="code-line line-number" line="24">â€“os-variant<span class="token operator">=</span>rhel7.2
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26"><span class="token parameter variable">--disk</span> æŒ‡å®šè™šæ‹Ÿæœºçš„ç£ç›˜å­˜å‚¨ä½ç½®
</span><span class="code-line line-number" line="27">  <span class="token comment"># sizeï¼Œåˆå§‹ç£ç›˜å¤§å°ï¼Œä»¥ GB ä¸ºå•ä½ã€‚</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token parameter variable">--location</span> æŒ‡å®šå®‰è£…ä»‹è´¨è·¯å¾„ï¼Œå¦‚å…‰ç›˜é•œåƒçš„æ–‡ä»¶è·¯å¾„ã€‚
</span><span class="code-line line-number" line="30"><span class="token parameter variable">--graphics</span> å›¾å½¢åŒ–æ˜¾ç¤ºé…ç½®
</span><span class="code-line line-number" line="31">  <span class="token comment"># å…¨æ–°å®‰è£…è™šæ‹Ÿæœºè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šäº¤äº’æ“ä½œï¼Œæ¯”å¦‚è®¾ç½®è¯­è¨€ï¼Œåˆå§‹åŒ– root å¯†ç ç­‰ç­‰ã€‚</span>
</span><span class="code-line line-number" line="32">  <span class="token comment"># graphics é€‰é¡¹çš„ä½œç”¨å°±æ˜¯é…ç½®å›¾å½¢åŒ–çš„äº¤äº’æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨ vncï¼ˆä¸€ç§è¿œç¨‹æ¡Œé¢è½¯ä»¶ï¼‰è¿›è¡Œé“¾æ¥ã€‚</span>
</span><span class="code-line line-number" line="33">  <span class="token comment"># æˆ‘ä»¬è¿™åˆ—ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼å®‰è£…ï¼Œæ‰€ä»¥è¿™é‡Œè¦è®¾ç½®ä¸º noneï¼Œä½†è¦é€šè¿‡ --extra-args é€‰é¡¹æŒ‡å®šç»ˆç«¯ä¿¡æ¯ï¼Œ</span>
</span><span class="code-line line-number" line="34">  <span class="token comment"># è¿™æ ·æ‰èƒ½å°†å®‰è£…è¿‡ç¨‹ä¸­çš„äº¤äº’ä¿¡æ¯è¾“å‡ºåˆ°å½“å‰æ§åˆ¶å°ã€‚</span>
</span><span class="code-line line-number" line="35">--extra-args æ ¹æ®ä¸åŒçš„å®‰è£…æ–¹å¼è®¾ç½®ä¸åŒçš„é¢å¤–é€‰é¡¹
</span></code><input type="hidden" value="â€“nameæŒ‡å®šè™šæ‹Ÿæœºåç§°
â€“memoryåˆ†é…å†…å­˜å¤§å°ã€‚
â€“vcpusåˆ†é…CPUæ ¸å¿ƒæ•°ï¼Œæœ€å¤§ä¸å®ä½“æœºCPUæ ¸å¿ƒæ•°ç›¸åŒ
â€“diskæŒ‡å®šè™šæ‹Ÿæœºé•œåƒï¼ŒsizeæŒ‡å®šåˆ†é…å¤§å°å•ä½ä¸ºGã€‚
â€“networkç½‘ç»œç±»å‹ï¼Œæ­¤å¤„ç”¨çš„æ˜¯é»˜è®¤ï¼Œä¸€èˆ¬ç”¨çš„åº”è¯¥æ˜¯bridgeæ¡¥æ¥ã€‚
â€“accelerateåŠ é€Ÿ
â€“cdromæŒ‡å®šå®‰è£…é•œåƒiso
â€“vncå¯ç”¨VNCè¿œç¨‹ç®¡ç†ï¼Œä¸€èˆ¬å®‰è£…ç³»ç»Ÿéƒ½è¦å¯ç”¨ã€‚
â€“vncportæŒ‡å®šVNCç›‘æ§ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º5900ï¼Œç«¯å£ä¸èƒ½é‡å¤ã€‚
â€“vnclistenæŒ‡å®šVNCç»‘å®šIPï¼Œé»˜è®¤ç»‘å®š127.0.0.1ï¼Œè¿™é‡Œæ”¹ä¸º0.0.0.0ã€‚
â€“os-type=linux,windows
â€“os-variant=rhel6

--name      æŒ‡å®šè™šæ‹Ÿæœºåç§°
--ram       è™šæ‹Ÿæœºå†…å­˜å¤§å°ï¼Œä»¥ MB ä¸ºå•ä½
--vcpus     åˆ†é…CPUæ ¸å¿ƒæ•°ï¼Œæœ€å¤§ä¸å®ä½“æœºCPUæ ¸å¿ƒæ•°ç›¸åŒ
â€“-vnc       å¯ç”¨VNCè¿œç¨‹ç®¡ç†ï¼Œä¸€èˆ¬å®‰è£…ç³»ç»Ÿéƒ½è¦å¯ç”¨ã€‚
â€“-vncport   æŒ‡å®šVNCç›‘æ§ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º5900ï¼Œç«¯å£ä¸èƒ½é‡å¤ã€‚
â€“-vnclisten  æŒ‡å®šVNCç»‘å®šIPï¼Œé»˜è®¤ç»‘å®š127.0.0.1ï¼Œè¿™é‡Œæ”¹ä¸º0.0.0.0ã€‚
--network   è™šæ‹Ÿæœºç½‘ç»œé…ç½®
  # å…¶ä¸­å­é€‰é¡¹ï¼Œbridge=br0 æŒ‡å®šæ¡¥æ¥ç½‘å¡çš„åç§°ã€‚

â€“os-type=linux,windows
â€“os-variant=rhel7.2

--disk æŒ‡å®šè™šæ‹Ÿæœºçš„ç£ç›˜å­˜å‚¨ä½ç½®
  # sizeï¼Œåˆå§‹ç£ç›˜å¤§å°ï¼Œä»¥ GB ä¸ºå•ä½ã€‚

--location æŒ‡å®šå®‰è£…ä»‹è´¨è·¯å¾„ï¼Œå¦‚å…‰ç›˜é•œåƒçš„æ–‡ä»¶è·¯å¾„ã€‚
--graphics å›¾å½¢åŒ–æ˜¾ç¤ºé…ç½®
  # å…¨æ–°å®‰è£…è™šæ‹Ÿæœºè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šäº¤äº’æ“ä½œï¼Œæ¯”å¦‚è®¾ç½®è¯­è¨€ï¼Œåˆå§‹åŒ– root å¯†ç ç­‰ç­‰ã€‚
  # graphics é€‰é¡¹çš„ä½œç”¨å°±æ˜¯é…ç½®å›¾å½¢åŒ–çš„äº¤äº’æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨ vncï¼ˆä¸€ç§è¿œç¨‹æ¡Œé¢è½¯ä»¶ï¼‰è¿›è¡Œé“¾æ¥ã€‚
  # æˆ‘ä»¬è¿™åˆ—ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼å®‰è£…ï¼Œæ‰€ä»¥è¿™é‡Œè¦è®¾ç½®ä¸º noneï¼Œä½†è¦é€šè¿‡ --extra-args é€‰é¡¹æŒ‡å®šç»ˆç«¯ä¿¡æ¯ï¼Œ
  # è¿™æ ·æ‰èƒ½å°†å®‰è£…è¿‡ç¨‹ä¸­çš„äº¤äº’ä¿¡æ¯è¾“å‡ºåˆ°å½“å‰æ§åˆ¶å°ã€‚
--extra-args æ ¹æ®ä¸åŒçš„å®‰è£…æ–¹å¼è®¾ç½®ä¸åŒçš„é¢å¤–é€‰é¡¹
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="virsh"><a aria-hidden="true" tabindex="-1" href="#virsh" class="anchor"><span class="icon icon-link"></span></a>virsh</h3>
        <p>åŸºç¡€å‘½ä»¤</p>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">virsh</span> list <span class="token parameter variable">--all</span>           <span class="token comment"># æŸ¥çœ‹æ‰€æœ‰è¿è¡Œå’Œæ²¡æœ‰è¿è¡Œçš„è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="2"><span class="token function">virsh</span> list                 <span class="token comment"># æŸ¥çœ‹åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="3"><span class="token function">virsh</span> dumpxml vm-name      <span class="token comment"># æŸ¥çœ‹kvmè™šæ‹Ÿæœºé…ç½®æ–‡ä»¶</span>
</span><span class="code-line line-number" line="4"><span class="token function">virsh</span> start vm-name        <span class="token comment"># å¯åŠ¨kvmè™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="5"><span class="token function">virsh</span> <span class="token function">shutdown</span> vm-name     <span class="token comment"># æ­£å¸¸å…³æœº</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token function">virsh</span> destroy vm-name      <span class="token comment"># éæ­£å¸¸å…³æœºï¼Œå¼ºåˆ¶å…³é—­è™šæ‹Ÿæœºï¼ˆç›¸å½“äºç‰©ç†æœºç›´æ¥æ‹”æ‰ç”µæºï¼‰</span>
</span><span class="code-line line-number" line="8"><span class="token function">virsh</span> undefine vm-name     <span class="token comment"># åˆ é™¤vmçš„é…ç½®æ–‡ä»¶</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token function">ls</span> /etc/libvirt/qemu
</span><span class="code-line line-number" line="11"><span class="token comment"># æŸ¥çœ‹åˆ é™¤ç»“æœï¼ŒCentos-6.6çš„é…ç½®æ–‡ä»¶è¢«åˆ é™¤ï¼Œä½†ç£ç›˜æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token function">virsh</span> define file-name.xml <span class="token comment"># æ ¹æ®é…ç½®æ–‡ä»¶å®šä¹‰è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="14"><span class="token function">virsh</span> <span class="token function">suspend</span> vm-name      <span class="token comment"># æŒ‚èµ·ï¼Œç»ˆæ­¢</span>
</span><span class="code-line line-number" line="15"><span class="token function">virsh</span> resumed vm-name      <span class="token comment"># æ¢å¤è¢«æŒ‚èµ·çš„è™šæ‹Ÿæœº</span>
</span><span class="code-line line-number" line="16"><span class="token function">virsh</span> autostart vm-name    <span class="token comment"># å¼€æœºè‡ªå¯åŠ¨vm</span>
</span><span class="code-line line-number" line="17"><span class="token function">virsh</span> console <span class="token operator">&#x3C;</span>è™šæ‹Ÿæœºåç§°<span class="token operator">></span>   <span class="token comment"># è¿æ¥è™šæ‹Ÿæœº</span>
</span></code><input type="hidden" value="virsh list --all           # æŸ¥çœ‹æ‰€æœ‰è¿è¡Œå’Œæ²¡æœ‰è¿è¡Œçš„è™šæ‹Ÿæœº
virsh list                 # æŸ¥çœ‹åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº
virsh dumpxml vm-name      # æŸ¥çœ‹kvmè™šæ‹Ÿæœºé…ç½®æ–‡ä»¶
virsh start vm-name        # å¯åŠ¨kvmè™šæ‹Ÿæœº
virsh shutdown vm-name     # æ­£å¸¸å…³æœº

virsh destroy vm-name      # éæ­£å¸¸å…³æœºï¼Œå¼ºåˆ¶å…³é—­è™šæ‹Ÿæœºï¼ˆç›¸å½“äºç‰©ç†æœºç›´æ¥æ‹”æ‰ç”µæºï¼‰
virsh undefine vm-name     # åˆ é™¤vmçš„é…ç½®æ–‡ä»¶

ls /etc/libvirt/qemu
# æŸ¥çœ‹åˆ é™¤ç»“æœï¼ŒCentos-6.6çš„é…ç½®æ–‡ä»¶è¢«åˆ é™¤ï¼Œä½†ç£ç›˜æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤

virsh define file-name.xml # æ ¹æ®é…ç½®æ–‡ä»¶å®šä¹‰è™šæ‹Ÿæœº
virsh suspend vm-name      # æŒ‚èµ·ï¼Œç»ˆæ­¢
virsh resumed vm-name      # æ¢å¤è¢«æŒ‚èµ·çš„è™šæ‹Ÿæœº
virsh autostart vm-name    # å¼€æœºè‡ªå¯åŠ¨vm
virsh console <è™šæ‹Ÿæœºåç§°>   # è¿æ¥è™šæ‹Ÿæœº
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="é”™è¯¯è§£å†³"><a aria-hidden="true" tabindex="-1" href="#é”™è¯¯è§£å†³" class="anchor"><span class="icon icon-link"></span></a>é”™è¯¯è§£å†³</h2>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">console <span class="token builtin class-name">test</span>
</span><span class="code-line line-number" line="2">Connected to domain <span class="token builtin class-name">test</span>
</span><span class="code-line line-number" line="3">Escape character is ^<span class="token punctuation">]</span>
</span></code><input type="hidden" value="console test
Connected to domain test
Escape character is ^]
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>å¦‚æœå‡ºç°ä¸Šé¢å­—ç¬¦ä¸²ä½¿ç”¨ <kbd>CTRL+Shift+5</kbd> <kbd>CTRL+Shift+]</kbd></p>
        <ol>
          <li>
            <p>
              ERROR Format cannot be specified for unmanaged storage.
              virt-manager æ²¡æœ‰æ‰¾åˆ°å­˜å‚¨æ± ï¼Œåˆ›å»ºå‚¨å­˜æ± å³å¯
            </p>
          </li>
          <li>
            <p>
              KVM VNCå®¢æˆ·ç«¯è¿æ¥é—ªé€€
              ä½¿ç”¨real vncæˆ–è€…å…¶å®ƒvncå®¢æˆ·ç«¯è¿æ¥kvmé—ªé€€ï¼ŒæŠŠå®¢æˆ·ç«¯è®¾ç½®ä¸­çš„ColourLevelå€¼è®¾ç½®ä¸ºrgb222æˆ–fullå³å¯
            </p>
          </li>
          <li>
            <p>virsh shutdown 
              <domain>
                æ— æ³•å…³é—­è™šæ‹Ÿæœº
                ä½¿ç”¨è¯¥å‘½ä»¤å…³é—­è™šæ‹Ÿæœºæ—¶ï¼ŒKVMæ˜¯å‘è™šæ‹Ÿæœºå‘é€ä¸€ä¸ªACPIçš„æŒ‡ä»¤ï¼Œéœ€è¦è™šæ‹Ÿæœºå®‰è£…acpidæœåŠ¡ï¼š
              </domain>
            </p>
          </li>
          <li>
            <p>operation failed: Active console session exists for this domain</p>
          </li>
        </ol>
        <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æ–¹æ¡ˆ1</span>
</span><span class="code-line line-number" line="2">$ <span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> console
</span><span class="code-line line-number" line="3">$ <span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token operator">&#x3C;</span>è¿›ç¨‹å·<span class="token operator">></span>
</span><span class="code-line line-number" line="4"><span class="token comment"># æ–¹æ¡ˆ2</span>
</span><span class="code-line line-number" line="5">$ /etc/init.d/libvirt-bin restart
</span><span class="code-line line-number" line="6"><span class="token comment"># æ–¹æ¡ˆ3</span>
</span><span class="code-line line-number" line="7">$ <span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> kvm
</span><span class="code-line line-number" line="8">$ <span class="token function">kill</span> å¯¹åº”çš„è™šæ‹Ÿæœºè¿›ç¨‹
</span></code><input type="hidden" value="# æ–¹æ¡ˆ1
$ ps aux | grep console
$ kill -9 <è¿›ç¨‹å·>
# æ–¹æ¡ˆ2
$ /etc/init.d/libvirt-bin restart
# æ–¹æ¡ˆ3
$ ps aux | grep kvm
$ kill å¯¹åº”çš„è™šæ‹Ÿæœºè¿›ç¨‹
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="å‚è€ƒæ–‡ç« "><a aria-hidden="true" tabindex="-1" href="#å‚è€ƒæ–‡ç« " class="anchor"><span class="icon icon-link"></span></a>å‚è€ƒæ–‡ç« </h2>
        <ul>
          <li><a href="https://www.linux-kvm.org/page/Main_Page">KVMå®˜æ–¹ç½‘ç«™</a></li>
          <li><a href="http://www.cnblogs.com/ilanni/p/3878151.html">KVMè™šæ‹ŸæœºLinuxç³»ç»Ÿå¢åŠ ç¡¬ç›˜</a></li>
          <li><a href="https://www.ibm.com/support/knowledgecenter/zh/linuxonibm/liaat/liaatvirtinstalloptions.htm">virt-install å‘½ä»¤å‚æ•°è¯¦è§£</a></li>
          <li><a href="https://raymii.org/s/articles/virt-install_introduction_and_copy_paste_distro_install_commands.html">ä½¿ç”¨virt-installå®‰è£…è™šæ‹Ÿæœºï¼Œå‘è¡Œç‰ˆå®‰è£…ä»£ç ç›´æ¥å¤åˆ¶è¿è¡Œ</a></li>
          <li><a href="http://blog.oneiroi.co.uk/linux/kvm/virt-resize/RHEL/LVM/kvm-linux-expanding-a-lvm-guest-file-system-using-virt-resize/">KVM Linux - Expanding a Guest LVM File System Using Virt-resize</a></li>
        </ul>
        <div class="previous"><a class="prev" href="å¸¸ç”¨åŸºç¡€å‘½ä»¤.html"><svg viewBox="0 0 1024 1024" width="16" height="16" fill="currentColor">
              <path d="M842.666667 864c-8.533333 0-14.933333-2.133333-21.333334-8.533333l-341.333333-309.333334c-6.4-6.4-10.666667-14.933333-10.666667-23.466666 0-8.533333 4.266667-17.066667 10.666667-23.466667l341.333333-309.333333c12.8-12.8 34.133333-10.666667 44.8 2.133333 12.8 12.8 10.666667 34.133333-2.133333 44.8L548.266667 522.666667l315.733333 285.866666c12.8 10.666667 14.933333 32 2.133333 44.8-6.4 6.4-14.933333 10.666667-23.466666 10.666667z"></path>
              <path d="M512 864c-8.533333 0-14.933333-2.133333-21.333333-8.533333L149.333333 546.133333c-6.4-6.4-10.666667-14.933333-10.666666-23.466666 0-8.533333 4.266667-17.066667 10.666666-23.466667L490.666667 189.866667c12.8-12.8 34.133333-10.666667 44.8 2.133333 12.8 12.8 10.666667 34.133333-2.133334 44.8L217.6 522.666667 533.333333 808.533333c12.8 12.8 14.933333 32 2.133334 44.8-6.4 6.4-14.933333 10.666667-23.466667 10.666667z"></path>
            </svg>
<span>å¸¸ç”¨åŸºç¡€å‘½ä»¤
</span></a><a class="next" href="CentOS7æ›´æ¢yumè½¯ä»¶é•œåƒæº.html"><span>æ›´æ¢ yum è½¯ä»¶é•œåƒæº
</span><svg viewBox="0 0 1024 1024" width="16" height="16" fill="currentColor">
              <path d="M544 522.666667c0-8.533333-4.266667-17.066667-10.666667-23.466667L192 189.866667c-12.8-12.8-34.133333-10.666667-44.8 2.133333-12.8 12.8-10.666667 34.133333 2.133333 44.8l315.733334 285.866667L149.333333 808.533333c-12.8 12.8-14.933333 32-2.133333 44.8 6.4 6.4 14.933333 10.666667 23.466667 10.666667 8.533333 0 14.933333-2.133333 21.333333-8.533333l341.333333-309.333334c6.4-6.4 10.666667-14.933333 10.666667-23.466666z"></path>
              <path d="M864 499.2l-341.333333-309.333333c-12.8-12.8-34.133333-10.666667-44.8 2.133333-12.8 12.8-10.666667 34.133333 2.133333 44.8l315.733333 285.866667-315.733333 285.866666c-12.8 12.8-14.933333 32-2.133333 44.8 6.4 6.4 14.933333 10.666667 23.466666 10.666667 8.533333 0 14.933333-2.133333 21.333334-8.533333l341.333333-309.333334c6.4-6.4 10.666667-14.933333 10.666667-23.466666 0-8.533333-4.266667-17.066667-10.666667-23.466667z"></path>
            </svg></a></div>
        <section class="article-footer"><a href="https://github.com/jaywcjlove/handbook/blob/master/docs/CentOS/CentOS7å®‰è£…KVMè™šæ‹Ÿæœºè¯¦è§£.md" class="edit-button" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
<span>Edit this page on GitHub</span>
</a><span class="atime">2023/08/07</span></section>
      </markdown-style>
      <nav class="tocs">
        <aside class="inner toc">
          <ol class="tocs-list">
            <li><a href="#æ£€æµ‹æ˜¯å¦æ”¯æŒkvm" class="tocs-link">æ£€æµ‹æ˜¯å¦æ”¯æŒKVM</a></li>
            <li><a href="#å®‰è£…-kvm-ç¯å¢ƒ" class="tocs-link">å®‰è£… KVM ç¯å¢ƒ</a></li>
            <li><a href="#å®‰è£…è™šæ‹Ÿæœº" class="tocs-link">å®‰è£…è™šæ‹Ÿæœº</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#å‘½ä»¤è¡Œé…ç½®ç³»ç»Ÿ" class="tocs-link">å‘½ä»¤è¡Œé…ç½®ç³»ç»Ÿ</a></li>
                <li><a href="#è¿æ¥è™šæ‹Ÿæœº" class="tocs-link">è¿æ¥è™šæ‹Ÿæœº</a></li>
                <li><a href="#è™šæ‹Ÿæœºå…¶å®ƒç®¡ç†" class="tocs-link">è™šæ‹Ÿæœºå…¶å®ƒç®¡ç†</a></li>
              </ol>
            </li>
            <li><a href="#é…ç½®ç‰©ç†æœºç½‘ç»œ" class="tocs-link">é…ç½®ç‰©ç†æœºç½‘ç»œ</a></li>
            <li><a href="#ç«¯å£è½¬å‘" class="tocs-link">ç«¯å£è½¬å‘</a></li>
            <li><a href="#å…¬ç½‘è®¿é—®è™šæ‹Ÿæœº" class="tocs-link">å…¬ç½‘è®¿é—®è™šæ‹Ÿæœº</a></li>
            <li><a href="#é…ç½®å®¿ä¸»æœºç½‘ç»œ" class="tocs-link">é…ç½®å®¿ä¸»æœºç½‘ç»œ</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#bridgeæ¨¡å¼é…ç½®" class="tocs-link">Bridgeæ¨¡å¼é…ç½®</a></li>
                <li><a href="#natæ¨¡å¼" class="tocs-link">NATæ¨¡å¼</a></li>
                <li><a href="#è‡ªå®šä¹‰natç½‘ç»œ" class="tocs-link">è‡ªå®šä¹‰NATç½‘ç»œ</a></li>
                <li><a href="#é€€å‡ºè™šæ‹Ÿæœº" class="tocs-link">é€€å‡ºè™šæ‹Ÿæœº</a></li>
              </ol>
            </li>
            <li><a href="#ä¿®æ”¹è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯" class="tocs-link">ä¿®æ”¹è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯</a></li>
            <li><a href="#å…‹éš†è™šæ‹Ÿæœº" class="tocs-link">å…‹éš†è™šæ‹Ÿæœº</a></li>
            <li><a href="#é€šè¿‡é•œåƒåˆ›å»ºè™šæ‹Ÿæœº" class="tocs-link">é€šè¿‡é•œåƒåˆ›å»ºè™šæ‹Ÿæœº</a></li>
            <li><a href="#åŠ¨æ€æ›´æ”¹cpuæ•°é‡å’Œå†…å­˜å¤§å°" class="tocs-link">åŠ¨æ€æ›´æ”¹cpuæ•°é‡å’Œå†…å­˜å¤§å°</a></li>
            <li><a href="#æŒ‚è½½ç£ç›˜" class="tocs-link">æŒ‚è½½ç£ç›˜</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#åˆ›å»ºç£ç›˜" class="tocs-link">åˆ›å»ºç£ç›˜</a></li>
              </ol>
            </li>
            <li><a href="#å¸¸ç”¨å‘½ä»¤è¯´æ˜" class="tocs-link">å¸¸ç”¨å‘½ä»¤è¯´æ˜</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#virt-install" class="tocs-link">virt-install</a></li>
                <li><a href="#virsh" class="tocs-link">virsh</a></li>
              </ol>
            </li>
            <li><a href="#é”™è¯¯è§£å†³" class="tocs-link">é”™è¯¯è§£å†³</a></li>
            <li><a href="#å‚è€ƒæ–‡ç« " class="tocs-link">å‚è€ƒæ–‡ç« </a></li>
          </ol>
        </aside>
      </nav>
    </div>
    <script src="../js/demo-preview.js?v=1.26.6"></script>
    <div class="footer warpper">Released under the MIT License. Copyright Â© 2022 Kenny Wong<br>Generated by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a> v1.26.6</div>
    <script src="../js/tocbot.js?v=1.26.6"></script>
  </body>
</html>
